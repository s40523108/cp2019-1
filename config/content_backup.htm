<h1>About</h1>
<h4>課程工具套件:</h4>
<p style="padding-left: 30px;">倉儲: <a href="https://github.com/mdecourse/cp2019">https://github.com/mdecourse/cp2019</a></p>
<p style="padding-left: 30px;"><a href="https://mde.tw/dartpad">https://mde.tw/dartpad</a> </p>
<p style="padding-left: 30px;"><a href="https://drive.google.com/file/d/1lNCUsmRtsl5K128Oa2lbN2ZmriXynrQP/view?usp=sharing">dartpad_based.7z</a> (登入 @gm 帳號後下載, 210 MB 解開壓縮後約 900 MB)</p>
<p style="padding-left: 30px;"><a href="https://drive.google.com/file/d/1oUbvEWYbWAZM6nIfhQqC8oCcb9fcCJ5F/view?usp=sharing">GitExtensions.7z</a></p>
<p style="padding-left: 30px;">登入 @gm 帳號後, <a href="https://drive.google.com/drive/folders/1Ol8wJliQOn5okkGrdWauP1HC_DhwHTG4?usp=sharing">下載 Dart for begineer video</a></p>
<p style="padding-left: 30px;">登入  @gm 帳號後, <a href="https://drive.google.com/drive/folders/1T9wwCC6X0uW4T2yWFFk8t97HScIATKRG?usp=sharing">下載上課教學影片</a></p>
<p>請登入 @gm 帳號後, <a href="https://forms.gle/NhyRQTxCUSqQBH3n7">填寫選課學員基本資料</a></p>
<h4><span><a href="https://drive.google.com/open?id=1cZFSsLEoGOBYojzKzFEf4YH2l--pbS-9"></a></span>電腦輔助設計室與協同設計室行事曆</h4>
<p><a href="https://calendar.google.com/calendar/embed?src=mde.nfu.edu.tw_3439313938333136353439%40resource.calendar.google.com&amp;ctz=Asia%2FTaipei&amp;mode=week&amp;src=mde.nfu.edu.tw_35303530373431313438%40resource.calendar.google.com&amp;ctz=Asia%2FTaipei">全頁檢視</a></p>
<p><iframe height="600" src="https://calendar.google.com/calendar/embed?src=mde.nfu.edu.tw_3439313938333136353439%40resource.calendar.google.com&amp;ctz=Asia%2FTaipei&amp;mode=week&amp;src=mde.nfu.edu.tw_35303530373431313438%40resource.calendar.google.com&amp;ctz=Asia%2FTaipei" width="800"></iframe></p>
<h4>2019 Fall 學期教育目標:</h4>
<p>使用可攜程式系統、網際內容管理系統與 Github, 管理各學員與分組學習內容, 同時利用 Dart 程式語言, 設法打造可用於電腦輔助機械設計流程的工具.</p>
<h4>參考書:</h4>
<p style="padding-left: 30px;">1. Dart for Absolute Beginners (2014)</p>
<p style="padding-left: 60px;"><a href="https://link.springer.com/book/10.1007/978-1-4302-6482-8">https://link.springer.com/book/10.1007/978-1-4302-6482-8</a></p>
<p style="padding-left: 30px;">2. Practical Flutter (2019)</p>
<p style="padding-left: 60px;"><a href="https://link.springer.com/book/10.1007/978-1-4842-4972-7">https://link.springer.com/book/10.1007/978-1-4842-4972-7</a></p>
<p style="padding-left: 30px;">3. 登入 @gm Email 帳號後, <a href="https://drive.google.com/file/d/1tGZhw-UZLTiuyonuTVWr1MPLljMynUHk/view?usp=sharing">下載計算機程式課程參考書</a></p>
<h4>達成學期教育目標之評量方式與標準:</h4>
<p>評分比例 <span>(包含學員自評、同組互評與教師評分等三項):</span></p>
<hr/>
<p><span>請注意:</span></p>
<ol>
<li style="padding-left: 30px;"><span>建議各學員針對課程所指定之作業或課題時, 務必先在個人網頁與網誌登錄相關搜尋結果, 初步完成之個人操作影片, 以及個人擬解決問題的想法後, 再參與分組討論與任務執行.</span></li>
<li style="padding-left: 30px;"><span>除第一週外, 每位組員必須在次週上課前完成個人倉儲的資料維護, 並至<a href="https://forms.gle/hztfjHLkrAaLyntv6">課程評量表單</a>完成自評與同組組員互評.</span></li>
<li style="padding-left: 30px;"><span>任何課程相關問題可以至 <a href="https://github.com/mdecourse/cp2019/issues/4">Q&amp;A</a> (需登入) 或<a href="https://forms.gle/39mqLTmso6JfHuD27">回饋表單</a> (無需登入) 提出.</span></li>
</ol>
<hr/>
<p style="padding-left: 30px;">學員出席 (10%)</p>
<p style="padding-left: 30px;">Github 倉儲與網站管理  (20%)</p>
<p style="padding-left: 30px;">任務執行 (40%)</p>
<p style="padding-left: 60px;">亂數分組與應用</p>
<p style="padding-left: 60px;">靜態繪圖與應用</p>
<p style="padding-left: 60px;"><span>動態繪圖與應用</span></p>
<p style="padding-left: 30px;">程式開發 (30%)</p>
<p>評分方式:</p>
<p style="padding-left: 30px;">計算機程式每週自評與互評表單:<span> <a href="https://forms.gle/hztfjHLkrAaLyntv6">https://forms.gle/hztfjHLkrAaLyntv6</a></span></p>
<p>教學方式:</p>
<p style="padding-left: 30px;">課堂講授</p>
<p style="padding-left: 30px;">操作錄影</p>
<p style="padding-left: 30px;">學員實習</p>
<p style="padding-left: 30px;">分組報告</p><h2>課程簡介</h2>
<p><iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen" frameborder="0" height="315" src="https://www.youtube.com/embed/6ktWkyQvIQU" width="560"></iframe></p>
<p>說明課程進行方式:</p>
<p style="padding-left: 30px;">實際操作示範並利用 <a href="https://getsharex.com/">ShareX</a> 拍攝成 mp4 供學員參考</p>
<p style="padding-left: 30px;">學員將上課操作影片整理成帶字幕 (透過 <a href="http://www.aegisub.org/">Aegisub</a>, <a href="http://www.avidemux.org/nightly/win64_support/">Avidemux</a>, 以及 <a href="https://www.openshot.org/">Openshot</a>) 的教學影片, 並嵌入個人網頁</p>
<p style="padding-left: 30px;">每週提供助教時間 (週四晚上 19:30-21:30), 可執行上機練習、磁區內容重整與學員問題解答</p>
<p style="padding-left: 30px;">分組解決指定問題時, 分為組員個人之心得整理, 與所有組員協同研討之結論</p>
<p>評分方式:</p>
<p style="padding-left: 30px;">依照組員自評、互評與教師評分綜合進行計分</p>
<p>課程目標:</p>
<p style="padding-left: 30px;"><span>使用可攜程式系統、網際內容管理系統與 Github, 管理各學員與分組學習內容, 同時利用 Dart 程式語言, 設法打造可用於電腦輔助機械設計流程的工具.</span></p>
<p><span>網路連線:</span></p>
<p style="padding-left: 30px;"><span>為了能夠利用廣域網路搜尋資料, 進行協同設計, 各學員在電腦輔助設計室使用電腦, 最重要的設定除了開機就是上網.</span></p>
<p style="padding-left: 30px;"><span>由於 IPv4 協定的網路連線受限於單一外部 IPv4 位址的限制, 導致上網頻寬受到限制, 因此在儘可能的情況下, 將使用 IPv6 協定上網. (<a href="/downloads/認識IPv4與IPv6的差異.pdf">IPv4 與 IPv6 網路協定差異.pdf</a>, <a href="https://www.ibm.com/support/knowledgecenter/zh-tw/ssw_ibm_i_71/rzai2/rzai2compipv4ipv6.htm">比較 IPv4 與 IPv6</a>)</span></p>
<p style="padding-left: 30px;">儘管透過純 IPv6 協定上網有許多好處, 但是部分網站 (例如: <a href="https://github.com">https://github.com</a>) 尚未支援 IPv6 協定連線, 因此在電腦輔助設計室以純 IPv6 協定上網後, 必須根據各種不同的連線協定 (例如: 瀏覽器的 html 協定, python pip 模組安裝, git http 與 git ssh 連線) 設定不同的雙支援代理主機.</p>
<p style="padding-left: 30px;">另外, 在各組員獨立開發程式的過程, 可以全程在單機環境與區域網路連線下利用 <a href="https://www.virtualbox.org/">Virtualbox</a> 虛擬主機模擬遠端伺服器的情況下執行各項任務, 以 <a href="https://fossil-scm.org">Fossil SCM</a> 代替 Github  進行分散式版次管理, 只有在需要將所完成的倉儲版本送到 Github  時才需要連線上廣域網路.</p>
<p><span>程式開發架構:</span></p>
<p style="padding-left: 30px;"><span>利用  <a href="https://www.virtualbox.org/">Virtualbox</a> 安裝 pyslvs, uwsgi, fossil_scm 以及 squid 伺服器的 <a href="https://drive.google.com/open?id=1YnOxs0q95JcSSx2XABNNQ1S4k8qw8Vjk">Ubuntu 18.04.vdi 下載</a><span> (12GB) 後, 就可以在 Windows 10 環境下配置虛擬的 <a href="https://github.com/mdecourse/cmsimde">CMSiMDE</a> 動態主機、<a href="https://fossil-scm.org">Fossil SCM</a> 伺服器、<a href="https://github.com/KmolYuan/Pyslvs-UI">Pyslvs</a> 、<a href="http://www.coppeliarobotics.com/">V-rep</a> 、<a href="https://cyberbotics.com/">Webots</a> 套件與 <a href="http://www.squid-cache.org/">Squid</a> 代理主機.</span></span></p>
<p style="padding-left: 30px;"><span><span>此一架構的程式開發標的, 即是要結合近端的瀏覽器、手機、平板介面與各種伺服器, 整合成一套機電資軟硬體系統, 前端的程式套件主要利用 <a href="https://dart.dev/">Dart</a> 開發, 負責擷取設計參數 (包含文字與數字內容, 以及靜態與動態影像等), 而後端的伺服器則包含 C/C++/Python (<a href="https://cython.org/">Cython</a>) 程式所開發的 CAD/CAE/CAM 機械設計運算核心.  透過數學運算與機械設計製造原理分析後, 將結果送回前端的使用者介面, 或依照前端介面的參數指示, 進行後端機電資實體系統的作動.</span></span></p>
<p style="padding-left: 30px;"><span><span>範例:</span></span></p>
<p style="padding-left: 60px;"><span><span><a href="http://mde.tw/cad2019/content/Task1.html">http://mde.tw/cad2019/content/Task1.html</a> 中利用瀏覽器連線到 Python 與 <a href="https://github.com/pallets/flask">Flask</a> 框架所建立的伺服器程式後, 可以滑鼠點擊前後左右圖像, 從伺服器的特定埠號送出控制訊號, 用來控制遠端 <a href="http://www.coppeliarobotics.com/">V-rep</a> 模擬系統中的行走車.</span></span></p>
<p style="padding-left: 60px;">本課程的目標之一, 就是希望利用 <a href="https://dart.dev/">Dart</a> 開發出能夠取代上列 Python 前端程式介面, 並延伸至手機與平板介面, 以便更有效對虛擬或實體的機電資系統進行控制或雙向資訊互動.</p>
<p style="padding-left: 60px;"></p>
<p><span></span></p><h2>課程表單</h2>
<p><span>計算機程式每週自評與互評表單:</span><span><span> </span><a href="https://forms.gle/hztfjHLkrAaLyntv6">https://forms.gle/hztfjHLkrAaLyntv6</a> (必須登入 @gm 帳號)</span></p>
<p><span><a href="https://github.com/mdecourse/cp2019/issues/4">計算機程式課程 Q and A </a>(需登入 Github 帳號)</span></p>
<p><span><a href="https://forms.gle/S5omHaKXR8HvDsmy5">課程回饋表單</a><span><span> </span>(無需登入)</span></span></p><h2>亂數分組</h2>
<p>流程圖符號</p>
<p><img alt="" height="550" src="/images/flowchart_symbols.png" width="ˋ400"/></p>
<p>上課第一週即進行學員亂數分組, 計算機程式的實際應用與程式對應語法的介紹, 將從此一程式的開發啟動</p>
<p>基本流程:</p>
<p>取得各班修課程成員的學號資料</p>
<p>決定每組幾人</p>
<p>將學員學號資料的次序弄亂</p>
<p>依據每組幾人, 從頭開始分組, 以確定各組成員</p>
<p>若最後一組人數過少, 將分別依序捕到前述已經分組的組別中</p>
<p>在課程加退選階段結束後, 各組再清算所餘人數是否得當, 不排除重新分組</p>
<p>各班檢討是否整個學期只分組一次, 或分組兩次, 或更多次的優缺點, 依據討論結果進行後續課程任務分組</p>
<h4>為何使用 Python?</h4>
<p>If you do much work on computers, eventually you find that there’s some task you’d like to automate. For example, you may wish to perform a search-and-replace over a large number of text files, or rename and rearrange a bunch of photo files in a complicated way. Perhaps you’d like to write a small custom database, or a specialized GUI application, or a simple game.</p>
<p>If you’re a professional software developer, you may have to work with several C/C++/Java libraries but find the usual write/compile/test/re-compile cycle is too slow.</p>
<p>Perhaps you’re writing a test suite for such a library and find writing the testing code a tedious task. Or maybe you’ve written a program that could use an extension language, and you don’t want to design and implement a whole new language for your application.</p>
<p>Python is just the language for you.</p>
<p>首先我們將採用 Python 進行亂數分組, 各分組也可以研究看看, 假如採用 C, C++, Java, Javascript, Lua 或 Dart 進行類似的工作, 該如何進行?</p>
<p>是直接在命令列中執行, 寫一個配合的 GUI, 在網頁介面中執行, 或者在手機或平板上執行? 各有何種應用情境? </p>
<h4>近端資料讀取亂數分組程式</h4>
<pre class="brush:py;auto-links:false;toolbar:false" contenteditable="false">import random
filename = 'cdaw1_student_list.txt'
# 每組人數
num_in_one_group = 8
# 組序由 1 開始
group = 1
# 各班分組後所得數列
c2019 = []
with open(filename) as f:
    # 讀進全部檔案, 轉進數列, 並同時將各行的 \n 去除
    read_data = f.read().splitlines() 
print("共有 " + str(len(read_data)) + " 位學員")
# 利用 shuffle 將數列隨機弄亂
random.shuffle(read_data)
for i in range(len(read_data)):
    # 利用整數相除的餘數進行分組
    if i%num_in_one_group == 0:
        # 列出分隔符號
        print("-"*20)
        print("group " + str(group) +":")
        # 在分組區隔時重置各組學員數列
        group_list = []
        print()
        # 同時列出與分隔標註對應 i 的數列內容
        print(read_data[i])
        group_list.append(read_data[i])
        group = group + 1
    else:
        # 逐一列出同組的其他學員
        print(read_data[i])
        group_list.append(read_data[i])
    if i%num_in_one_group == 0:
        c2019.append(group_list)
# c2019 為該班分組後所得分組數列
print(c2019)</pre>
<h4>從網站讀取資料亂數分組程式</h4>
<pre class="brush:py;auto-links:false;toolbar:false" contenteditable="false">import random
import urllib3

target_url = "https://raw.githubusercontent.com/mdecourse/cd2019/gh-pages/data/cda/cdaw1_student_list.txt"

# 從 url 讀取資料, 之後利用 splitlines() 存入學員學號字串數列中
http = urllib3.PoolManager()
response = http.request('GET', target_url)
data = response.data.decode('utf-8')
read_data = data.splitlines() 
#print(read_data)

# 每組人數
num_in_one_group = 10
# 組序由 1 開始
group = 1
# 各班分組後所得數列
c2019 = []
print("共有 " + str(len(read_data)) + " 位學員")
# 利用 shuffle 將數列隨機弄亂
random.shuffle(read_data)
for i in range(len(read_data)):
    # 利用整數相除的餘數進行分組
    if i%num_in_one_group == 0:
        # 列出分隔符號
        print("-"*20)
        print("group " + str(group) +":")
        # 在分組區隔時重置各組學員數列
        group_list = []
        print()
        # 同時列出與分隔標註對應 i 的數列內容
        print(read_data[i])
        group_list.append(read_data[i])
        group = group + 1
    else:
        # 逐一列出同組的其他學員
        print(read_data[i])
        group_list.append(read_data[i])
    if i%num_in_one_group == 0:
        c2019.append(group_list)
# c2019 為該班分組後所得分組數列
print(c2019)</pre>
<p>為何使用 Dart?</p>
<p>因為 Dart 是具有潛力, 而且能夠適應未來可攜裝置與 IOTs 整合環境變化應用的程式語言.</p>
<p>使用 Dart 執行亂數分組:</p>
<p><a href="https://dartpad.dev/embed-dart.html?id=9f69e77cb456b97cccc8eb5a9dbd991c">https://dartpad.dev/embed-dart.html?id=9f69e77cb456b97cccc8eb5a9dbd991c</a></p>
<p>結合 <a href="https://gist.github.com/mdecourse/9f69e77cb456b97cccc8eb5a9dbd991c">gist</a> 與 <a href="https://github.com/dart-lang/dart-pad/wiki/Embedding-Guide">dartpad.dev</a>, 也可以從 <a href="https://mde.tw/dartpad/">https://mde.tw/dartpad/</a> 右上方 Samples 選擇亂數分組程式執行.</p>
<h2>FFmpeg</h2>
<p>FFmpeg 手冊: <a href="http://ffmpeg.org/ffmpeg.html">http://ffmpeg.org/ffmpeg.html</a></p>
<h4>擷取 mp4 片段檔案</h4>
<p>從 origin.mp4 影片中的第一秒開始, 切出 15 分鐘的影片, 存為 new.mp4</p>
<p style="padding-left: 30px;">ffmpeg -i origin.mp4 -ss 00:00:01 -t 00:15:00 -async 1 new.mp4</p>
<h4>刪除影片中的聲音資料</h4>
<p style="padding-left: 30px;">ffmpeg -i origin.mp4 -c copy -an new.mp4</p>
<p>合併 mp4 檔案</p>
<p>建立 allmp4.txt 內容為<br/>file '/path/to/1.mp4'<br/>file '/path/to/2.mp4'<br/>file '/path/to/3.mp4'</p>
<p>將 1.mp4, 2.mp4 與 3.mp4 合併為 new.mp4</p>
<p style="padding-left: 30px;">ffmpeg -f concat -i allmp4.txt -c copy new.mp4</p>
<h4>影片中加入字幕</h4>
<p>利用 <a href="http://www.aegisub.org/">http://www.aegisub.org/</a> 可攜版本工具加入字幕</p>
<p>直接將 input.srt 字幕資料 burn 入 input.mp4</p>
<p style="padding-left: 30px;">ffmpeg -i input.mp4 -vf subtitles=input.srt output.mp4</p>
<h4>影片畫面中座標 x=5, y=950 位置中加入圖檔</h4>
<h4 style="padding-left: 30px;"><img alt="" height="30" src="/images/kmol_102x30_color.png" width="102"/></h4>
<p style="padding-left: 30px;">ffmpeg -i input.mp4 -i kmol_102x30_color.png -filter_complex "overlay=5:950" output.mp4</p>
<h4>其他圖形化工具:</h4>
<p style="padding-left: 30px;"><a href="http://www.aegisub.org/">http://www.aegisub.org/</a> (Font: SimSun, Size: 40, Bold, Primary, Color (255, 200, 5))</p>
<p style="padding-left: 30px;"><a href="http://www.avidemux.org/nightly/win64_support/">http://www.avidemux.org/nightly/win64_support/</a> (建立使用 2.6.21 版本, 可與 aegisub 配合使用)</p>
<p style="padding-left: 30px;"><a href="https://www.openshot.org/">https://www.openshot.org/</a> (必須分段輸入字幕, 無法與 aegisub 配合使用)</p>
<p>請登入 @gm 電子郵箱後, 下載 <a href="https://drive.google.com/file/d/1UdEVnmursZFgWrYTY1CqDOWSjt7nr84N/view?usp=sharing">aegisub_avidemux_openshot.7z</a></p>
<p style="padding-left: 30px;"></p>
<p></p>
<h2>QandA</h2>
<p>與計算機程式課程有關的問題, 請登入 Github 帳號後, 在 <a href="https://github.com/mdecourse/cp2019/issues/4">https://github.com/mdecourse/cp2019/issues/4</a> 中提出.</p>
<p>其他與課程相關的建議, 請填寫<a href="https://forms.gle/S5omHaKXR8HvDsmy5">課程回饋表單</a> <span>(無需登入).</span></p>
<p><span>教育版軟體下載:</span></p>
<p style="padding-left: 30px;">在校區內所使用的電腦 (若只需下載 .iso 可以設定系上提供的 Proxy  server 後下載), 可以透過 <a href="https://software.nfu.edu.tw/">https://software.nfu.edu.tw/</a> 取得各項教育版軟體, 其中包括 Windows 操作系統與 MS Office 以及 AutoDesk 教育版相關套件.</p>
<p style="padding-left: 30px;"><a href="https://software.nfu.edu.tw/Windows/tw/Win_Pro_Ent_Edu_N_10_1809_64bit_Chinese_Traditional.iso">Windows 10 1809.iso</a>     <a href="https://software.nfu.edu.tw/KMS/windows_kms.bat">kms.bat</a> (每半年認證, 若在校外必須透過 <a href="https://nfucc.nfu.edu.tw/zh/download/download-network/ssl-vpn">VPN</a> 連線後進行)</p>
<p style="padding-left: 30px;"><a href="https://software.nfu.edu.tw/Office/tw/Visio_Pro_2016_64Ch.iso">Office 2016.iso</a>    <a href="https://software.nfu.edu.tw/KMS/Office_2016_KMS.bat">kms.bat</a> <span>(每半年認證, 若在校外必須透過</span><span><span> </span></span><a href="https://nfucc.nfu.edu.tw/zh/download/download-network/ssl-vpn">VPN</a><span><span> </span>連線後進行)</span></p>
<p style="padding-left: 30px;"><a href="https://software.nfu.edu.tw/Autodesk/autodesk.iso">AutoDesk PDSU.iso</a> (利用 @gm 電子郵箱驗證後, 取得學生版三年使用授權)</p>
<p style="padding-left: 30px;">當使用者位於校區外, 希望連線使用校區內的相關電腦資料, 包括下載教育版軟體或使用各項電子期刊或電子書, 可以利用 <a href="https://nfucc.nfu.edu.tw/zh/download/download-network/ssl-vpn">https://nfucc.nfu.edu.tw/zh/download/download-network/ssl-vpn</a> 連線後使用.</p>
<p>在 Windows 環境下, 可以採用 setup_proxy.reg 組態檔案設定 Proxy Server:</p>
<pre class="brush:js;auto-links:false;toolbar:false" contenteditable="false">Windows Registry Editor Version 5.00
 
[HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Internet Settings] 
"MigrateProxy"=dword:00000001 
"ProxyEnable"=dword:00000001 
"ProxyHttp1.1"=dword:00000000 
"ProxyServer"="http://140.130.17.7:3128"
"ProxyOverride"="192.168.*;*.edu.tw"</pre>
<p>然後以 disable_proxy.reg 去除 Windows 操作系統 Proxy Server 的設定:</p>
<pre class="brush:js;auto-links:false;toolbar:false" contenteditable="false">Windows Registry Editor Version 5.00
 
[HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Internet Settings] 
"ProxyEnable"=dword:00000000</pre>
<p></p><h2>USB 隨身碟</h2>
<p>本課程建議使用隨身碟儲存所有與課程相關的倉儲或網頁資料, 也可只將與個人設定相關及倉儲存放在 USB 隨身碟中.</p>
<p>注意: 將資料存入 USB 隨身碟之前, 務必檢查所使用格式化的規格, 一般出廠 USB 格式化仍採用 <a href="https://zh.wikipedia.org/wiki/FAT">FAT32</a> 格式, 之後將無法存放大於 4GB 的檔案, 因此建議使用之前將 USB 隨身碟格式化為<a href="https://zh.wikipedia.org/wiki/ExFAT"> exFAT</a> 格式.</p>
<h4>USB 存放整個可攜系統</h4>
<p>優點:</p>
<p style="padding-left: 30px;">可以自行配置安裝系統中的模組</p>
<p>缺點:</p>
<p style="padding-left: 30px;">執行速度比硬碟慢</p>
<h4>USB 只存放設定與自我倉儲</h4>
<p>優點:</p>
<p style="padding-left: 30px;">執行速度較全部存入 USB 快</p>
<p>缺點:</p>
<p style="padding-left: 30px;">其他用戶對硬碟系統資料更動後, 使用上會受影響.</p>
<h4>start.bat 啟動設定檔案:</h4>
<pre class="brush:js;auto-links:false;toolbar:false" contenteditable="false">@echo off
set Disk=y
subst %Disk%: "data"

%Disk%:

REM 設定所使用的硬碟目錄
REM set CDisk=G:\201906_fall\data
set CDisk=H:\201906_fall\data
REM set DDisk=D:\flutter_portable_final\data
set DDisk=H:\flutter_portable_final\data

set HomePath=%Disk%:\home
set HomeDrive=%Disk%:\home
set Home=%Disk%:\home
set USERPROFILE=%Disk%:\home

REM 將系統 Python 程式的 io 設為 utf-8
set PYTHONIOENCODING="utf-8"

set PYTHONPATH=%CDisk%\py373\DLLs;%CDisk%\py373\Lib;%CDisk%\py373\Lib\site-packages;
set PYTHONHOME=%CDisk%\py373

REM for flutter
set java_home=%DDisk%\java\jdk8u222-b10
set ANDROID_SDK_home=%DDisk%\home
set GRADLE_USER_home=%DDisk%\home
set ANDROID_SDK_ROOT=%DDisk%\android\sdk
set PUB_CACHE=%Disk%:\home\pub

REM for putty
set GIT_HOME=%CDisk%:\portablegit\bin\
set GIT_SSH=%Disk%:\putty\plink.exe

REM set _JAVA_OPTIONS=-Duser.home=%HOME%
REM %DDisk%\home\pub\bin is for webdev
set path_flutter=%DDisk%\android\sdk\tools;%DDisk%\android\sdk\tools\bin;%DDisk%\android\sdk\platform-tools;%DDisk%\flutter\bin;%DDisk%\flutter\bin\cache\dart-sdk\bin;%Disk%:\home\pub\bin;

set path_python=%CDisk%\py373;%CDisk%\py373\Scripts;
set path_msys2=%CDisk%\msys64\mingw64\bin;
REM coreutils is for compiling fossil scm
set path_coreutils=%CDisk%\coreutils-5.3.0\bin;%CDisk%\depends22_x64;
set path_tcc=%CDisk%\tcc;
set path_cmake=%CDisk%\cmake-3.10.1-win64-x64\bin;
set path_nodejs=%CDisk%\nodejs;%CDisk%\nodejs\appdata\roaming\npm;
set path_git=%CDisk%\portablegit\bin;
set path_xming=%CDisk%\Xming;
set path_latex=%CDisk%\Pandoc;%CDisk%\TinyTeX\bin\win32;
set path_vscode=%DDisk%\vscode;
set path_depot=%DDisk%:\buildtools;
set path_putty=%Disk%:\putty;

path=%path%;%Disk%:;%path_depot%;%path_python%;%path_msys2%;%path_tcc%;%path_git%;%path_cmake%;%path_coreutils%;%path_flutter%;%path_vscode%;%path_putty%;

start /MIN cmd.exe
start /MIN cmd.exe
start /MIN cmd.exe
start /MIN cmd.exe

start /MIN %CDisk%\wscite415\wscite\SciTE.exe
start /MIN %CDisk%\wscite415\wscite\SciTE.exe


Exit</pre>
<h4></h4>
<h4>stop.bat 關閉程式檔案:</h4>
<pre class="brush:js;auto-links:false;toolbar:false" contenteditable="false">@echo off
set Disk=y
path=%PATH%;

taskkill /IM python.exe /F
taskkill /IM pythonw.exe /F
taskkill /IM node.exe /F
taskkill /IM Range.exe /F
taskkill /IM SciTE.exe /F
taskkill /IM adb.exe /F
taskkill /IM code.exe /F
taskkill /IM java.exe /F

REM 終止虛擬硬碟與目錄的對應
subst %Disk%: /D
REM 關閉 cmd 指令視窗
taskkill /IM cmd.exe /F
EXIT</pre>
<p>請注意:</p>
<p>因為開啟 code 後所需先前的相關 Flutter 專案, 會將與 Android 相關, 取得的 package 放在 PUB_CACHE (即 y:\home\pub), 以及  .android (即 y:\home\.android) 目錄中, 因此搬遷資料時必須同時複製此一目錄內容. 且轉移系統設定時, 必須查驗各 .bat 中所使用的 dart sdk 所在位置.</p>
<p>而且需要建立 y:\home\AppData\Roaming 目錄, 以便存放 vscode 啟動後的 logs 檔案.</p>
<p>另外, 利用 putty 與 plink 對 Github 以 ssh 連線時, putty 將 session 存入 Windows 10 的系統組態中 (條件一) , 且 git 從環境變數 GIT_SSH 中確認 (條件二) plink.exe 位置, 最後再結合 y:\home\.ssh\config (條件三) 與各倉儲 .git 目錄中的 config 連線 url 設定 (條件四) 完成倉儲版次推送, 因此流程中必須確認此四個條件是否彼此吻合.</p>
<p>條件一: putty 的 github.com session 設定是否使用正確的 RSA key 格式 (利用 puttygen.exe 轉換 Github 所使用的 OpenSSH keys) (參考用 <a href="/downloads/putty_home_reg.7z">putty_home_reg.7z</a>)</p>
<p>條件二:  啟動時 GIT_SSH 環境變數設定</p>
<pre class="brush:js;auto-links:false;toolbar:false" contenteditable="false">REM for putty
set GIT_HOME=%CDisk%:\portablegit\bin\
set GIT_SSH=%Disk%:\putty\plink.exe</pre>
<p>條件三: y:\home\.ssh\config 使用代理程式設定</p>
<pre class="brush:js;auto-links:false;toolbar:false" contenteditable="false"># no proxy at home
#ProxyCommand y:/PortableGit/mingw64/bin/connect.exe -H proxy.mde.nfu.edu.tw:3128 %h %p
# set git_ssh=y:/putty/plink.exe with auth under putty github.com session setup
ProxyCommand y:/putty/plink.exe github.com %h %p
 
Host github.com
    User git
    Port 22
    Hostname github.com
    
    # for connect.exe need openssh key format
    #IdentityFile "y:\home\.ssh\id_rsa_mdecourse"
    # for plink.exe need rsa key format but set under putty github.com session
    # plink.exe do not need the following setting
    #IdentityFile "y:\home\.ssh\mdecourse_putty_private.ppk"
 
    TCPKeepAlive yes
    IdentitiesOnly yes</pre>
<p>條件四: 各倉儲中 .git 目錄中 config url 連線方式設定</p>
<pre class="brush:js;auto-links:false;toolbar:false" contenteditable="false">[remote "origin"]
    #url = https://github.com/mdecourse/cp2019.git
    url = git@github.com:mdecourse/cp2019.git</pre>
<p></p><h3>USB 程式系統</h3>
<p>如何利用 <a href="https://www.virtualbox.org/">Virtualbox</a> 建立虛擬主機:</p>
<p><iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen" frameborder="0" height="315" src="https://www.youtube.com/embed/nOmfGF_YrmU" width="560"></iframe></p>
<h4>背景知識</h4>
<hr/>
<p>2019 年 Fall 計算機程式系統的前半段, 只要能上網, 各學員可以直接在 <a href="https://mde.tw/dartpad">https://mde.tw/dartpad</a> 上寫程式, 寫完後則利用 Github 帳號上的 <a href="https://help.github.com/en/articles/creating-gists">Gists</a> 儲存並引用 Dart 網際程式. </p>
<p>但是利用 <a href="https://pages.github.com/">Github Pages</a> 建立個人的網頁時, 近端仍需要能夠執行 <a href="https://git-scm.com/download/win">Git</a> 功能, 能夠編輯文字檔案或程式檔案, 並且需要 Python3 程式環境, 並且對 Python3 安裝 <a href="https://palletsprojects.com/p/flask/">flask</a>, <a href="https://beautifulsoup.readthedocs.io/zh_CN/v4.4.0/">bs4</a>, <a href="https://pypi.org/project/lxml/">lxml</a>, <a href="https://blog.getpelican.com/">pelican</a>, <a href="https://github.com/Python-Markdown/markdown">markdown</a> 以及 <a href="https://leoeditor.com/">leo</a> 等模組.</p>
<p>因為各學員建立網頁用的 <a href="https://github.com/mdecourse/cmsimde">https://github.com/mdecourse/cmsimde</a> 網際內容管理程式, 採用 Python <a href="https://github.com/pallets/flask">Flask</a> 網際框架編寫, 而且使用 bs4 解讀網頁標註, 而且透過 lxml 將動態 html 內容轉為靜態內容, 因此要在近端利用 CMSiMDE 的動態系統編輯內容, 且轉為只含 html, javascript 以及 css 的靜態網頁, 近端程式環境就需要 Python3 加上 flask, bs4 以及 lxml 模組. (為了讓 CMSiMDE 可以跨網域存取資料, 又加上 flask_cors 模組)</p>
<p>至於 Python3 中的 pelican 與 markdown 主要在 CMSiMDE 網際內容管理系統中, 建立網誌用, 而管理 CMSiMDE 中的網誌與網際投影系統 - reveal.js, 則需要 Leo 大綱編輯器, 因此 Python3 除了必須安裝 flask, bs4, lxml 模組外, 還需要安裝 pelican, markdown 以及 leo 模組.</p>
<hr/>
<h4>建立隨身碟程式系統</h4>
<hr/>
<p><a href="https://drive.google.com/file/d/1lNCUsmRtsl5K128Oa2lbN2ZmriXynrQP/view?usp=sharing">dartpad_based.7z</a><span> (登入 @gm 帳號後下載, 210 MB 解開壓縮後約 900 MB) 就是根據上述的背景知識, 在純 Python 環境中安裝各相關模組之後, 再利用 <a href="https://git-scm.com/download/win">Portablegit</a> 作為執行 Git 指令的系統.</span></p>
<p><span>建立隨身碟程式系統的第一步就是確認隨身碟所使用的規格, 假如不是採用 extFAT 格式化, 之後將無法儲存大於 4GB 的單一 檔案, 這裡所建議的 USB 容量是至少 128 GB USB3.0 以上規格的隨身碟, 並且已經格式化為 extFAT 規格.</span></p>
<p><span>只要下載 <a href="https://drive.google.com/file/d/1lNCUsmRtsl5K128Oa2lbN2ZmriXynrQP/view?usp=sharing">dartpad_based.7z</a>, 在隨身碟中解開即可 (為了使用最新版的 CMSiMDE, 必須利用 python -m pip install flask_cors 安裝 flask_cors 模組), 接下來就可以從隨身碟以 start.bat 開啟隨身程式系統, 以 stop.bat 退出系統後, 再利用 Windows 10 操作系統中的退出隨身碟指令, 就可以取出隨身碟離開.</span></p>
<p>接下來各學員的任務就是充分了解 start.bat 以及 stop.bat 的設定, 並且熟悉有關利用 https 與 ssh 對 Github 倉儲連線的相關設定, 並且能夠在 IPv4 與 IPv6 環境下配合修改相關 Proxy 伺服器的設定, 以及各 git config 與倉儲提交身分綁定相關細節, 就可以在每週根據教學進度, 利用  <a href="https://mde.tw/dartpad">https://mde.tw/dartpad</a> 以及 <a href="https://help.github.com/en/articles/creating-gists">Github Gists</a> 連結內容, 更新自己的網站.</p>
<hr/>
<h4>相關議題</h4>
<hr/>
<p>為什麼 USB 隨身碟需要儲存單一檔案大於 4GB 的資料?</p>
<p style="padding-left: 30px;">因為若使用 <a href="https://www.virtualbox.org/">Virtualbox</a> 建立  Windows 10 虛擬主機進行相關測試, 最小的單一檔案將大於 10GB.</p>
<p style="padding-left: 30px;">另外, 利用 Ubuntu 18.04 三個階段的虛擬主機檔案, 從純系統的 2GB 起, 安裝 X-Win 之後就會超過 4GB, 因此將 128 GB 的隨身碟以 extFAT 格式化是必要的.</p>
<p style="padding-left: 60px;"><a href="https://drive.google.com/open?id=1qWbtu5qioji8MO_-whcaaixMYo3S4mal">Windows 10 64 位元.vmdk 下載</a> (10GB)</p>
<p style="padding-left: 60px;">純 <a href="https://drive.google.com/open?id=1ZyVmFvBjDL5FRZ4QmmwUDYdQzTHo5qOu">Ubuntu 18.04.vdi 下載</a> (2GB)</p>
<p style="padding-left: 60px;">安裝 <a href="https://drive.google.com/open?id=1Y3wHAyeyUEQkE3ZzEGOYFXvhnNAZaOcK">Mate 桌面的 Ubuntu 18.04.vdi 下載</a> (7GB)</p>
<p style="padding-left: 60px;">安裝 <a href="https://drive.google.com/open?id=1YnOxs0q95JcSSx2XABNNQ1S4k8qw8Vjk">pyslvs, uwsgi, fossil_scm 以及 squid 伺服器的 Ubuntu 18.04.vdi 下載</a> (12GB)</p>
<p>為什麼 USB 隨身碟中的可攜程式環境可能需要有多個啟動 start.bat 環境?</p>
<p style="padding-left: 30px;">由於每一個電腦使用環境各有不同的網路架構與設定, 因此在電腦輔助設計室與其他不同電腦使用地點, 為免除多次修改 home 目錄下的 .gitconfig 以及 home\.ssh 目錄下的 config 檔案設定, 最佳的因應方法為: 在不同電腦使用環境時, 啟動因應該地點配置的啟動 start.bat 與 home 設定內容.</p>
<p style="padding-left: 30px;">在此必須注意的是, 不同的 start.bat 可能指到不同的 home 目錄, 而在 <a href="https://flutter.dev">Flutter</a> 手機開發流程中, <a href="https://pub.dev/flutter">pub</a> 將相關資料存入可攜系統 home 中的 pub 目錄, 可能造成此目錄容量達 1GB, 若在不同 start.bat 與 home 設定下都需要進行 <a href="https://flutter.dev">Flutter</a> 手機程式開發, 將需要較大容量的 USB隨身碟.</p>
<p>如何將 Dart 網際程式寫在 Gists, 如何利用 <a href="https://mde.tw/dartpad">https://mde.tw/dartpad</a> 引用?</p>
<p style="padding-left: 30px;">各學員登入 Github 之後, 從右上方下拉式功能表點選 Your Gists, 即進入個人的 Gist 區, 再點選右上方的 + 號, 就可以新增 Gist 資料, 其中可以包含 .dart, .html 與 .css 等三種檔案, 新增後即可以取得各筆 Gist 的編碼.</p>
<p style="padding-left: 30px;">要在 Dartpad 中引用, 只需將各 Gist 檔案的編碼, 在 <a href="https://mde.tw/dartpad">https://mde.tw/dartpad</a> 中加上 ?id=編號, 例如: 引用 Gist 編號為 60ad22240eb79d2b25e2ea1bcdd8f0c6 的 Dart 程式範例, 為 <a href="https://mde.tw/dartpad?id=60ad22240eb79d2b25e2ea1bcdd8f0c6">https://mde.tw/dartpad?id=60ad22240eb79d2b25e2ea1bcdd8f0c6</a> </p>
<p>以 SSH 協定維護 Github 倉儲的考量. (<a href="https://drive.google.com/file/d/1ISq1TJuaZyYZnfU33l-b7ifzmO3ejlEV/view?usp=sharing">下載 putty.7z</a> SSH 連線工具組)</p>
<p style="padding-left: 30px;">Github 倉儲的維護提供 HTTPS 與 SSH 等兩種連線模式, 使用 HTTPS 時需要在 push 時輸入帳號與密碼, 而 SSH 連線則採用公私鑰配對的方式進行認證.</p>
<p style="padding-left: 30px;">當使用 SSH 協定維護 Github 倉儲時, 則必須注意 portablegit 所提供的 connect.ext, 因此其 <a href="https://github.com/git/git/blob/master/connect.c">https://github.com/git/git/blob/master/connect.c</a> 目前無法使用 IPv6 代理主機連線, 因此若在純 IPv6 模式下, 必須改採 <a href="https://www.chiark.greenend.org.uk/~sgtatham/putty/">Putty/Plink</a> 與 <a href="https://git-scm.com/download/win">Git</a> 結合的方式進行.</p>
<p style="padding-left: 30px;">希望在純 IPv6 模式下, 使用 IPv6/IPv4 雙支援的代理主機對 Github 連線, 必須注意三項要點:</p>
<p style="padding-left: 30px;">要點1: 啟動時將 GIT_SSH 環境變數設為 y:\putty\plink.exe, Git 指令啟動時, 就會使用 plink.exe 以 ssh 模式對 Github 倉儲連線.</p>
<p style="padding-left: 30px;">要點2: Github 的 SSH 與 GPG keys 設定只接受 <a href="https://en.wikipedia.org/wiki/OpenSSH">OpenSSH</a>  格式的 public key 輸入, 但是近端的  Git 指令若透過 putty 的 plink.exe 連線, 則只接受 <a href="https://en.wikipedia.org/wiki/RSA_(cryptosystem)">RSA</a> 格式的 key 格式認證. 因此近端 putty 的 AUTH 設定, 必須先將 OpenSSH 格式的 keys 利用 putty 工具組中的 puttygen.exe 轉為 <a href="https://en.wikipedia.org/wiki/RSA_(cryptosystem)">RSA </a>格式後才能使用.</p>
<p style="padding-left: 30px;">要點3: Putty 將設定存在 registry,  Computer\HKEY_CURRENT_USER\Software\SimonTatham, 而且 plink.exe 可以使用 putty.exe 的 session 設定, 因此若要採用 IPv6 proxy 設定, 是以 github.com 為 putty 的 session 名稱, 然後指定 SSH 設定下的 Auth 指定 private key, 並在 PROXY 設定所使用的 HTTP 協定代理主機. 當 putty 設定 github.com session 完成後, 必須以 git 為帳號連線一次, 以便將 github.com 網站的 public key 存檔, 讓隨後的 git push 無需再對連線主機進行後續認證. (若不在 putty 先行對 github.com 主機連線, 在 plink ssh 連線下將無法儲存相關的認證檔案.)</p>
<p style="padding-left: 30px;">啟動 start.bat 附加:</p>
<pre class="brush:lua;auto-links:false;toolbar:false" contenteditable="false">REM for putty
set GIT_HOME=%CDisk%:\portablegit\bin\
set GIT_SSH=%Disk%:\putty\plink.exe</pre>
<p style="padding-left: 30px;">homt/.ssh/config 設定:</p>
<pre class="brush:lua;auto-links:false;toolbar:false" contenteditable="false"># no proxy at home
#ProxyCommand y:/PortableGit/mingw64/bin/connect.exe -H proxy.mde.nfu.edu.tw:3128 %h %p
# set git_ssh=y:/putty/plink.exe with auth under putty github.com session setup
ProxyCommand y:/putty/plink.exe github.com %h %p
 
Host github.com
    User git
    Port 22
    Hostname github.com
    
    # for connect.exe need openssh key format
    #IdentityFile "y:\home\.ssh\id_rsa_mdecourse"
    # for plink.exe need rsa key format but set under putty github.com session
    # plink.exe do not need the following setting
    #IdentityFile "y:\home\.ssh\mdecourse_putty_private.ppk"
 
    TCPKeepAlive yes
    IdentitiesOnly yes
</pre>
<p>為什麼需要使用虛擬主機?</p>
<p style="padding-left: 30px;">學習計算機程式編寫網際近端與遠端程式互動時, 可以利用近端的虛擬主機作為伺服器, 配置動態的 CMSiMDE 與 Fossil SCM 伺服器, 可以自行建立與 Github 相當的網際內容管理系統, 若再加上了解如何自行建立同時支援 IPv4 與 IPv6 通訊協定的 <a href="http://www.squid-cache.org/">Squid Proxy 伺服器</a>, 將可以在網際程式開發流程中學習全面的整合知識.</p>
<p><a href="https://drive.google.com/file/d/1oUbvEWYbWAZM6nIfhQqC8oCcb9fcCJ5F/view?usp=sharing">GitExtensions.7z</a> 有何用途?</p>
<p style="padding-left: 30px;"><a href="https://github.com/gitextensions/gitextensions">https://github.com/gitextensions/gitextensions</a> 是一個以 C# 編寫的開源 Git 指令工具, 由於當多人同時維護一個分組倉儲與網站內容時, 採取多人同步程式或網站內容的編修流程時, 經常需要使用較複雜的 Git 指令, 若使用 <a href="https://drive.google.com/file/d/1oUbvEWYbWAZM6nIfhQqC8oCcb9fcCJ5F/view?usp=sharing">GitExtensions.7z</a> 可以較簡便執行這些複雜的 Git  指令, 並且在近端進行分支合併或衝突解決時, 可以透過圖形化的介面了解各倉儲分支的內容修改情形.</p><h3>Ubuntu 伺服器</h3>
<p>目前最新的 <a href="https://ubuntu.com/">Ubuntu</a> <a href="https://ubuntu.com/about/release-cycle">LTS</a> 伺服器為 18.04.3, 使用者可以自行下載 Ubuntu Server 18.04.3 iso 檔案, 自行在 Windows 10 操作系統下利用 <a href="https://www.virtualbox.org/">Virtualbox</a> 進行練習.</p>
<p>以下則為提供學員實習的實體主機:</p>
<p style="padding-left: 30px;"><a href="http://cd03.kmol.info">http://cd03.kmol.info</a>  (A 班伺服器)</p>
<p style="padding-left: 30px;"><a href="http://cd04.kmol.info">http://cd04.kmol.info</a>  (B 班伺服器)</p>
<h4>建立管理者</h4>
<p style="padding-left: 30px;">$sudo adduser username<br/>$sudo usermod -aG sudo username</p>
<h4>Change hostname</h4>
<p style="padding-left: 30px;">sudo hostnamectl set-hostname your_server_hostname<br/>sudo vi /etc/hosts<br/>add 127.0.0.1 your_server_hostname</p>
<h4>Reset Ubuntu password</h4>
<p style="padding-left: 30px;">while booting, for bios startup computer, press shift, for uefi start computer, press esc to go to the boot menu, select from menu to boot for network and root setup, use sudo passwd username to change user password.</p>
<h4>/etc/netplan/50-cloud-init.yaml</h4>
<pre class="brush:js;auto-links:false;toolbar:false" contenteditable="false"># This file is generated from information provided by
# the datasource.  Changes to it will not persist across an instance.
# To disable cloud-init's network configuration capabilities, write a file
# /etc/cloud/cloud.cfg.d/99-disable-network-config.cfg with the following:
# network: {config: disabled}
network:
    ethernets:
        enp0s3:
            dhcp4: false 
            dhcp6: false 
            addresses: 
                - 192.168.1.13/24
                - 2001:288:6004::1/64
            gateway4: 192.168.1.1
            gateway6: 2001:288:6004::254
            nameservers:
                addresses:
                    - 140.130.1.2
                    - 168.95.1.1
                    - 2001:288:6004:1::2
                    - 2001:b000:168::1
    version: 2</pre>
<p>修改後, 利用 sudo netplan apply 讀取更新檔案, 並檢測格式是否正確.</p>
<h4>Nginx WWW 伺服器</h4>
<p style="padding-left: 30px;">在 Ubuntu 安裝 nginx 伺服器:</p>
<p style="padding-left: 60px;">sudo apt install nginx</p>
<p style="padding-left: 30px;">其中必須注意的是, apt 將使用 /etc/apt.conf 中所設定的 proxy 進行網路連線.</p>
<p style="padding-left: 30px;">apt.conf 設定格式為:</p>
<p style="padding-left: 60px;">Acquire::http::Proxy "http://[2001:288:6004:17::proxy_ip]:3128";</p>
<h4>/etc/nginx/sites-available/default 參考檔案:</h4>
<pre class="brush:js;auto-links:false;toolbar:false" contenteditable="false">server {
    listen 80;
    listen [::]:80;
    root /home/kmol2019/newcms;
    index index.html;
 
    location /static {
        alias /home/kmol2019/newcms/cmsimde/static/;
    }
 
    location /downloads {
        alias /home/kmol2019/newcms/downloads/;
    }
 
    location /images {
        alias /home/kmol2019/newcms/images/;
    }
 
    location / {
            try_files $uri $uri/ =404;
    } 
     
    location /blog {
        alias /home/kmol2019/cmsimfly/blog/;
    }
 
    location /reveal {
        alias /home/kmol2019/cmsimfly/reveal/;
    }
}
 
server {
    listen 443 ssl;
    #listen [::]:443 ssl ipv6only=on;
  
    location /static {
        alias /home/kmol2019/cmsimfly/static/;
    }
  
    location / {
        include uwsgi_params;
        uwsgi_pass  127.0.0.1:8080;
    }
  
    #server_name ipv4_ip; 
    #ssl on;
    ssl_certificate /etc/stunnel/localhost.crt;
    ssl_certificate_key /etc/stunnel/localhost.key;
    ssl_session_timeout 5m;
    ssl_protocols SSLv3 TLSv1 TLSv1.1 TLSv1.2;
    ssl_ciphers "HIGH:!aNULL:!MD5 or HIGH:!aNULL:!MD5:!3DES";
    ssl_prefer_server_ciphers on;
    try_files $uri $uri/ =404;
}
  
server {
    #listen 89 default_server;
    #listen [::]:89 default_server ipv6only=on;
  
    listen 8943 ssl;
    #listen [::]:8943 ssl ipv6only=on;
  
    location /static {
        alias /home/kmol2019/cmsimfly2/static/;
    }
  
    location / {
        include uwsgi_params;
        uwsgi_pass  127.0.0.1:8082;
    }
  
    #server_name ipv4_ip;
    #ssl on;
    ssl_certificate /etc/stunnel/localhost.crt;
    ssl_certificate_key /etc/stunnel/localhost.key;
    ssl_session_timeout 5m;
    ssl_protocols SSLv3 TLSv1 TLSv1.1 TLSv1.2;
    ssl_ciphers "HIGH:!aNULL:!MD5 or HIGH:!aNULL:!MD5:!3DES";
    ssl_prefer_server_ciphers on;
    try_files $uri $uri/ =404;
}
 
server {
    #listen 88 default_server;
    #listen [::]:88 default_server ipv6only=on;
  
    listen 8843 ssl;
    #listen [::]:8843 ssl ipv6only=on;
  
    location /static {
        alias /home/kmol2019/newcms/cmsimde/static/;
    }
  
    location / {
        include uwsgi_params;
        uwsgi_pass  127.0.0.1:8081;
    }
  
    #server_name ipv4_ip;
    #ssl on;
    ssl_certificate /etc/stunnel/localhost.crt;
    ssl_certificate_key /etc/stunnel/localhost.key;
    ssl_session_timeout 5m;
    ssl_protocols SSLv3 TLSv1 TLSv1.1 TLSv1.2;
    ssl_ciphers "HIGH:!aNULL:!MD5 or HIGH:!aNULL:!MD5:!3DES";
    ssl_prefer_server_ciphers on;
    try_files $uri $uri/ =404;
}</pre>
<h4>Install Squid</h4>
<p style="padding-left: 30px;">sudo apt install squid<br/>cd /etc/squid<br/>sudo rename squid.conf squid_orig.conf<br/>cd<br/>sftp username@ipv4_of_another_server<br/>cd /etc/squid<br/>get squid.conf</p>
<p style="padding-left: 30px;">quit<br/>sudo cp squid.conf /etc/squid<br/>sudo /etc/init.d/squid restart</p>
<h4>uwsgi.ini 參考檔案:</h4>
<pre class="brush:js;auto-links:false;toolbar:false" contenteditable="false">[uwsgi]
socket = 127.0.0.1:8080
uid = kmol2019
gid = kmol2019
plugins-dir = /usr/lib/uwsgi/plugins/
plugin = python3
master = true
logto = /var/log/uwsgi/emperor.log
logfile-chown = kmol2019:kmol2019
processes = 4
threads = 2
chdir = /home/kmol2019/cmsimfly
wsgi-file = /home/kmol2019/cmsimfly/wsgi.py</pre>
<p>根據上述說明流程所完成的<a href="https://drive.google.com/file/d/1l7DLMa6JSOE7m3AwPfWjazweEjymK9sP/view?usp=sharing">虛擬主機下載</a>.</p>
<h4>python3 環境準備:</h4>
<p style="padding-left: 30px;">安裝 pip3:</p>
<p style="padding-left: 30px;">sudo apt install python3-pip</p>
<h4>安裝 CMSiMDE 所需模組:</h4>
<p style="padding-left: 30px;">sudo pip3 install flask bs4 lxml flask_cors pelican markdown leo</p>
<h4>uwsgi 環境準備:</h4>
<p style="padding-left: 30px;">sudo apt install uwsgi uwsgi-plugin-python3</p>
<p style="padding-left: 30px;">sudo pip3 install uwsgi</p>
<p style="padding-left: 30px;">編輯的設定檔案為 uwsgi_ini 目錄中的各個 .ini 設定檔案.</p>
<h4>nginx 環境準備:</h4>
<p style="padding-left: 30px;">sudo apt install nginx</p>
<p style="padding-left: 30px;">編輯的設定檔案為 /etc/nginx/sites-available/default 檔案.</p>
<h4>CMSiMDE 的設定:</h4>
<p style="padding-left: 30px;">init.py 中必須將 uwsgi = False 改為 True, 因為準備採用 uwsgi 模式啟動 CMSiMDE</p>
<h4>apt proxy 設定檔案:</h4>
<p style="padding-left: 30px;">/etc/apt/apt.conf.d/90curtin-aptproxy</p>
<p style="padding-left: 30px;">啟動 uwsgi 指令, 將會逐一啟動 wsgi_ini 目錄中個別 .ini 檔案:</p>
<p style="padding-left: 30px;">sudo /usr/bin/uwsgi --emperor /home/kmol2019/wsgi_ini</p>
<p>最後則設定 Ubuntu 系統服務, 用來啟動 uwsgi:</p>
<p>/etc/systemd/system 的 cmsimde.service 服務啟動檔案內容:</p>
<pre class="brush:js;auto-links:false;toolbar:false" contenteditable="false">[Unit]
Description=uWSGI to serve CMSiMDE
After=network.target
 
[Service]
User=kmol2019
Group=kmol2019
WorkingDirectory=/home/kmol2019/uwsgi_ini
ExecStart=/usr/local/bin/uwsgi --emperor /home/kmol2019/uwsgi_ini
 
[Install]
WantedBy=multi-user.target</pre>
<p>接著將 cmsimde 服務設為隨系統開機啟動:</p>
<p style="padding-left: 30px;">sudo systemctl enable cmsimde</p>
<p>若要取消 cmsimde 服務隨系統開機啟動:</p>
<p style="padding-left: 30px;">sudo systemctl disable cmsimde</p>
<p>手動啟動 cmsimde.service 服務</p>
<p style="padding-left: 30px;">sudo systemctl start cmsimde</p>
<p>手動停止 cmsimde.service 服務</p>
<p style="padding-left: 30px;">sudo systemctl stop cmsimde</p>
<p>最後, 在 Ubuntu 虛擬主機中設定 Fossil SCM:</p>
<p>安裝 fossil:</p>
<p style="padding-left: 30px;">sudo apt install fossil</p>
<p>查 fossil 版本:</p>
<p style="padding-left: 30px;">fossil version</p>
<p>因為採用 sudo apt install fossil 的版本為 2.5 版, 希望採用目前的最新版本 2.9, 因此:</p>
<p>直接在 Windows 10 下載 https://fossil-scm.org/home/uv/fossil-linux-x64-2.9.tar.gz, 解開壓縮檔案後, 將 fossil 送到 /homt/kmol2019/ 目錄下, 再使用指令, 將檔案複製到 /usr/bin/ 目錄下, 在 Ubuntu 要查詢 fossil 可執行檔案的位置, 使用 whereis fossil.</p>
<p>sudo cp fossil /usr/bin/</p>
<p>複製後, 再用 fossil version 查驗版本, 確認為最新的 2.9 版.</p>
<p>接著在 /home/kmol2019 目錄下建立 repository 目錄, 並且利用 fossil 起始一個 kmol2019.fossil 倉儲壓縮檔案.</p>
<p style="padding-left: 30px;">mkdir repository<br/> cd repository<br/> fossil init kmol2019.fossil</p>
<p>完成後, 紀錄 kmol2019.fossil 的管理密碼, 以便啟動 Fossil SCM 伺服器時, 利用 kmol2019 當作帳號, 而以記錄的管理者密碼登入進行設定.</p>
<p>接下來為了要在 https 的模式下使用 Fossil SCM 伺服器, 因此必須安裝配置 stunnel:</p>
<p style="padding-left: 30px;">sudo apt install stunnel</p>
<p>修改 /etc/environment, 加入:</p>
<p style="padding-left: 30px;">HTTPS=on</p>
<p>修改 /etc/default/stunnel4, 修改 ENABLED=1</p>
<p>假如此時 /etc/stunnel 目錄下尚無 localhost.crt 與 localhost.key, 可以利用下列指令建立:</p>
<p>建立 localhost.key 與 localhost.crt:</p>
<p style="padding-left: 30px;">sudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout localhost.key -out localhost.crt</p>
<p>接著設定 /etc/stunnel/stunnel.conf 如下:</p>
<pre class="brush:js;auto-links:false;toolbar:false" contenteditable="false">[https]
accept = kmol2019:5443
# 只先啟用 ipv4
#accept = :::443
cert = /etc/stunnel/localhost.crt
key = /etc/stunnel/localhost.key
exec = /usr/bin/fossil
execargs = /usr/bin/fossil http /home/kmol2019/repository/ --https --nojail --notfound kmol2019
</pre>
<p>表示利用 stunnel 執行 fossil 指令, 並且透過 http 協定啟動 位於 /home/kmol2019/repository 目錄下的倉儲壓縮檔案, 且附加採用 https 與 nojail 模式啟動.</p>
<p>其中 --nojail 目的在 drop the root privilege but do not enter the chroot jail, 其後的 --notfound 表示若沒有特別在 URL 中列出所要擷取的 .fossil 檔案 (指位於 /home/kmol2019/repository/ 目錄下), 則採用 kmol2019.fossil</p>
<p>重新啟用 stunnel:</p>
<p style="padding-left: 30px;">sudo /etc/init.d/stunnel4 restart</p>
<p>啟動後的 Fossil SCM 位於 port 5443, 且將 kmol2019 管理者密碼設為 kmol2019.</p><h2>課程筆記</h2>
<h4>利用倉儲與網頁紀錄筆記</h4>
<p>優點:</p>
<p style="padding-left: 30px;">快速方便且能引入大量線上靜態與動態影片資料</p>
<p>缺點:</p>
<p style="padding-left: 30px;">必須要透過歷程資料才能看出資料紀載順序</p>
<p style="padding-left: 30px;">若電腦無法開機或網路無法使用時, 將無法查閱相關資料</p>
<h4>利用紙本筆記</h4>
<p>優點:</p>
<p style="padding-left: 30px;">手寫將資料謄入紙本時, 可以加強對資料的記憶</p>
<p style="padding-left: 30px;">可以按照順序紀載歷程資料</p>
<p>缺點:</p>
<p style="padding-left: 30px;">必須隨身攜帶筆記本</p>
<p style="padding-left: 30px;">比較難以放入網路上的各項連結資料</p><h1>Tasks</h1>
<p>電腦輔助設計室 ipv4 網路架構 (內部 ip 應該為 192.168.1.x)</p>
<p><img alt="" height="300" src="/images/mde_network.png" width="400"/></p>
<p><span>電腦輔助設計室 ipv6 網路架構</span></p>
<p><span><img alt="" height="300" src="/images/mde_ipv6.png" width="400"/></span></p>
<h4>分組執行任務</h4>
<p><iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen" frameborder="0" height="315" src="https://www.youtube.com/embed/e8Bf1EBLpv8" width="560"></iframe></p>
<h4>Task1:</h4>
<p style="padding-left: 30px;">了解計算機程式課程如何進行, 如何評分</p>
<p style="padding-left: 30px;">了解電腦輔助設計室電腦硬體與網路環境</p>
<p style="padding-left: 30px;">了解如何下載使用學校所提供的教育版 Windows 10 與 MS Office 2016</p>
<p style="padding-left: 30px;">了解如何建立 USB 上的可攜程式環境</p>
<p style="padding-left: 30px;">了解如何建立 Github 帳號, 如何建立 cp2019 網站</p>
<h4>Task2:<span>(佔學期成績 10%)</span></h4>
<p style="padding-left: 30px;">利用 Dartpad 執行亂數分組</p>
<p style="padding-left: 60px;">了解如何將數據檔案送到個人網站中</p>
<p style="padding-left: 60px;">了解如何在 Dartpad 讀取各公開 URL 數據資料</p>
<p style="padding-left: 60px;">了解如何將所讀取的資料轉為數列</p>
<p style="padding-left: 60px;">了解如何隨機弄亂數列內容</p>
<p style="padding-left: 60px;">了解如何使用 for 重複迴圈</p>
<p style="padding-left: 60px;">了解如何依序取出數列中的資料</p>
<p style="padding-left: 60px;">了解如何依序在數列中放入資料</p>
<p style="padding-left: 30px;">分組作業: 請討論如何讓亂數分組程式更加完善, 無需人為插手進行分組.</p>
<h4>Task3: <span>(佔學期成績 10%)</span></h4>
<p style="padding-left: 30px;">利用 Dartpad 與 Html5 Canvas 執行靜態繪圖</p>
<p style="padding-left: 60px;">了解如何<a href="http://mde.tw/dartpad/?id=b51f4d2a76e394421057a70e7d281b66">繪製中華民國國旗</a></p>
<p style="padding-left: 30px;">分組作業: 請討論如何完成美國國旗繪製</p>
<h4>Task4: <span>(佔學期成績 20%)</span></h4>
<p style="padding-left: 30px;"><span>利用 Dartpad 與 Html5 Canvas 執行動態繪圖</span></p>
<p style="padding-left: 60px;"><span>了解如何製作<a href="http://mde.tw/dartpad?id=fc5ad3a8136c27de79f5a33e33d5c5f6">貪食蛇遊戲</a></span></p>
<p style="padding-left: 60px;"><span>了解如何製作<a href="http://mde.tw/dartpad?id=0c7e4bbb880d11f0335d5b5da49e86db">乒乓球遊戲</a></span></p>
<p style="padding-left: 30px;"><span>分組作業: 請將上述所有 Dartpad 上的程式轉為單一 Html 網頁程式, 並上傳到各分組網站中</span></p>
<h4><span>Project: </span><span>(佔學期成績 30%)</span></h4>
<p style="padding-left: 30px;"><span>請根據</span></p>
<p style="padding-left: 60px;">Practical Flutter (2019)</p>
<p style="padding-left: 60px;"><a href="https://link.springer.com/book/10.1007/978-1-4842-4972-7">https://link.springer.com/book/10.1007/978-1-4842-4972-7</a></p>
<p style="padding-left: 30px;">中的範例說明, 完成各組期末專案.</p>
<p style="padding-left: 30px;">期末分組專案: 請根據上述 Task1 ~ Task4 的內容做為參考, 討論如何完成一個能夠在網頁與手機上執行的期末專案.</p><h2>Task1</h2>
<h4>任務摘要</h4>
<p style="padding-left: 30px;">本課程使用 Git 分散式版次管理系統的目的有:</p>
<p style="padding-left: 60px;">1. 讓使用者利用 Github 儲存資料, 逐步學習如何利用分散式版次管理流程協同開發程式.</p>
<p style="padding-left: 60px;">2. 利用 Github Pages 建立網站, 紀錄計算機程式學習歷程.</p>
<p style="padding-left: 30px;">為了分便在 Github Pages 建立網站, 簡報與網誌, 採用 CMSiMDE 內容管理系統, 將此一系統所建立的靜態網頁、簡報與網誌, 送到 Github 倉儲建立 WWW 網站.</p>
<p style="padding-left: 30px;">CMSiMDE 網際內容管理系統採用 Python 與 Flask, bs4, lxml, pelican, Markdownㄝflask_cors 與 Leo 等模組建立, 可以在提拱 Python 程式與相應模組的環境中, 以動態管理系統的方式執行, 也可以將內容轉為純 html, css 與 Javascript 的靜態網頁執行.</p>
<p style="padding-left: 30px;">所謂動態內容管理系統, 就是讓 CMSiMDE 直接在伺服器中執行 Python 與相應模組, 管理者可以直接利用瀏覽器登入內容管理系統, 修改內容後, 直接呈現在網站中.</p>
<p style="padding-left: 30px;">而靜態內容管理系統則只包含 Html, css 與 Javascript 的資料, 使用者利用 Git 分散式版次管理系統的指令操作, 將資料送到 Github 倉儲後, 由 Github Pages 所提供的 WWW 伺服器將資料轉為特定網址下的網站, 此種靜態網站無管理者登入設置, 無法直接在網站中修改資料.</p>
<p style="padding-left: 30px;">CMSiMDE 的系統採用子模組的方式建立, 使用者必須將此倉儲設為網際內容管理系統下, 名稱為 cmsimde 目錄的子模組, 並且將 up_dir 目錄中的資料複製到使用者倉儲主目錄下, 才能夠正常運作. 動態啟動時, 必須進入 cmsimde 目錄, 以 python 啟動 wsgi.py 程式, 並用瀏覽器在 <a>https://localhost:9443</a> 中開啟動態管理系統, 管理者密碼內定為 admin.</p>
<p style="padding-left: 30px;">當 CMSiMDE 使用者在動態系統中完成資料更動後, 送到 Github Pages 伺服之前, 必須利用 generate_pages 功能, 將位於 config/content.htm 中的資料內容, 逐一分頁轉為 content 目錄中的靜態網頁資料後, 再退回使用者的倉儲主目錄, 利用 Git 指令, 將倉儲資料提交推送到使用者的 Github 倉儲.</p>
<p>如何編輯個人 <a href="https://github.com/mdecourse/cmsimde">CMSiMDE</a> 網頁內容:</p>
<p><iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen" frameborder="0" height="315" src="https://www.youtube.com/embed/qRpq9EFKcfM" width="560"></iframe></p>
<p>如何在 CMSiMDE 網頁中加入圖片:</p>
<p><iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen" frameborder="0" height="315" src="https://www.youtube.com/embed/GrY5hHHmkTo" width="560"></iframe></p>
<p>如何對操作影片加入字幕:</p>
<p><iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen" frameborder="0" height="315" src="https://www.youtube.com/embed/_yTtBhMZWnc" width="560"></iframe></p>
<p>開始學習 <a href="https://dart.dev/">Dart</a>, 並利用 <a href="https://help.github.com/en/articles/creating-gists">Gist</a> 將 <a href="https://dartpad.dartlang.org/">Dartpad</a> 嵌入學員網頁:</p>
<p><iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen" frameborder="0" height="315" src="https://www.youtube.com/embed/ATkp974alb4" width="560"></iframe></p>
<p><iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen" frameborder="0" height="315" src="https://www.youtube.com/embed/kD2xk_A-MxE" width="560"></iframe></p>
<h4>Task1:</h4>
<p style="padding-left: 30px;"><span style="background-color: #ffff00;">1/5: 了解計算機程式課程如何進行, 如何評分?</span></p>
<p style="padding-left: 60px;">課程評分比例 (包含學員自評、同組互評與教師評分等三項):</p>
<p style="padding-left: 120px;"><a href="http://mde.tw/dartpad?id=d7c4f7b267d43acd6ee7f78d581c4c5c">設一甲亂數分組</a></p>
<p style="padding-left: 120px;"><a href="https://mde.tw/dartpad?id=8463c358dfeb477801b2c42737697e82">設一乙亂數分組</a></p>
<p style="padding-left: 90px;">計算機程式每週自評與互評表單:<span> <a href="https://forms.gle/hztfjHLkrAaLyntv6">https://forms.gle/hztfjHLkrAaLyntv6</a></span></p>
<p style="padding-left: 120px;">學員出席 (10%)</p>
<p style="padding-left: 120px;">Github 倉儲與網站管理  (20%)</p>
<p style="padding-left: 120px;">任務執行 (40%)</p>
<p style="padding-left: 150px;">亂數分組與應用</p>
<p style="padding-left: 150px;">靜態繪圖與應用</p>
<p style="padding-left: 150px;"><span>動態繪圖與應用</span></p>
<p style="padding-left: 120px;">程式開發 (30%)</p>
<p style="padding-left: 60px;">課程計分流程:</p>
<pre class="brush:py;auto-links:false;toolbar:false" contenteditable="false">'''
根據評分表單中的 自評分數, 互評得分, 教師評分, 計算學員課程成績
'''

def diff(自評分數, 互評得分):
    return abs(自評分數 - 互評得分)
    
def max(自評分數, 互評得分):
    if 自評分數 &gt; 互評得分:
        return 自評分數
    else:
        return 互評得分

def 分組比分(自評分數, 互評得分):
    if diff(自評分數, 互評得分) &lt; 5:
        學員得分 = max(自評分數, 互評得分)
    else:
        學員得分 = 互評得分 - diff(自評分數, 互評得分)
    return 學員得分
    
def 全班比分(學員得分, 教師評分):
    if diff(學員得分, 教師評分) &lt; 5:
        學員成績 = max(學員得分, 教師評分)
    else:
        學員成績 = 教師評分 - diff(學員得分, 教師評分)/4
    return 學員成績

def 學員成績(自評分數, 互評得分, 教師評分):
    學員分組得分 = 分組比分(自評分數, 互評得分)
    學員課程成績 = 全班比分(學員分組得分, 教師評分)
    return 學員課程成績
    
print(學員成績(80, 70, 60))
print(學員成績(60, 70, 80))</pre>
<p style="padding-left: 30px;"><span style="background-color: #ffff00;">2/5: 了解電腦輔助設計室電腦硬體與網路環境</span></p>
<p style="padding-left: 60px;">購置時間: 2016 年暑假<br/>四年保固的華碩 Skylake MD790/I7-6700<br/>Intel 第六代 Core i7/3.4GHz/8M<br/>Intel Q170 晶片組<br/>16GB DDR4/2133/288 Pin 記憶體 (8 GBx2)<br/>2 TB-SATA3 硬碟<br/>Asus MINI-GTX950-2G 顯示卡 (支援 PCIE 3.0, OpenGL 4.5, 768 個CUDA 核心數) 500瓦電源供應器<br/>USB 3.1x2 (10GB/s)<br/>USB 3.0x6 (5GB/s)<br/>USB 2.0x2 (480MB/s)<br/>群準的 EVOsys PRO/SATA 還原卡<br/>同時支援 D-sub、HDMI 及 DisplayPort 三台獨立顯示器多工作業</p>
<p style="padding-left: 60px;">網路以 NAT IPv4 為主, 可隨時切換為 IPv6 網路連線<br/>系上 IPv4: 140.130.17.X Gateway: 254 DNS: 3, 2, Proxy: 7, 17<br/>系上 IPv6: 2001:288:6004:17::X Gateway:254DNS: 3, 2, Proxy: 7, 17<br/>中華電信 DNS: 2001:b000:168::1</p>
<p style="padding-left: 30px;"><span style="background-color: #ffff00;">3/5: 了解如何下載使用學校所提供的教育版 Windows 10 與 MS Office 2016</span></p>
<p style="padding-left: 60px;">在校區內所使用的電腦 (若只需下載 .iso 可以設定系上提供的 Proxy  server 後下載), 可以透過 <a href="https://software.nfu.edu.tw/">https://software.nfu.edu.tw/</a> 取得各項教育版軟體, 其中包括 Windows 操作系統與 MS Office 以及 AutoDesk 教育版相關套件.</p>
<p style="padding-left: 60px;"><a href="https://software.nfu.edu.tw/Windows/tw/Win_Pro_Ent_Edu_N_10_1809_64bit_Chinese_Traditional.iso">Windows 10 1809.iso</a>    <span> </span><a href="https://software.nfu.edu.tw/KMS/windows_kms.bat">kms.bat</a> (每半年認證, 若在校外必須透過<span> </span><a href="https://nfucc.nfu.edu.tw/zh/download/download-network/ssl-vpn">VPN</a><span> </span>連線後進行)</p>
<p style="padding-left: 60px;"><a href="https://software.nfu.edu.tw/Office/tw/Visio_Pro_2016_64Ch.iso">Office 2016.iso</a>   <span> </span><a href="https://software.nfu.edu.tw/KMS/Office_2016_KMS.bat">kms.bat</a> <span>(每半年認證, 若在校外必須透過</span><span><span> </span></span><a href="https://nfucc.nfu.edu.tw/zh/download/download-network/ssl-vpn">VPN</a><span><span> </span>連線後進行)</span></p>
<p style="padding-left: 60px;"><a href="https://software.nfu.edu.tw/Autodesk/autodesk.iso">AutoDesk PDSU.iso</a> (利用 @gm 電子郵箱驗證後, 取得學生版三年使用授權)</p>
<p style="padding-left: 60px;">當使用者位於校區外, 希望連線使用校區內的相關電腦資料, 包括下載教育版軟體或使用各項電子期刊或電子書, 可以利用 <a href="https://nfucc.nfu.edu.tw/zh/download/download-network/ssl-vpn">https://nfucc.nfu.edu.tw/zh/download/download-network/ssl-vpn</a> 連線後使用.</p>
<p style="padding-left: 30px;"><span style="background-color: #ffff00;">4/5: 了解如何建立 USB 上的可攜程式環境</span></p>
<p style="padding-left: 60px;"><a href="https://drive.google.com/file/d/1lNCUsmRtsl5K128Oa2lbN2ZmriXynrQP/view?usp=sharing">dartpad_based.7z</a> (登入 @gm 帳號後下載, 210 MB 解開壓縮後約 900 MB)</p>
<p style="padding-left: 60px;">利用 python -m pip install flask_cors 安裝 flask_cors, 以便使用最新版的 CMSiMDE</p>
<p style="padding-left: 60px;"><a href="https://drive.google.com/file/d/1oUbvEWYbWAZM6nIfhQqC8oCcb9fcCJ5F/view?usp=sharing">GitExtensions.7z</a></p>
<p style="padding-left: 30px;"><span style="background-color: #ffff00;">5:5: 了解如何建立 Github 帳號, 如何建立 cp2019 網站</span></p>
<p style="padding-left: 60px;"><a href="https://github.com/mdecourse/cmsimde">https://github.com/mdecourse/cmsimde</a> </p>
<p style="padding-left: 60px;">在此一階段, 若希望利用 SSH (Secure Shell) 模式對 Github 連線, 必須了解:</p>
<p style="padding-left: 90px;">1. Github 支援 HTTPS 與 SSH 等兩種連線方式, 採用 HTTPS 必須推送時輸入驗證權限的帳號與密碼, 若採用 SSH 模式連線, 則透過 Github 帳號上所存放的 pub key, 與近端使用者指定位置的 private key 進行認證.</p>
<p style="padding-left: 90px;">2. 每一個倉儲從 Github clone 下來之後, 便會將預計使用的 HTTPS 或 SSH連線的 URL 註記在 .git 目錄中的 config 檔案中</p>
<p style="padding-left: 90px;">3. 通常利用可攜環境啟動 portablegit 之後,  SSH 所使用的 private key 路徑設定, 通常存於 y:\home\.ssh 目錄下的  config 檔案中.</p>
<p style="padding-left: 90px;">4. 如何利用 portablegit 中的 sh.exe 建立所需的 public key 與 private key?</p>
<p style="padding-left: 90px;">5. 必須了解 <a href="https://help.github.com/en/articles/adding-a-new-gpg-key-to-your-github-account">Github  所接受的 keys 格式</a>,<a href="https://en.wikipedia.org/wiki/Ssh-keygen#Key_formats_supported"> ssh-keygen 所支援的 keys  格式</a>, 以及如何與 <a href="https://en.wikipedia.org/wiki/PuTTY">Putty</a> 所讀取的 keys 格式互相配合.</p>
<p style="padding-left: 90px;">6. public key 該送到 Github 的何處?</p>
<p style="padding-left: 90px;">7. y:\home\.ssh\config  定檔案中除了宣告 private  key 所在位置外, 還必須注意個人使用多帳號與多 private keys 設定方式, 以及如何在 SSH 連線模式下設定 Proxy Server.</p>
<p style="padding-left: 90px;">8. <a href="https://2019wcm.blogspot.com/search/label/ssh">參考資料</a></p><h3>cp1a 分組名單</h3>
<p>====================<br/> 第 1 組成員:<br/> <a href="https://github.com/s40523147/cp2019/">40523147 倉儲</a> | <a href="https://s40523147.github.io/cp2019">40523147 網站</a><br/> <a href="https://github.com/40823106/cp2019/">40823106 倉儲</a> | <a href="https://40823106.github.io/cp2019">40823106 網站</a><br/> <a href="https://github.com/40823107/cp2019/">40823107 倉儲</a> | <a href="https://40823107.github.io/cp2019">40823107 網站</a><br/> <a href="https://github.com/40823115/cp2019/">40823115 倉儲</a> | <a href="https://40823115.github.io/cp2019">40823115 網站</a><br/> <a href="https://github.com/40823126/cp2019/">40823126 倉儲</a> | <a href="https://40823126.github.io/cp2019">40823126 網站</a><br/> <a href="https://github.com/40823132/cp2019/">40823132 倉儲</a> | <a href="https://40823132.github.io/cp2019">40823132 網站</a><br/> <a href="https://github.com/40823134/cp2019/">40823134 倉儲</a> | <a href="https://40823134.github.io/cp2019">40823134 網站</a><br/> <a href="https://github.com/40823142/cp2019/">40823142 倉儲</a> | <a href="https://40823142.github.io/cp2019">40823142 網站</a><br/> <a href="https://github.com/40823147/cp2019/">40823147 倉儲</a> | <a href="https://40823147.github.io/cp2019">40823147 網站</a><br/> <a href="https://github.com/40823149/cp2019/">40823149 倉儲</a> | <a href="https://40823149.github.io/cp2019">40823149 網站</a><br/> ====================<br/> 第 2 組成員:<br/> <a href="https://github.com/s40523106/cp2019/">40523106 倉儲</a> | <a href="https://s40523106.github.io/cp2019">40523106 網站</a><br/> <a href="https://github.com/40623153/cp2019/">40623153 倉儲</a> | <a href="https://40623153.github.io/cp2019">40623153 網站</a><br/> <a href="https://github.com/40623157/cp2019/">40623157 倉儲</a> | <a href="https://40623157.github.io/cp2019">40623157 網站</a><br/> <a href="https://github.com/40723113/cp2019/">40723113 倉儲</a> | <a href="https://40723113.github.io/cp2019">40723113 網站</a><br/> <a href="https://github.com/40823110/cp2019/">40823110 倉儲</a> | <a href="https://40823110.github.io/cp2019">40823110 網站</a><br/> <a href="https://github.com/40823120/cp2019/">40823120 倉儲</a> | <a href="https://40823120.github.io/cp2019">40823120 網站</a><br/> <a href="https://github.com/40823129/cp2019/">40823129 倉儲</a> | <a href="https://40823129.github.io/cp2019">40823129 網站</a><br/> <a href="https://github.com/40823130/cp2019/">40823130 倉儲</a> | <a href="https://40823130.github.io/cp2019">40823130 網站</a><br/> <a href="https://github.com/40823136/cp2019/">40823136 倉儲</a> | <a href="https://40823136.github.io/cp2019">40823136 網站</a><br/> <a href="https://github.com/40823150/cp2019/">40823150 倉儲</a> | <a href="https://40823150.github.io/cp2019">40823150 網站</a><br/> ====================<br/> 第 3 組成員:<br/> <a href="https://github.com/s40523203/cp2019/">40523203 倉儲</a> | <a href="https://s40523203.github.io/cp2019">40523203 網站</a><br/> <a href="https://github.com/40823101/cp2019/">40823101 倉儲</a> | <a href="https://40823101.github.io/cp2019">40823101 網站</a><br/> <a href="https://github.com/40823103/cp2019/">40823103 倉儲</a> | <a href="https://40823103.github.io/cp2019">40823103 網站</a><br/> <a href="https://github.com/40823113/cp2019/">40823113 倉儲</a> | <a href="https://40823113.github.io/cp2019">40823113 網站</a><br/> <a href="https://github.com/40823118/cp2019/">40823118 倉儲</a> | <a href="https://40823118.github.io/cp2019">40823118 網站</a><br/> <a href="https://github.com/40823125/cp2019/">40823125 倉儲</a> | <a href="https://40823125.github.io/cp2019">40823125 網站</a><br/> <a href="https://github.com/40823127/cp2019/">40823127 倉儲</a> | <a href="https://40823127.github.io/cp2019">40823127 網站</a><br/> <a href="https://github.com/40823137/cp2019/">40823137 倉儲</a> | <a href="https://40823137.github.io/cp2019">40823137 網站</a><br/> <a href="https://github.com/40823145/cp2019/">40823145 倉儲</a> | <a href="https://40823145.github.io/cp2019">40823145 網站</a><br/> <a href="https://github.com/40823151/cp2019/">40823151 倉儲</a> | <a href="https://40823151.github.io/cp2019">40823151 網站</a><br/> ====================<br/> 第 4 組成員:<br/> <a href="https://github.com/40623156/cp2019/">40623156 倉儲</a> | <a href="https://40623156.github.io/cp2019">40623156 網站</a><br/> <a href="https://github.com/40823104/cp2019/">40823104 倉儲</a> | <a href="https://40823104.github.io/cp2019">40823104 網站</a><br/> <a href="https://github.com/40823109/cp2019/">40823109 倉儲</a> | <a href="https://40823109.github.io/cp2019">40823109 網站</a><br/> <a href="https://github.com/40823111/cp2019/">40823111 倉儲</a> | <a href="https://40823111.github.io/cp2019">40823111 網站</a><br/> <a href="https://github.com/a40823112/cp2019/">40823112 倉儲</a> | <a href="https://a40823112.github.io/cp2019">40823112 網站</a><br/> <a href="https://github.com/40823116/cp2019/">40823116 倉儲</a> | <a href="https://40823116.github.io/cp2019">40823116 網站</a><br/> <a href="https://github.com/40823119/cp2019/">40823119 倉儲</a> | <a href="https://40823119.github.io/cp2019">40823119 網站</a><br/> <a href="https://github.com/40823123/cp2019/">40823123 倉儲</a> | <a href="https://40823123.github.io/cp2019">40823123 網站</a><br/> <a href="https://github.com/40823128/cp2019/">40823128 倉儲</a> | <a href="https://40823128.github.io/cp2019">40823128 網站</a><br/> <a href="https://github.com/40823144/cp2019/">40823144 倉儲</a> | <a href="https://40823144.github.io/cp2019">40823144 網站</a><br/> ====================<br/> 第 5 組成員:<br/> <a href="https://github.com/40623155/cp2019/">40623155 倉儲</a> | <a href="https://40623155.github.io/cp2019">40623155 網站</a><br/> <a href="https://github.com/40823102/cp2019/">40823102 倉儲</a> | <a href="https://40823102.github.io/cp2019">40823102 網站</a><br/> <a href="https://github.com/40823108/cp2019/">40823108 倉儲</a> | <a href="https://40823108.github.io/cp2019">40823108 網站</a><br/> <a href="https://github.com/40823122/cp2019/">40823122 倉儲</a> | <a href="https://40823122.github.io/cp2019">40823122 網站</a><br/> <a href="https://github.com/40823133/cp2019/">40823133 倉儲</a> | <a href="https://40823133.github.io/cp2019">40823133 網站</a><br/> <a href="https://github.com/40823135/cp2019/">40823135 倉儲</a> | <a href="https://40823135.github.io/cp2019">40823135 網站</a><br/> <a href="https://github.com/40823139/cp2019/">40823139 倉儲</a> | <a href="https://40823139.github.io/cp2019">40823139 網站</a><br/> <a href="https://github.com/40823140/cp2019/">40823140 倉儲</a> | <a href="https://40823140.github.io/cp2019">40823140 網站</a><br/> <a href="https://github.com/40823141/cp2019/">40823141 倉儲</a> | <a href="https://40823141.github.io/cp2019">40823141 網站</a><br/> <a href="https://github.com/40823148/cp2019/">40823148 倉儲</a> | <a href="https://40823148.github.io/cp2019">40823148 網站</a><br/> ====================<br/> 第 6 組成員:<br/> <a href="https://github.com/40823105/cp2019/">40823105 倉儲</a> | <a href="https://40823105.github.io/cp2019">40823105 網站</a><br/> <a href="https://github.com/40823114/cp2019/">40823114 倉儲</a> | <a href="https://40823114.github.io/cp2019">40823114 網站</a><br/> <a href="https://github.com/40823117/cp2019/">40823117 倉儲</a> | <a href="https://40823117.github.io/cp2019">40823117 網站</a><br/> <a href="https://github.com/40823121/cp2019/">40823121 倉儲</a> | <a href="https://40823121.github.io/cp2019">40823121 網站</a><br/> <a href="https://github.com/40823124/cp2019/">40823124 倉儲</a> | <a href="https://40823124.github.io/cp2019">40823124 網站</a><br/> <a href="https://github.com/40823131/cp2019/">40823131 倉儲</a> | <a href="https://40823131.github.io/cp2019">40823131 網站</a><br/> <a href="https://github.com/40823138/cp2019/">40823138 倉儲</a> | <a href="https://40823138.github.io/cp2019">40823138 網站</a><br/> <a href="https://github.com/40823143/cp2019/">40823143 倉儲</a> | <a href="https://40823143.github.io/cp2019">40823143 網站</a><br/> <a href="https://github.com/40823146/cp2019/">40823146 倉儲</a> | <a href="https://40823146.github.io/cp2019">40823146 網站</a></p>
<p><br/> [[40523147, 40823106, 40823107, 40823115, 40823126, 40823132, 40823134, 40823142, 40823147, 40823149], [40523106, 40623153, 40623157, 40723113, 40823110, 40823120, 40823129, 40823130, 40823136, 40823150], [40523203, 40823101, 40823103, 40823113, 40823118, 40823125, 40823127, 40823137, 40823145, 40823151], [40623156, 40823104, 40823109, 40823111, 40823112, 40823116, 40823119, 40823123, 40823128, 40823144], [40623155, 40823102, 40823108, 40823122, 40823133, 40823135, 40823139, 40823140, 40823141, 40823148], [40823105, 40823114, 40823117, 40823121, 40823124, 40823131, 40823138, 40823143, 40823146]]</p><h3>cp1b 分組名單</h3>
<p>====================<br/> 第 1 組成員:<br/> <a href="https://github.com/s40523113/cp2019/">40523113 倉儲</a> | <a href="https://s40523113.github.io/cp2019">40523113 網站</a><br/> <a href="https://github.com/s40523124/cp2019/">40523124 倉儲</a> | <a href="https://s40523124.github.io/cp2019">40523124 網站</a><br/> <a href="https://github.com/s40523242/cp2019/">40523242 倉儲</a> | <a href="https://s40523242.github.io/cp2019">40523242 網站</a><br/> <a href="https://github.com/40823202/cp2019/">40823202 倉儲</a> | <a href="https://40823202.github.io/cp2019">40823202 網站</a><br/> <a href="https://github.com/40823206/cp2019/">40823206 倉儲</a> | <a href="https://40823206.github.io/cp2019">40823206 網站</a><br/> <a href="https://github.com/40823223/cp2019/">40823223 倉儲</a> | <a href="https://40823223.github.io/cp2019">40823223 網站</a><br/> <a href="https://github.com/40823237/cp2019/">40823237 倉儲</a> | <a href="https://40823237.github.io/cp2019">40823237 網站</a><br/> <a href="https://github.com/40823241/cp2019/">40823241 倉儲</a> | <a href="https://40823241.github.io/cp2019">40823241 網站</a><br/> <a href="https://github.com/40823248/cp2019/">40823248 倉儲</a> | <a href="https://40823248.github.io/cp2019">40823248 網站</a><br/> <a href="https://github.com/40823251/cp2019/">40823251 倉儲</a> | <a href="https://40823251.github.io/cp2019">40823251 網站</a><br/> ====================<br/> 第 2 組成員:<br/> <a href="https://github.com/s40523108/cp2019/">40523108 倉儲</a> | <a href="https://s40523108.github.io/cp2019">40523108 網站</a><br/> <a href="https://github.com/s40523207/cp2019/">40523207 倉儲</a> | <a href="https://s40523207.github.io/cp2019">40523207 網站</a><br/> <a href="https://github.com/40823207/cp2019/">40823207 倉儲</a> | <a href="https://40823207.github.io/cp2019">40823207 網站</a><br/> <a href="https://github.com/40823213/cp2019/">40823213 倉儲</a> | <a href="https://40823213.github.io/cp2019">40823213 網站</a><br/> <a href="https://github.com/40823220/cp2019/">40823220 倉儲</a> | <a href="https://40823220.github.io/cp2019">40823220 網站</a><br/> <a href="https://github.com/40823221/cp2019/">40823221 倉儲</a> | <a href="https://40823221.github.io/cp2019">40823221 網站</a><br/> <a href="https://github.com/40823222/cp2019/">40823222 倉儲</a> | <a href="https://40823222.github.io/cp2019">40823222 網站</a><br/> <a href="https://github.com/40823236/cp2019/">40823236 倉儲</a> | <a href="https://40823236.github.io/cp2019">40823236 網站</a><br/> <a href="https://github.com/40823247/cp2019/">40823247 倉儲</a> | <a href="https://40823247.github.io/cp2019">40823247 網站</a><br/> <a href="https://github.com/40823249/cp2019/">40823249 倉儲</a> | <a href="https://40823249.github.io/cp2019">40823249 網站</a><br/> ====================<br/> 第 3 組成員:<br/> <a href="https://github.com/s40523138/cp2019/">40523138 倉儲</a> | <a href="https://s40523138.github.io/cp2019">40523138 網站</a><br/> <a href="https://github.com/s40523241/cp2019/">40523241 倉儲</a> | <a href="https://s40523241.github.io/cp2019">40523241 網站</a><br/> <a href="https://github.com/40823209/cp2019/">40823209 倉儲</a> | <a href="https://40823209.github.io/cp2019">40823209 網站</a><br/> <a href="https://github.com/40823214/cp2019/">40823214 倉儲</a> | <a href="https://40823214.github.io/cp2019">40823214 網站</a><br/> <a href="https://github.com/40823216/cp2019/">40823216 倉儲</a> | <a href="https://40823216.github.io/cp2019">40823216 網站</a><br/> <a href="https://github.com/40823218/cp2019/">40823218 倉儲</a> | <a href="https://40823218.github.io/cp2019">40823218 網站</a><br/> <a href="https://github.com/40823238/cp2019/">40823238 倉儲</a> | <a href="https://40823238.github.io/cp2019">40823238 網站</a><br/> <a href="https://github.com/40823243/cp2019/">40823243 倉儲</a> | <a href="https://40823243.github.io/cp2019">40823243 網站</a><br/> <a href="https://github.com/40823246/cp2019/">40823246 倉儲</a> | <a href="https://40823246.github.io/cp2019">40823246 網站</a><br/> <a href="https://github.com/40823250/cp2019/">40823250 倉儲</a> | <a href="https://40823250.github.io/cp2019">40823250 網站</a><br/> ====================<br/> 第 4 組成員:<br/> <a href="https://github.com/40823208/cp2019/">40823208 倉儲</a> | <a href="https://40823208.github.io/cp2019">40823208 網站</a><br/> <a href="https://github.com/40823212/cp2019/">40823212 倉儲</a> | <a href="https://40823212.github.io/cp2019">40823212 網站</a><br/> <a href="https://github.com/40823217/cp2019/">40823217 倉儲</a> | <a href="https://40823217.github.io/cp2019">40823217 網站</a><br/> <a href="https://github.com/40823226/cp2019/">40823226 倉儲</a> | <a href="https://40823226.github.io/cp2019">40823226 網站</a><br/> <a href="https://github.com/40823230/cp2019/">40823230 倉儲</a> | <a href="https://40823230.github.io/cp2019">40823230 網站</a><br/> <a href="https://github.com/40823232/cp2019/">40823232 倉儲</a> | <a href="https://40823232.github.io/cp2019">40823232 網站</a><br/> <a href="https://github.com/40823233/cp2019/">40823233 倉儲</a> | <a href="https://40823233.github.io/cp2019">40823233 網站</a><br/> <a href="https://github.com/40823240/cp2019/">40823240 倉儲</a> | <a href="https://40823240.github.io/cp2019">40823240 網站</a><br/> <a href="https://github.com/40823244/cp2019/">40823244 倉儲</a> | <a href="https://40823244.github.io/cp2019">40823244 網站</a><br/> <a href="https://github.com/40823245/cp2019/">40823245 倉儲</a> | <a href="https://40823245.github.io/cp2019">40823245 網站</a><br/> ====================<br/> 第 5 組成員:<br/> <a href="https://github.com/s40523111/cp2019/">40523111 倉儲</a> | <a href="https://s40523111.github.io/cp2019">40523111 網站</a><br/> <a href="https://github.com/40823201/cp2019/">40823201 倉儲</a> | <a href="https://40823201.github.io/cp2019">40823201 網站</a><br/> <a href="https://github.com/40823203/cp2019/">40823203 倉儲</a> | <a href="https://40823203.github.io/cp2019">40823203 網站</a><br/> <a href="https://github.com/40823204/cp2019/">40823204 倉儲</a> | <a href="https://40823204.github.io/cp2019">40823204 網站</a><br/> <a href="https://github.com/40823205/cp2019/">40823205 倉儲</a> | <a href="https://40823205.github.io/cp2019">40823205 網站</a><br/> <a href="https://github.com/40823210/cp2019/">40823210 倉儲</a> | <a href="https://40823210.github.io/cp2019">40823210 網站</a><br/> <a href="https://github.com/40823225/cp2019/">40823225 倉儲</a> | <a href="https://40823225.github.io/cp2019">40823225 網站</a><br/> <a href="https://github.com/40823227/cp2019/">40823227 倉儲</a> | <a href="https://40823227.github.io/cp2019">40823227 網站</a><br/> <a href="https://github.com/40823234/cp2019/">40823234 倉儲</a> | <a href="https://40823234.github.io/cp2019">40823234 網站</a><br/> <a href="https://github.com/40823235/cp2019/">40823235 倉儲</a> | <a href="https://40823235.github.io/cp2019">40823235 網站</a><br/> ====================<br/> 第 6 組成員:<br/> <a href="https://github.com/40723153/cp2019/">40723153 倉儲</a> | <a href="https://40723153/github.io/cp2019">40723153 網站</a><br/> <a href="https://github.com/40732331/cp2019/">40732331 倉儲</a> | <a href="https://40732331.github.io/cp2019">40732331 網站</a><br/> <a href="https://github.com/40823211/cp2019/">40823211 倉儲</a> | <a href="https://40823211.github.io/cp2019">40823211 網站</a><br/> <a href="https://github.com/40823215/cp2019/">40823215 倉儲</a> | <a href="https://40823215.github.io/cp2019">40823215 網站</a><br/> <a href="https://github.com/40823219/cp2019/">40823219 倉儲</a> | <a href="https://40823219.github.io/cp2019">40823219 網站</a><br/> <a href="https://github.com/40823224/cp2019/">40823224 倉儲</a> | <a href="https://40823224.github.io/cp2019">40823224 網站</a><br/> <a href="https://github.com/40823228/cp2019/">40823228 倉儲</a> | <a href="https://40823228.github.io/cp2019">40823228 網站</a><br/> <a href="https://github.com/40823229/cp2019/">40823229 倉儲</a> | <a href="https://40823229.github.io/cp2019">40823229 網站</a><br/> <a href="https://github.com/40823231-2/cp2019/">40823231 倉儲</a> | <a href="https://40823231-2.github.io/cp2019">40823231 網站</a><br/> <a href="https://github.com/40823239/cp2019/">40823239 倉儲</a> | <a href="https://40823239.github.io/cp2019">40823239 網站</a><br/> <a href="https://github.com/40823242/cp2019/">40823242 倉儲</a> | <a href="https://40823242.github.io/cp2019">40823242 網站</a></p>
<p><br/> [[40523113, 40523124, 40523242, 40823202, 40823206, 40823223, 40823237, 40823241, 40823248, 40823251], [40523108, 40523207, 40823207, 40823213, 40823220, 40823221, 40823222, 40823236, 40823247, 40823249], [40523138, 40523241, 40823209, 40823214, 40823216, 40823218, 40823238, 40823243, 40823246, 40823250], [40823208, 40823212, 40823217, 40823226, 40823230, 40823232, 40823233, 40823240, 40823244, 40823245], [40523111, 40823201, 40823203, 40823204, 40823205, 40823210, 40823225, 40823227, 40823234, 40823235], [40723153, 40732331, 40823211, 40823215, 40823219, 40823224, 40823228, 40823229, 40823231, 40823239, 40823242]]</p>
<h4>亂數分組程式</h4>
<pre class="brush:dart;auto-links:false;toolbar:false" contenteditable="false">import 'dart:html';

void main() {
  // 每一組 10 人
  int num = 10;
  // 組序由 1 開始
  int gth = 1;
  // 迴圈序號變數
  int i;
  // 每組學員暫存數列
  var gp_list = [];
  // 全班分組數列
  var cp2019 = [];

  HttpRequest.getString(
          'https://mde.tw/cp2019/downloads/2019fall_cp_1b_list.txt')
      .then((String resp) {
    // 利用 trim() 去除字串最後的跳行符號, 之後再利用 split() 根據 \n 轉為數列
    var stud_list = resp.trim().split("\n");
    // 數列利用 shuffle() 方法以隨機方法弄亂順序
    stud_list.shuffle();
    // 逐一讀取已經弄亂的學生學號數列, 利用模數運算每幾人分成一組
    for (i = 0; i &lt; stud_list.length; i++) {
      // 0, 1~(num-1), num
      if (i % num == 0) {
        gp_list = [];
        // 列印區隔符號
        print('=' * 20 + '&lt;br /&gt;');
        print("group $gth :&lt;br /&gt;");
        print(stud_list[i] + '&lt;br /&gt;');
        // 在各分組數列中加入將對應的學員學號
        gp_list.add(stud_list[i]);
        gth = gth + 1;
      } else {
        print(stud_list[i] + '&lt;br /&gt;');
        // 在各分組數列中加入將對應的學員學號
        gp_list.add(stud_list[i]);
      }
      if (i % num == 0) {
        // 逐步將各組暫存的分組數列加入全班分組數列中
        cp2019.add(gp_list);
      }
    }
    // 對各組學號排序
    cp2019.forEach((element){element.sort();});
    // 列出分組且排序後數列
    print(cp2019);
    print('&lt;br /&gt;');
  });
}
</pre>
<h4>轉換資料程式 (根據學號建立倉儲與網站連結)</h4>
<pre class="brush:dart;auto-links:false;toolbar:false" contenteditable="false">import 'dart:convert';

main() {
  String id, account;
  var lists = json.decode('''
  [[40523113, 40523124, 40523242, 40823202, 40823206, 40823223, 40823237, 40823241, 40823248, 40823251], [40523108, 40523207, 40823207, 40823213, 40823220, 40823221, 40823222, 40823236, 40823247, 40823249], [40523138, 40523241, 40823209, 40823214, 40823216, 40823218, 40823238, 40823243, 40823246, 40823250], [40823208, 40823212, 40823217, 40823226, 40823230, 40823232, 40823233, 40823240, 40823244, 40823245], [40523111, 40823201, 40823203, 40823204, 40823205, 40823210, 40823225, 40823227, 40823234, 40823235], [40823211, 40823215, 40823219, 40823224, 40823228, 40823229, 40823231, 40823239, 40823242]]''');
  for (int i = 0; i &lt; lists.length; i++) {
    print('=' * 20 + "&lt;br /&gt;");
    print("第 ${i + 1} 組成員:" + "&lt;br /&gt;");
    for (int j = 0; j &lt; lists[i].length; j++) {
      id = lists[i][j].toString();
      if (id.contains('4052')) {
        account = "s" + id;
      } else {
        account = id;
      }
      print("&lt;a href='https://github.com/" +
          account +
          "/cp2019/'&gt;" +
          id +
          " 倉儲&lt;/a&gt; | &lt;a href='https://" +
          account +
          ".github.io/cp2019'&gt;" +
          id +
          " 網站&lt;/a&gt;&lt;br /&gt;");
    }
  }</pre>
<p></p><h2>Task2</h2>
<p>在學習如何利用 Dart 語法建立亂數分組程式時, 必須先了解如何使用 <a href="https://dart.dev/tools/dartpad">Dartpad</a>,</p>
<p>由 Google 所提供的 <a href="https://dartpad.dartlang.org/">https://dartpad.dartlang.org/</a> , <a href="https://dartpad.dev/">https://dartpad.dev/</a> 與 <a href="https://dartpad.cn/">https://dartpad.cn/</a> 都可以在純 IPv6 的網路連線環境下擷取. 其中 <a href="https://dartpad.cn/">https://dartpad.cn/</a> 是專門提供中國地區的用戶使用.</p>
<p>而 <a href="http://mde.tw/dartpad">http://mde.tw/dartpad</a> 是透過 Github Pages 建立, 目前只能在 IPv4 環境下連線.</p>
<p>此外, 目前 Dartpad 只支援能夠在網頁上運作的程式庫, 包括:</p>
<p style="padding-left: 30px;">dart:core, dart:html, dart:math, dart:convert, dart:async</p>
<p>由於 <a href="https://github.com/dart-lang/dart-pad">https://github.com/dart-lang/dart-pad</a> 的執行, 除了需要前端的 WWW 伺服器外, 還需要後端的 <a href="https://github.com/dart-lang/dart-services">https://github.com/dart-lang/dart-services</a> 伺服器, 而上述所有提供 Dartpad 服務的線上主機都使用 Google 所提供的 dart-services 服務, 因此對 Dartpad 的連線必須在廣域網路上運作.</p>
<p>假如希望建立能夠在區域網路或近端內部網路運作的 Dartpad, 必須自行建立 <span> </span><a href="https://github.com/dart-lang/dart-services">https://github.com/dart-lang/dart-services</a><span> 伺服器, 然後修改前端指向, 就可以在不連接到廣域網路的情況下使用 Dartpad.</span></p>
<p><span>目前 Dartpad 所提供執行的程式, 可以包含 html 與 css 的配置, 且能夠透過 dart2js 的轉換將網際 Dart + html + css 的 Dartpad 程式, 轉為直接在網頁上運作的純 Javascript 程式.</span></p>
<h4><span>有關 HTML:</span></h4>
<p style="padding-left: 30px;"><span>Hypertext Markup Language (HTML) is the language for delivering content on the World Wide Web (WWW). HTML documents contain elements surrounded by tags—text that starts with a &lt; symbol and ends with a &gt; symbol.  Basic HTML can include directives for formatting in a language called Cascading Style Sheets (CSS) and programs for interaction in a language called JavaScript. Browsers, such as Firefox and Chrome, interpret the HTML along with any CSS and JavaScript to produce what we experience when we visit a website. HTML holds the content of the website, with tags providing information on the nature and structure of the content as well as references to images and other media. CSS specifies the formatting. The same content can be formatted in different ways. JavaScript is a programming language that’s used to make the website dynamic and interactive.</span></p>
<p style="padding-left: 30px;"><span><a href="https://developer.mozilla.org/zh-TW/docs/Learn/Getting_started_with_the_web/HTML_basics">https://developer.mozilla.org/zh-TW/docs/Learn/Getting_started_with_the_web/HTML_basics</a></span></p>
<h4>有關 CSS:</h4>
<p style="padding-left: 30px;"><a href="https://developer.mozilla.org/zh-TW/docs/Learn/Getting_started_with_the_web/CSS_basics">https://developer.mozilla.org/zh-TW/docs/Learn/Getting_started_with_the_web/CSS_basics</a></p>
<h4>有關 Dart:</h4>
<p style="padding-left: 30px;">Dart for Absolute Beginners (2014)</p>
<p style="padding-left: 60px;"><a href="https://link.springer.com/book/10.1007/978-1-4302-6482-8">https://link.springer.com/book/10.1007/978-1-4302-6482-8</a></p>
<p style="padding-left: 30px;"><a href="https://da-bootcamp.firebaseapp.com/?course=start_programming_dart">https://da-bootcamp.firebaseapp.com/?course=start_programming_dart</a></p>
<h4>Task2: <span>(佔學期成績 10%)</span></h4>
<p style="padding-left: 30px;">利用 Dartpad 執行亂數分組</p>
<p style="padding-left: 60px;">了解如何利用 ShareX 拍攝操作影片</p>
<p style="padding-left: 90px;"><a href="https://github.com/ShareX/ShareX/releases/tag/v13.0.1">下載 ShareX 可攜版本</a></p>
<p style="padding-left: 60px;">了解如何編輯 mp4  影音檔案, 加入浮水印與字幕</p>
<p style="padding-left: 90px;"><span>請登入 @gm 電子郵箱後, 下載 </span><a href="https://drive.google.com/file/d/1UdEVnmursZFgWrYTY1CqDOWSjt7nr84N/view?usp=sharing">aegisub_avidemux_openshot.7z</a></p>
<p style="padding-left: 60px;">了解如何將數據檔案送到個人網站中</p>
<p style="padding-left: 90px;">使用 git 新增提交推送</p>
<p style="padding-left: 60px;">了解如何在 Dartpad 讀取各公開 URL 數據資料</p>
<p style="padding-left: 60px;">了解如何將所讀取的資料轉為數列</p>
<p style="padding-left: 60px;">了解如何隨機弄亂數列內容</p>
<p style="padding-left: 60px;">了解如何使用 for 重複迴圈</p>
<p style="padding-left: 60px;">了解如何依序取出數列中的資料</p>
<p style="padding-left: 60px;">了解如何依序在數列中放入資料</p>
<p style="padding-left: 30px;">分組作業: 請討論如何讓亂數分組程式更加完善, 無需人為插手進行分組.</p>
<p style="padding-left: 60px;">問題描述:</p>
<p style="padding-left: 90px;"><a href="http://mde.tw/dartpad?id=d7c4f7b267d43acd6ee7f78d581c4c5c">設一甲亂數分組</a></p>
<p style="padding-left: 90px;"><a href="https://mde.tw/dartpad?id=8463c358dfeb477801b2c42737697e82">設一乙亂數分組</a></p>
<p style="padding-left: 90px;">開學第一週時, 設一甲有 52 人, 若以每 10 人為一組, 則最後剩下之 2 人將以手動, 分別在第一組與第二組各加上一人, 因此最後結果為第一組與第二組有 11 人, 其餘三組則維持 10 人.</p>
<p style="padding-left: 90px;">請各組討論如何以 Dartpad 上的程式, 直接自動完成亂數分組, 無需人為插手調整.</p><h3>Dart2 基本語法</h3>
<h4>學習摘要:</h4>
<p style="padding-left: 30px;">Dart 程式語言的執行與傳統的 C 程式相同, <span style="background-color: #ffff00;">必須從 main() 主函式開始執行</span>.</p>
<p style="padding-left: 30px;">Dart 程式語法在每一個完整的可執行程式段, 使用 ";" 隔開, 並利用大括號 "{}" 來區隔程式區段.</p>
<p style="padding-left: 30px;">Dart 程式具有資料型別推斷的設計, 但是當變數內容存放特定資料型別後, 便無法再自動轉為其他型別資料.</p>
<p style="padding-left: 30px;">Dartpad 系統的執行分為前端與後端兩個部分, 以 <a href="https://mde.tw/dartpad">https://mde.tw/dartpad</a> 為例, 整體倉儲位於 <a href="https://github.com/mdecourse/dartpad">https://github.com/mdecourse/dartpad</a>, 其中的 docs 目錄被設定為 Github Pages 的資料伺服目錄, 亦即 <a href="https://mdecourse.github.io/dartpad">https://mdecourse.github.io/dartpad</a> 的前端採用 Github Pages, 因此目前只能透過 IPv4 網路協定連線.</p>
<p style="padding-left: 30px;">而此一 Dartpad 系統還透過 <a href="https://github.com/mdecourse/dartpad/blob/master/lib/services/common.dart">https://github.com/mdecourse/dartpad/blob/master/lib/services/common.dart</a> 中的設定, 利用 <a href="https://dart-services.appspot.com/">https://dart-services.appspot.com/</a> 所提供的服務作為後端.</p>
<p style="padding-left: 30px;">使用者也可以自行利用 <a href="https://github.com/dart-lang/dart-services">https://github.com/dart-lang/dart-services</a> 程式碼, 自行建立 Dartpad 所需的後端伺服器, 並修改 Dartpad 前端的 <a href="https://github.com/mdecourse/dartpad/blob/master/lib/services/common.dart">https://github.com/mdecourse/dartpad/blob/master/lib/services/common.dart</a><span>  設定, 指向自行設定的 Dart Server 即可在區域網路中運行 Dartpad 服務.</span></p>
<p><a href="https://dart.dev/samples">Dart language samples</a>, <a href="https://dart.dev/guides/language/language-tour">Dart language tour</a>, <a href="https://dart.dev/codelabs/async-await">Dart async-await</a>.</p>
<p><a href="https://link.springer.com/book/10.1007/978-1-4302-6482-8">Dart for Absolute Beginners</a></p>
<p><a href="https://da-bootcamp.firebaseapp.com/?course=start_programming_dart">https://da-bootcamp.firebaseapp.com/?course=start_programming_dart</a> </p>
<h4><span>有關 HTML:</span></h4>
<p style="padding-left: 30px;"><span><a href="https://developer.mozilla.org/zh-TW/docs/Learn/Getting_started_with_the_web/HTML_basics">https://developer.mozilla.org/zh-TW/docs/Learn/Getting_started_with_the_web/HTML_basics</a></span></p>
<h4>有關 CSS:</h4>
<p style="padding-left: 30px;"><a href="https://developer.mozilla.org/zh-TW/docs/Learn/Getting_started_with_the_web/CSS_basics">https://developer.mozilla.org/zh-TW/docs/Learn/Getting_started_with_the_web/CSS_basics</a></p>
<h4>print() 程式</h4>
<p>程式碼位於: <a href="https://github.com/mdecourse/cp2019/tree/master/downloads/dart_ex/hello">https://github.com/mdecourse/cp2019/tree/master/downloads/dart_ex/hello</a></p>
<p>利用 main.dart, index.html style.css 與 dartpad_metadata.yaml 透過 Dartpad 導入.</p>
<p>原始碼:</p>
<pre class="brush:dart;auto-links:false;toolbar:false" contenteditable="false">int i;
int sum;

main(){
  sum = 0;
  for(i=1;i &lt;= 10 ;i++){
    sum += i;
    print("$sum");
  }
  print('sum = $sum');
}</pre>
<p><iframe height="600" src="https://dartpad.dartlang.org/embed-dart.html?gh_owner=mdecourse&amp;gh_repo=cp2019&amp;gh_path=downloads/dart_ex/hello&amp;theme=dark" width="800"></iframe></p><h3>SciTE setup</h3>
<p>目前 Dartpad 只能納入特定的網際程式庫, 若需導入其他程式庫執行 Dart, 除了在之後的 Visual Studio Code 執行 Dart 與  Flutter 程式外, 也可以設法在 SciTE 編輯器中執行.</p>
<p>但是必須要修改 SciTE 中的 cpp.properties (<span style="background-color: #ffff00;">註: 假如 </span><span><span style="background-color: #ffff00;">data\wscite415\wscite 目錄中已經有先前設定的 dart.properties 檔案, 必須先行刪除</span>)</span>, 將 Dart 程式語言的關鍵字納入, 並且指定由 Tools-&gt;Go 對應採 dart.exe 來執行 Dart 程式. 而 Tools-&gt;Compile 則設定為透過 dart2js 將 Dart 程式轉為 Javascript 格式.</p>
<h4>修改 SciTE cpp.properties</h4>
<p>必須額外加入的 Dart 程式語言設定:</p>
<pre class="brush:html;auto-links:false;toolbar:false" contenteditable="false"># for Dart 1/7
file.patterns.dart=*.dart
# for Dart 2/7
filter.dart=Dart(dart)|*.dart|
# for Dart 3/7
*filter.dart=$(filter.dart)
# for Dart 4/7
lexer.$(file.patterns.dart)=cpp
# for Dart 5/7
*language.dart=&amp;Dart|dart||
# for Dart 6/7
keywordclass.dart=\
abstract continue false new this \
as default	final	null throw \
assert deferred finally	operator true \
async do for	part try \
async* dynamic get rethrow typedef \
await else	if return var \
break enum	implements set void \
case	export import static while \
catch external in super with \
class extends is	switch yield \
const factory library sync* yield* 
keywords.$(file.patterns.dart)=$(keywordclass.dart)
# for Dart 7/7
command.go.*.dart=dart.exe "$(FileNameExt)"
command.compile.*.dart=dart2js -o $(FileName).js $(FileNameExt)</pre>
<p>修改後的 <a href="/downloads/Scite_cpp.properties_dart_added.7z">cpp.properties 下載</a> (解開壓縮後, 放入隨身系統 data\wscite415\wscite 目錄中)</p>
<h4>Dart 一般程式執行</h4>
<p>配置完成後, 重新啟動隨身程式系統, 利用以下 Dart 程式進行測試:</p>
<ol>
<li>在 y:\tmp 中建立 dart_examples\petitparser_ex 目錄</li>
<li>利用 SciTE 建立  pubspec.yaml 檔案, 內容如下:<br/>
<pre class="brush:js;auto-links:false;toolbar:false" contenteditable="false">name: mocad
version: 0.0.1
dependencies:
  petitparser: ^2.4.0</pre>
<p>表示接下來的程式執行, 需要導入 petitparser 2.0.0 至 2.4.0 版的程式庫.</p>
</li>
<li>利用命令列進入 petitparser_ex 目錄後, 執行 pub install, 表示要根據 pubspec.yaml 中的設定, 安裝對應的 petitparser 程式庫, 安裝完成後, 會在 .packages 檔案中註記安裝目錄與內容.</li>
<li> 接著在 petitparser_ex 目錄中, 利用 SciTE 編輯器, 建立 petitparser_ex1.dart 內容如下:<br/>
<pre class="brush:dart;auto-links:false;toolbar:false" contenteditable="false">import "package:petitparser/petitparser.dart";
 
main() {
  var str = 'aa12bb23cc5';
  var parser =
      (digit().plus().flatten() | any().map((_) =&gt; null)).star().map((each) {
    print(each);
    var total = 0;
    for (String numStr in each) {
      if (numStr != null) {
        total += int.parse(numStr);
      }
    }
    return total;
  });
  var total = parser.parse(str);
  print(total);
}</pre>
<p>其中, 導入步驟 3 所安裝的 petitparser 程式庫後, 執行 str 字串的解析.</p>
</li>
<li>最後在 SciTE 編輯器中, 以下拉式功能表 Tools-&gt;Go 執行, 將可得到下列結果:<br/>[null, null, 12, null, null, 23, null, null, 5]<br/>Success[1:12]: 40</li>
</ol>
<h4>Dart 網際程式執行</h4>
<p>由於一般瀏覽器中只搭載 Javascript 解譯器, 因此下方的 Dart 網際程式, js_ex1.dart, 必須轉為 Javascript 後才能在網頁中執行:</p>
<p>首先宣告並安裝所需的 js 程式庫, 建立 pubspec.yaml 檔案.</p>
<pre class="brush:js;auto-links:false;toolbar:false" contenteditable="false">name: mocad
version: 0.0.1
dependencies:
  js: any</pre>
<p>以命令列進入範例程式目錄, 執行 pub install, 安裝 js 程式庫.</p>
<p>建立 js_ex1.dart 後, 利用 Tools-&gt;Compile 編譯為 js_ex1.js 程式檔案.</p>
<pre class="brush:dart;auto-links:false;toolbar:false" contenteditable="false">// 將 js_ex1.dart 轉為 javascript 檔案 js_ex1.js
//dart2js -o js_ex1.js js_ex1.dart
// 導入 package 中的程式庫
import 'package:js/js.dart';

// 宣告外部 Javascript 程式庫中的 alert 函式
@JS()
external void alert(String str);

main(){
    // 呼叫 alert 函式, 顯示出字串
    alert('哈囉! 利用 dart2js 批次檔案將 dart 轉為 javascript');
}</pre>
<p>利用 dart2js -o js_ex1.js js_ex1.dart 轉為 Javascript, 或者可以直接在已經設定使用 dart2js 轉換 dart 程式的 SciTE 編輯器, 以 Tools-&gt;Compile 將 dart 轉為 Javascript 程式.</p>
<p>配合網際 Dart 程式轉為 Javascript 後執行的 index.html:</p>
<pre class="brush:html;auto-links:false;toolbar:false" contenteditable="false">&lt;html&gt;
&lt;body&gt;
&lt;script src="js_ex1.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
<p>下載上述 <a href="/downloads/Dart_js_ex1.7z">Dart_js_ex1.7z</a> (包含 js_ex1.dart, index.html 與 pubspec.yaml 檔案)</p>
<p>下載呼叫 Cango 程式庫的 <a href="/downloads/Dart_js_ex2_Cango_js.7z">Dart_js_ex2.7z</a> (包含 js_ex2.dart, cango.dart, index2.html, Cango Javascript 程式庫與 pubspec.yaml 檔案)</p>
<p>範例二以 Dart 呼叫 <a href="https://www.arc.id.au/CanvasGraphics.html">Cango Javascript 程式庫</a>, 執行正齒輪繪圖程式:</p>
<pre class="brush:dart;auto-links:false;toolbar:false" contenteditable="false">import './cango.dart';

import 'dart:html';
//import 'dart:core';
import 'dart:math' as math;
import 'package:js/js.dart';

CanvasElement canvas;
CanvasRenderingContext2D ctx;

// n 為齒數, m 為模數, pa 為壓力角
cangoGear(int n, num m, num pa){
    int i;
    // pr 為節圓半徑 pitch circle radius
    num pr = n*m/2;
    num rb = pr*math.cos(pa*math.pi/180);
    // tooth 為單一齒的齒形數據
    var tooth = createGearTooth(m, n, pa);
    // 利用齒形數據, 建立 SVGsegs 片段資料
    var toothData = SVGsegs(tooth);
    // 將 toothData 旋轉半齒, 讓齒形以 x 軸為對稱中心
    // SVGsegs 自帶資料旋轉 rotate() 方法
    //toothData = toothData.rotate(180/n);
    // 利用 SVGsegs 自帶的 dup() 資料 duplicate 方法, 建立 gear 單齒資料
    var gearData = toothData.dup();
    // 利用單齒輪廓旋轉, 產生整個正齒輪外形
    for(i=1; i&lt;n; i++){
        //將 toothData 中的資料複製到 newTooth
        //var newTooth = toothData.dup();
        //配合迴圈, newTooth 的齒形資料進行旋轉, 然後利用 appendPath 方法, 將資料併入 gear
        var newTooth = toothData.rotate(-360*i/n);
        print(i);
        gearData = gearData.joinPath(newTooth);
    }
    // rotate the tooth to put start of involute on the x axis
    // 目前 Path 中的 pitchToBaseAngle 旋轉無法作用
    num pitchToBaseAngle = (math.sqrt(pr*pr - rb*rb)/rb) - math.acos(rb/pr);
    var gear = Path(gearData, {'degs':180*pitchToBaseAngle/math.pi, 'x':-rb, 'strokeColor':'red'});
    return gear;
}

main() {
  var cgo = Cango("canvas");
  cgo.gridboxPadding(10, 10, 10, 10);
  cgo.setWorldCoordsRHC(-100, -100, 300, 150);
  // draw axes
  cgo.drawAxes(0, 70, 0, 70,
      {'xOrigin': 0, 'yOrigin': 0, 'fontSize': 10, 'strokeColor': 'gray'});
  var gear = cangoGear(20, 5, 20);
  // 必須利用 cgo.render() 顯示 Path 資料
  cgo.render(gear);
}
</pre>
<p>cango.dart 串接程式碼:</p>
<pre class="brush:dart;auto-links:false;toolbar:false" contenteditable="false">@JS()
// 宣告此為程式庫 ,名稱為 cango
library cango;
// 此程式庫需要導入 package 中的 js 程式庫
import 'package:js/js.dart';

@JS()
class Cango {
  // Cango 為外部程式庫, 在此轉為 Dart 類別
  external factory Cango(String selector);
  // 以下為 Cango 在外部程式庫的相關方法, 在此轉為 Dart Cango 類別的物件方法
  external dynamic gridboxPadding(int left, int bottom, int right, int top);
  external dynamic setWorldCoordsRHC(num vpOriginX, num vpOriginY, num spanX, num spanY);
  external dynamic drawAxes(num xMin, num xMax, num yMin, num yMax, Map options);
  external dynamic drawPath(List pathDef, Map options);
  external dynamic render(var rootObj);
  external dynamic circle(num diameter);
  external dynamic ellipse(num width, num height);
  external dynamic square(num width);
  external dynamic rectangle(num width, num height, num rad);
  external dynamic  triangle(num side);
  external dynamic cross(num width);
  external dynamic ex(num diagonal);
}
external dynamic clone(var orgItem);
external dynamic SVGpath(String pathStr);

@JS()
class Path{
external factory Path(var commands, var options);
external dynamic dup();
}


@JS()
class SVGsegs{
    external factory SVGsegs(var data);
    external toString();
    external dynamic dup();
    external dynamic translate(num x, num y);
    external dynamic rotate(num deg);
    external dynamic appendPath(var extensionData);
    external dynamic joinPath(var extensionData);
}

// 以下為從 html Javascript 程式導入, 直接在此轉為 Dart 函式或變數宣告
external dynamic createGearTooth(num module, int teeth, num pressureAngle);
external dynamic rotateTooth(List inData, num rotRads);
external dynamic Tweener(num delay, num duration, String loopStr);
</pre>
<p>以 dart2js 將範例轉為 Javascript 後, 執行結果如下:</p>
<p>
<script src="/downloads/dart_ex/cango/Cango-15v00-min.js"></script>
<script src="/downloads/dart_ex/cango/CangoAxes-6v01-min.js"></script>
<script src="/downloads/dart_ex/cango/gearUtils-09.js"></script>
</p>
<p><canvas height="400" id="canvas" width="600"></canvas></p>
<p>
<script src="/downloads/dart_ex/cango/js_ex2.js"></script>
</p>
<h3>Dart FFI</h3>
<p><a href="https://dart.dev/guides/libraries/c-interop">https://dart.dev/guides/libraries/c-interop</a></p>
<p><a href="https://github.com/dart-lang/samples/tree/master/ffi">https://github.com/dart-lang/samples/tree/master/ffi</a></p>
<p><a href="https://flutter.dev/docs/development/platform-integration/c-interop">https://flutter.dev/docs/development/platform-integration/c-interop</a></p>
<p>一旦 Dart 可以透過 FFI (Foreign Function Interface) 與 C/C++ 所編寫的動態連結程式庫直接互動, 就可以利用 Dart 呼叫 <a href="https://github.com/solvespace/solvespace">https://github.com/solvespace/solvespace</a> 中的 Geometric Contraint Solver 程式庫, 用來解決平面機構分析問題.</p>
<h4>簡單範例:</h4>
<p style="padding-left: 30px;">進入範例目錄, 以 pub install 配合 pubspec.yaml , 安裝所需程式庫.</p>
<h4>hello.c</h4>
<pre class="brush:cpp;auto-links:false;toolbar:false" contenteditable="false">/ Copyright (c) 2019, the Dart project authors.  Please see the AUTHORS file
// for details. All rights reserved. Use of this source code is governed by a
// BSD-style license that can be found in the LICENSE file.

#include &lt;stdio.h&gt;
#include "hello.h"

int main()
{
    hello_world();
    return 0;
}

// Note:
// ---only on Windows---
// Every function needs to be exported to be able to access the functions by dart.
// Refer: https://stackoverflow.com/q/225432/8608146
void hello_world()
{
    printf("Hello World\n");
}</pre>
<h4>利用 <a href="https://drive.google.com/file/d/1fxMdqdCoCL__O1IpZ-Sv-A_4-c77Wx4E/view?usp=sharing">2019Fall可攜套件.7z</a><span>  </span>編譯為 hello_world.dll </h4>
<p style="padding-left: 30px;">gcc -shared hello.o -o ../hello_world.dll</p>
<p>以下列 hello.dart 呼叫 hello_world.dll 執行:</p>
<pre class="brush:dart;auto-links:false;toolbar:false" contenteditable="false">// Copyright (c) 2019, the Dart project authors.  Please see the AUTHORS file
// for details. All rights reserved. Use of this source code is governed by a
// BSD-style license that can be found in the LICENSE file.

import 'dart:ffi' as ffi;
import 'dart:io' show Platform;

// FFI signature of the hello_world C function
typedef hello_world_func = ffi.Void Function();
// Dart type definition for calling the C foreign function
typedef HelloWorld = void Function();

main() {
  // Open the dynamic library
  var path = "hello_world.dylib";
  if (Platform.isWindows) path = "hello_world.dll";
  final dylib = ffi.DynamicLibrary.open(path);
  // Look up the C function 'hello_world'
  final HelloWorld hello = dylib
      .lookup&lt;ffi.NativeFunction&lt;hello_world_func&gt;&gt;('hello_world')
      .asFunction();
  // Call the function
  hello();
}
</pre>
<p></p>
<p></p><h3>Cango Library</h3>
<p><a href="https://www.arc.id.au/CanvasGraphics.html">https://www.arc.id.au/CanvasGraphics.html</a>  是一套利用 Javascript 編寫的 <a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Canvas_API/Tutorial">Canvas 繪圖</a>程式庫.</p>
<p>Cango user guide: <a href="https://www.arc.id.au/CangoUserGuide.html">https://www.arc.id.au/CangoUserGuide.html</a></p><h2>Task3</h2>
<h4>Task3: <span>(佔學期成績 10%)</span></h4>
<p style="padding-left: 30px;"><span>請充分了解 </span></p>
<p style="padding-left: 60px;">Dart for Absolute Beginners (2014)</p>
<p style="padding-left: 60px;"><a href="https://link.springer.com/book/10.1007/978-1-4302-6482-8">https://link.springer.com/book/10.1007/978-1-4302-6482-8</a></p>
<p style="padding-left: 30px;">Listing 4-1 猜數字遊戲近端執行版本後, 設法結合 Html5 中的表單與 CSS 設定, 完成下列 dartpad 上與單一網頁版上的猜數字遊戲程式:</p>
<hr/>
<p>猜一個 1 ~ 100 間的整數:<br/> <input id="input" type="text"/> <input id="submit" type="submit" value="猜數字"/></p>
<div id="output"></div>
<hr/>
<script src="/downloads/web_guessing.js"></script>
<p style="padding-left: 30px;">利用 Dartpad 與 Html5 Canvas 執行靜態繪圖</p>
<p style="padding-left: 60px;">了解如何<a href="http://mde.tw/dartpad/?id=b51f4d2a76e394421057a70e7d281b66">繪製中華民國國旗</a></p>
<p style="padding-left: 30px;">分組作業: 請討論如何完成美國國旗繪製</p><h2>Task4</h2>
<h4>Task4: <span>(佔學期成績 20%)</span></h4>
<p style="padding-left: 30px;"><span>利用 Dartpad 與 Html5 Canvas 執行動態繪圖</span></p>
<p style="padding-left: 60px;"><span>了解如何製作<a href="http://mde.tw/dartpad?id=fc5ad3a8136c27de79f5a33e33d5c5f6">貪食蛇遊戲</a></span></p>
<p style="padding-left: 60px;"><span>了解如何製作<a href="http://mde.tw/dartpad?id=0c7e4bbb880d11f0335d5b5da49e86db">乒乓球遊戲</a></span></p>
<p style="padding-left: 30px;"><span>分組作業: 請將上述所有 Dartpad 上的程式轉為單一 Html 網頁程式, 並上傳到各分組網站中</span></p>
<h2>Project</h2>
<h4><span>Project: (佔學期成績 30%)</span></h4>
<p style="padding-left: 30px;"><span>請根據</span></p>
<p style="padding-left: 60px;">Practical Flutter (2019)</p>
<p style="padding-left: 60px;"><a href="https://link.springer.com/book/10.1007/978-1-4842-4972-7">https://link.springer.com/book/10.1007/978-1-4842-4972-7</a></p>
<p style="padding-left: 30px;">中的範例說明, 完成各組期末專案.</p>
<p style="padding-left: 30px;">期末分組專案: 請根據上述 Task1 ~ Task4 的內容做為參考, 討論如何完成一個能夠在網頁與手機上執行的期末專案.</p>
<h1>Github</h1>
<h4>基本原理</h4>
<p style="padding-left: 30px;"><span style="background-color: #ccffcc;">分散式版次管理</span></p>
<p style="padding-left: 60px;">Github 是一個採用 git <a href="https://en.wikipedia.org/wiki/Distributed_version_control">分散式版次管理</a> (Distributed Version Control System, DVCS) 技術的網站服務, 與 git 類似的技術<a href="https://en.wikipedia.org/wiki/List_of_version-control_software#Distributed_model">還有</a> <a href="https://fossil-scm.org">Fossil SCM</a>、<a href="https://bazaar.canonical.com/en/">Bazaar</a>、<a href="https://www.mercurial-scm.org/">Mercurial</a> 等.</p>
<p style="padding-left: 60px;"><a href="https://en.wikipedia.org/wiki/Distributed_version_control">分散式版次管理</a>系統主要用於協同內容開發, 參與協同的成員可以<span style="background-color: #ffff00;">同步</span>在近端電腦上, 無需上網的情況下執行內容附加, 當各成員完成一定內容改版後, 採<span style="background-color: #ffff00;">非同步</span>對遠端共用的伺服器進行改版, 若該成員的改版內容與遠端內容產生衝突時, 則由該成員解決衝突內容後, 決定遠端的協同內容版本.</p>
<p style="padding-left: 60px;"><a href="https://en.wikipedia.org/wiki/Distributed_version_control">分散式版次管理</a><span>系統的重要特性是, 只對內容執行附加, 因此多人協同的資料<span style="background-color: #ffff00;">不會丟失</span>, 且各成員在提交推送、解決衝突後合併、以及建立版本分支進行測試的工作模式下, 各成員近端皆保有一份與遠端相近版本的內容, 且有彼此互相建立<span style="background-color: #ffff00;">完整備份</span>資料的功能, 即使特定近端內容毀損, 也能透過 clone 在近端取得一份最新版本內容, 若遠端資料毀損, 則可由任一套近端版本取代.</span></p>
<p style="padding-left: 60px;"><span><a href="https://en.wikipedia.org/wiki/Distributed_version_control">分散式版次管理</a><span>系統的另一個特性是, 各成員可以利用分支切換 (branch checkout), <span style="background-color: #ffff00;">查驗各版本</span>的完整內容, 且各成員在對特定版本附加內容時, 並<span style="background-color: #ffff00;">不會重複存檔</span>, 只透過指標技術, 對應至特定資料內容.</span></span></p>
<p style="padding-left: 30px;"><span style="background-color: #ccffcc;"><a href="https://pages.github.com/" style="background-color: #ccffcc;">Github Pages</a></span></p>
<p style="padding-left: 60px;"><a href="https://pages.github.com/">Github Pages</a> 是 Github 公司對用戶系統倉儲所提供的一項服務, 允許使用者利用倉儲主分支 (master branch) 內容, 或主分支中的 docs 目錄, 建立 WWW 網站, 且 Github 會將使用者所指定的 <a href="https://pages.github.com/">Github Pages</a> 內容與</p>
<p style="padding-left: 90px;">帳號.github.io/倉儲名稱</p>
<p style="padding-left: 60px;">網站名稱對應.</p>
<p style="padding-left: 60px;">且若使用者所建立的 <a href="https://pages.github.com/">Github Pages</a> 倉儲, 命名為 " 帳號.github.io" 時, 此一特定倉儲名稱即會設定成網站名稱.</p>
<p style="padding-left: 30px;"><span style="background-color: #ccffcc;"><a href="https://github.com/mdecourse/cmsimde" style="background-color: #ccffcc;">CMSiMDE</a> 網站內容管理系統</span></p>
<p style="padding-left: 60px;"><a href="https://github.com/mdecourse/cmsimde">CMSiMDE</a> 是一套以 <a href="https://www.python.org/">Python</a> <a href="https://www.fullstackpython.com/flask.html">Flask</a> 網際框架編寫的內容管理系統, 執行時需要 <a href="https://github.com/pallets/flask">flask</a>, <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/">bs4</a>, <a href="https://pypi.org/project/lxml/">lxml</a> 與 <a href="https://pypi.org/project/Flask-Cors/">flask_cors</a> 等模組.</p>
<p style="padding-left: 60px;"><a href="https://github.com/mdecourse/cmsimde">CMSiMDE</a> 的引用, 建議採用 <a href="https://git-scm.com/book/zh-tw/v1/Git-%E5%B7%A5%E5%85%B7-%E5%AD%90%E6%A8%A1%E7%B5%84-Submodules">git submodule</a> add 的模式, 以方便隨時取得 <a href="https://github.com/mdecourse/cmsimde">CMSiMDE</a> 系統的最新版本內容.</p>
<p style="padding-left: 60px;"><a href="https://github.com/mdecourse/cmsimde">CMSiMDE</a> 的設計是在使用者的倉儲中, 以子模組 cmsimde 的目錄名稱存在, 且使用者必須將 up_dir 的內容, 複製到使用 <a href="/get_page/Github/Github Pages">Github Pages</a> 的倉儲中, <a href="https://pages.github.com/">Github Pages</a> 支援動態模式與靜態模式, 動態模式以 cmsimde 目錄中的 wsgi.py 啟動, 當使用者進入 cmsimde 子目錄執行</p>
<p style="padding-left: 90px;">python wsgi.py</p>
<p style="padding-left: 60px;">時, 意即要使用 Python 解譯器 (interpreter) 執行 wsgi.py 程式, 啟動後使用者可以利用瀏覽器 <a>https://localhost:9443</a> 進入, 以 admin 作為預定地管理者密碼登入編輯內容. 且利用程式系統中的 WSciTE 編輯器, 開啟倉儲中的 http-server.py, 且以 Tools-&gt;Go 執行後, 可在瀏覽器 <a href="https://localhost:8444">https://localhost:8444</a> 檢視此一動態內容管理系統 content 目錄中的靜態內容, 而此一靜態內容即是使用者將 <a href="https://github.com/mdecourse/cmsimde">CMSiMDE</a> 倉儲送到 <a href="https://pages.github.com/">Github Pages</a> 所將呈現的</p>
<p style="padding-left: 90px;"><span>帳號.github.io/倉儲名稱</span></p>
<p style="padding-left: 60px;">網站內容.</p>
<p>建立 cp2019 倉儲及對應的 CMSiMDE Github Pages 網頁</p>
<p>了解基本的 Git 指令與 Github 系統的應用之後, 產生出對 GitExtensions 工具的需求, 也產生出對於透過 SSH keys 提交倉儲版本的需求, 以簡化改版流程.</p>
<p><a href="https://2019wcm.blogspot.com/search/label/GitExtensions" rel="nofollow">https://2019wcm.blogspot.com/search/label/GitExtensions</a></p>
<p><a href="https://2019wcm.blogspot.com/search/label/ssh" rel="nofollow">https://2019wcm.blogspot.com/search/label/ssh</a></p>
<p>申請 Github 帳號</p>
<p>登入 @gm 電子郵箱, 然後以學號申請 Github 帳號, 待驗證所使用的學號@gm 電子郵箱後, 即可建立 cp2019 倉儲, 特別注意新增 public repository 時, 可啟用 README.md, 隨即可以在近端以</p>
<p>git clone <a href="https://github.com/學號/cp2019.git">https://github.com/學號/cp2019.git</a></p>
<p>將遠端 Github 倉儲中的資料, clonr 至 y:\tmp 目錄的 cp2019 目錄中.</p>
<p>clone 後的 cp2019 目錄有 .git 目錄, 存放該倉儲的設定與版本資料, 以及 README.md 檔案.</p>
<p>在 .git 目錄中, 與使用者相關的是 config</p>
<h4>以子模組方式納入 CMSiMDE</h4>
<p>利用 git submodule add 納入 CMSiMDE 網際內容管理系統的程式碼</p>
<p>https://github.com/mdecourse/cmsimde</p>
<p>利用命令列視窗, 更換目錄至 y:\tmp\cp2019 之後, 執行</p>
<p>git submodule add https://github.com/mdecourse/cmsimde.git cmsimde</p>
<p>意即, 在此目錄中, 將 https://github.com/mdecourse/cmsimde.git 倉儲資料納為近端 cmsimde 目錄的內容, 且作為 submodule, 也就是設定一個倉儲的子模組, 並將此子模組與 https://github.com/mdecourse/cmsimde.git 倉儲目前的最新版本內容.</p>
<p>將子模組中 up_dir 目錄中的內容往前搬一個目錄</p>
<p>在 y:\tmp\cp2019\cmsimde 目錄中, 以</p>
<p>python wsgi.py</p>
<p>就可以啟動近端的動態網際內容管理系統, 作為近端改版之用, 可以瀏覽器中的 https://localhost:9443 連接所啟用的 CMS (Content Management System).</p>
<p>並以 admin 管理者密碼登入.</p>
<p>進入 config 修改網頁標題, 並且修改倉儲中的 init.py, 修改 site_title</p>
<p>改版後要推送資料前, 可以利用 generate_pages 將內容轉為動態網頁後, 可以利用 SciTE 開啟倉儲中的 http-server.py 檔案後以 Tools -&gt; Go 執行, 可以在瀏覽器中以 <a href="https://localhost:8444">https://localhost:8444</a> 檢查近端的靜態網頁內容, 確定無誤後. 則必須再退回 y:\tmp\cp2019 目錄之後, 必須完成 git config 的 user.name 與 user.email 之後, 可以利用:</p>
<p>git add .<br/>git commit -m "提交說明"<br/>git push</p>
<h4>以 SSH 對 cp2019 倉儲進行改版</h4>
<p>如何產生所需的 keys, 放在哪裡, public key 要送到哪裡, 設定如何寫, 在 http 模式下, 代理主機如何執行設定, 在 ssh 模式下, 代理主機要如何設定? 若近端啟動後使用超過一個 github 帳號身分, 又如何設定 http 與 ssh 模式下的倉儲改版與提交?</p>
<h4>如何 git clone 帶有子模組的倉儲</h4>
<p style="padding-left: 30px;"><a href="https://git-scm.com/book/zh-tw/v1/Git-%E5%B7%A5%E5%85%B7-%E5%AD%90%E6%A8%A1%E7%B5%84-Submodules">git submodule 使用說明</a></p>
<p>當在近端 git clone 帶有子模組的倉儲時, 首先:</p>
<p style="padding-left: 30px;">git clone 倉儲_URL.git 近端倉儲名稱</p>
<p>之後, 以 git submodule init 啟始子模組, 接著以 git submodule update 下載所對應版本的子模組內容.</p>
<p>假如倉儲中所使用的 submodule 已經改版, 希望將先前所引用的版本升級至最新版本 (例如: master 分支內容), 可以進入該子模組所在目錄, 然後執行:</p>
<p style="padding-left: 30px;">git pull origin master</p>
<h4>為何倉儲中要引用子模組?</h4>
<p style="padding-left: 30px;">子模組架構的設計與引用, 可以讓子模組的開發者根據需求隨時改版, 而引用者只需要確立所引用的子模組版次號, 即可在原始引用組態 (組成內容與狀態) 下正確協同工作.</p>
<p style="padding-left: 30px;">在機械設計流程, 想像所有系統與元件都是虛擬物件, 與 github 中的倉儲程式碼類似.</p>
<p style="padding-left: 30px;">當導入一只特殊規格的電動馬達後, 配合減速機與機構執行所需工作, 若將該馬達當成 git 的子模組, 負責研發此電動馬達的團隊, 可以不斷根據新技術的導入或修正先前的設計, 所產生新的馬達版本, 不會影響使用舊馬達版本的用戶. (請注意, 引入子模組之後的倉儲, 在其 .git 目錄中的 config 與倉儲目錄中的 .gitmodules 都註記所引用的子模組來源.)</p>
<p style="padding-left: 30px;">這時引用該馬達的機械設計模擬系統, 在不變更使用該馬達元件版本的情況下, 原始設計可以繼續出貨, 若需配合該馬達的新功能而修改其他設計之後, 只需要執行 git submodule update, 就可以取得該馬達的最新型功能, 產生最新版的機械設計內容. </p>
<h4>各組利用 Python 程式模組, 練習建立並使用 git 子模組.</h4><h2>Github Guide</h2>
<p><a href="https://guides.github.com/">https://guides.github.com/</a></p>
<p><a href="https://guides.github.com/activities/hello-world/">https://guides.github.com/activities/hello-world/</a></p>
<h2>Fossil SCM</h2>
<p><a href="https://fossil-scm.org/">https://fossil-scm.org</a> 是由 <a href="https://twitter.com/DRichardHipp">Richard Hipp</a> 所創建的一套專門用來管理 <a href="https://www.sqlite.org/index.html">SQLite</a> 資料庫系統的分散式版次管理系統.</p>
<p style="padding-left: 30px;">(註: <a href="https://www.sqlite.org/whynotgit.html">為何 SQLite 原始碼不使用 Github 管理?</a>)</p>
<p style="padding-left: 30px;">(註: <a href="https://fossil-scm.org/home/doc/trunk/www/qandc.wiki">針對 Fossil SCM的疑問與批評</a>)</p>
<p style="padding-left: 30px;">(註: <a href="https://dev.to/schollz/self-hosting-with-fossil-an-alternative-to-git-33bk">自架類似 Github 的伺服系統</a>)</p>
<p>Fossil SCM 的原始碼位於 <a href="https://fossil-scm.org/home/dir?ci=tip">https://fossil-scm.org/home/dir?ci=tip</a></p>
<p style="padding-left: 30px;">(註: 如何利用 <a href="https://www.msys2.org/">MSYS2</a> 在 Windows 10 環境下<a href="https://fossil-scm.org/home/doc/trunk/www/build.wiki">編譯</a>帶有 <a href="https://www.wolfssl.com/">OpenSSL</a> 的 fossil.exe?)</p>
<p style="padding-left: 30px;">(註: 如何延伸 Fossil SCM, 編寫與機械設計流程相關的<a href="https://fossil-scm.org/home/doc/trunk/www/adding_code.wiki">延伸程式</a>)</p>
<p style="padding-left: 30px;">(註: 如何將 Fossil SCM 與機電資虛擬或實體裝置結合, 成為能夠自動擷取具分散式版次管理架構的大數據資料來源. <a href="https://www.processonline.com.au/content/industrial-networks-buses/article/the-future-of-control-systems-and-industry-4-0-1365495420">1</a>, <a href="https://pdfs.semanticscholar.org/ae66/775f9d839cde19e5f117e7377d2b2ec8df71.pdf">2</a>, <a href="/downloads/Scanning the Industry 4.0 A Literature Review on Technologies forManufacturing Systems.pdf">3</a>)</p>
<p>在 Windows 10 環境下學習使用 Fossil SCM 的第一步就是從 <a href="https://fossil-scm.org/home/uv/download.html">https://fossil-scm.org/home/uv/download.html</a> 下載 fossil.exe.</p>
<p>下載後可將 fossil.exe 放在隨身系統 data 目錄中 (也就是啟動 start.bat 後, 設為隨身碟虛擬根目錄的 y:\), 並且將 y:\ 納入命令搜尋路徑中. 就可以利用 </p>
<p style="padding-left: 30px;">fossil version</p>
<p>查看目前所使用的 fossil.exe 版本.</p>
<p>一般在 KMOLab 的課程中, 是利用 Virtualbox 的 Ubuntu 虛擬主機配置 Fossil SCM 伺服器, 意即在 Ubuntu 中下載 Linux 版的 fossil, 並且透過與 <a href="https://www.stunnel.org/">Stunnel</a> 的整合設定, 讓 Fossil SCM 可以隨 Ubuntu 伺服器開機啟動.</p>
<p>初學者在配置 Windows 10 client 端的 fossil.exe 與 Ubuntu 伺服器端的 fossil 時, 必須注意兩端所使用的 fossil 版次是否一致. 否則將會導致部分新功能無法匹配.</p>
<p>以下用來在各班分組學習使用  Fossil SCM 的規劃是, 以組為單位下載已經配置 Fossil SCM 的 Virtualbox 虛擬主機 Ubuntu 伺服器系統:</p>
<p style="padding-left: 30px;"><a href="https://drive.google.com/open?id=1YnOxs0q95JcSSx2XABNNQ1S4k8qw8Vjk">pyslvs, uwsgi, fossil_scm 以及 squid 伺服器的 Ubuntu 18.04.vdi 下載</a><span> (12GB)</span></p>
<p><span>可以將此一虛擬主機檔案放在各組組長電腦硬碟中, 學習如何利用  Virtualbox 虛擬主機中的橋接網路 (bridged network) 設定, 讓此一帶有 Fossil SCM 系統的伺服器, 可以在電腦輔助設計室讓所有組員擷取, 以學習如何將先前送到 Github 的版本資料改由 Fossil SCM系統進行管理. 或者設法同步置放在 Github 與 Fossil SCM 伺服器中的版本資料.</span></p>
<p><span>另外, 也可以在此一 Ubuntu 虛擬主機自行設法配置 Linux 版本下的 <a href="https://github.com/dart-lang/dart-pad">Dartpad</a>, 了解 <a href="https://github.com/dart-lang/dart-pad">Dartpad</a> 系統中前端 Javascript 程式 (由 dart 編寫轉出) 如何與後端的 <a href="https://github.com/dart-lang/dart-services">Dart service</a> 結合運作.</span></p>
<p><span>而 <a href="https://github.com/dart-lang/dart-pad">Dartpad</a> 所使用的網際伺服器, 前端 Javascript 與後端 dart 整合運用的模式, 當計算機程式的學習透過 <a href="https://flutter.dev">Flutter</a> 將前端的 dart 轉換成 <a href="https://www.android.com/">Android</a> 或 <a href="https://developer.apple.com/ios/">IOS</a> 手機介面, 即是在 <a href="http://lab.kmol.info/blog/pages/about/index.html">KMOLab</a> 希望利用<a href="https://mde.tw/cp2019">計算機程式</a>、網際內容管理、<a href="https://mde.tw/cad2019">電腦輔助設計實習</a>與協同產品設計實習等課程所要達成的目標之一. 透過網際與手機介面程式當前端, 可以利用照片與影片取得與機械設計流程相關的資料, 然後隨送到後端的設計分析程式進行辨識或運算, 得出結果後, 再設法通知位於前端的工程師. 或者可以利用隨身的瀏覽器、手機或平板應用程式, 監控或操控位於遠端的機電資虛擬或實體系統.</span></p>
<h4><span>參考資料</span></h4>
<p style="padding-left: 30px;"><span><a href="http://mde.tw/2017springcd/blog/intro-fossil-scm.html">http://mde.tw/2017springcd/blog/intro-fossil-scm.html</a></span></p>
<p style="padding-left: 30px;"><a href="/downloads/Why Fossil-SCM is an excellent choice for introductory programming courses.pdf">Why Fossil-SCM is an excellent choice for introductory programming courses.pdf</a></p><h3>Fossil 伺服器</h3>
<p>本計算機課程的 dart 程式, 可以寫在 <a href="https://help.github.com/en/articles/creating-gists">Gist</a>, 然後從 <a href="https://github.com/dart-lang/dart-pad">Dartpad</a> 以"?id=gist_版次編號 "導入, 由於每一筆 <a href="https://help.github.com/en/articles/creating-gists">Gist</a> 都是 Git 倉儲, 除了具備版次外, 還能夠同時包含 html 與 css 檔案, 因此本課程所使用的 <a href="https://mde.tw/dartpad">https://mde.tw/dartpad</a> 可以在將網際 Dart 程式配置到單一 html + javascript 程式之前, 直接在  <a href="https://github.com/dart-lang/dart-pad">Dartpad</a> 上進行測試.</p>
<p>假如在近端或遠端所建立的 Fossil SCM 伺服器也能具有上述 <a href="https://github.com/dart-lang/dart-pad">Dartpad</a> 結合 <a href="https://help.github.com/en/articles/creating-gists">Gist</a> 的功能, 機械設計工程師在網際環境執行協同產品設計時, 將可同時運用 Github 與自建 Fossil SCM 伺服器執行資料同步.</p>
<h4>Fossil SCM 操作練習</h4>
<p>下載 <a href="https://drive.google.com/open?id=1YnOxs0q95JcSSx2XABNNQ1S4k8qw8Vjk">pyslvs, uwsgi, fossil_scm 以及 squid 伺服器的 Ubuntu 18.04.vdi </a><span> (12GB), 存入已經格式化為 extFAT 的隨身碟中. 利用 Windows 10 所安裝的 Virtualbox 納入此 vdi 虛擬主機, 記憶體至少 4GB, 網路設定採用 host-only. 啟動後的管理者帳號與密碼都是 kmol2019.</span></p>
<p><span></span>登入 Ubuntu 18.04 操作系統後, 以滑鼠點選左上角的 Menu-&gt;System Tools-&gt;MATE Terminal, 開啟終端機視窗. 在命令列中輸入:</p>
<p style="padding-left: 30px;">ifconfig</p>
<p>可以發現虛擬主機的網路的 IPv4 設定將網址設為 192.168.56.102, 表示 Windows 10 操作系統中的 Virtualbox Host-Only Ethernet Adapter 中的 IPv4 網路位址必須配合設為  192.168.56.101, 才能與目前啟動的 Ubuntu 伺服器互動.</p>
<p>確認 Windows 10 與 Host-Only 的 Ubuntu 網路已經連通, 可以在 Windows 命令列中以:</p>
<p style="padding-left: 30px;">ping -t 192.168.56.101</p>
<p style="padding-left: 30px;">ping -t 192.168.56.102</p>
<p>若封包回應為:</p>
<p style="padding-left: 30px;">Reply from 192.168.56.101: bytes=32 time&lt;1ms TTL=64</p>
<p style="padding-left: 30px;"><span>Reply from 192.168.56.101: bytes=32 time&lt;1ms TTL=64</span></p>
<p>使用者就可以在 Windows 10 環境, 確認瀏覽器不會透過代理主機對 192.168.56.* 網址連線, 就可以開啟 <a href="https://192.168.56.102:8443">https://192.168.56.102:8443</a> 中的 CMSiMDE 動態網際內容管理系統.</p>
<p>此一Ubuntu buntu 伺服器 CMSiMDE 的設定可以從 /etc/nginx/sites-available/default 與 /home/kmol2019/wsgi_ini/uwsgi.ini 等兩個檔案中的內容確定.</p>
<p>若希望列出 Ubuntu 中目前已經啟動的系統服務, 可以在終端機視窗中輸入:</p>
<p style="padding-left: 30px;">service --status-all</p>
<p>其中 stunnel4 與 uwsgi 等兩個服務都已經啟動, 但是 stunnel4 目前隨機啟動的設定已經關閉, 若要在 5443 埠號啟動 Fossil SCM, 必須:</p>
<p style="padding-left: 30px;">修改 /etc/default/stunnel4, 修改 ENABLED=1</p>
<p>然後以:</p>
<p style="padding-left: 30px;">sudo /etc/init.d/stunnel4 restart</p>
<p>就可以瀏覽器開啟 <a href="https://192.168.56.102:5443">https://192.168.56.102:5443</a> 中的 Fossil SCM. 而此 Ubuntu 伺服器中的 Fossil SCM 管理者帳號密碼也都預先設定為 kmol2019.</p>
<p style="padding-left: 30px;">(註: 目前此一 Ubuntu 18.04 伺服器中所安裝的 fossil 為 2.8 版, 若 Windows 10 使用 2.9 版的 fossil.exe, 則伺服器中的 fossil 也建議升級為對應的 2.9 版)</p>
<p style="padding-left: 30px;">(註: 由於使用 Host-Only 的 Virtualbox 虛擬主機, 只允許其實體電腦上的 Windows 10 操作系統中的網路連線, 與此 Windows 10 同區的電腦或外部網路上的電腦都無法對此一 Host-Only 網路上的虛擬主機連線, 因此可以使用 admin 作為 CMSiMDE 系統的管理者密碼, 也可以使用 kmol2019 作為伺服器上 Fossil SCM 系統的管理者帳號密碼.</p>
<p style="padding-left: 30px;">但是, 若此一 Virtualbox 虛擬主機改以橋接上網 (bridged network), 則其網路位階將提升與 Windows 10 操作系統的網路卡相同, 此時的 Ubuntu 伺服器若無進一步的防火牆保護設定, 與 Windows 10 同區的電腦將可以直接透過 8443 與 5443 對此伺服器中的 CMSiMDE 與 Fossil SCM伺服器連線, 這時使用者就必須要修改此兩項服務系統的管理帳號.)</p>
<h4>參考資料</h4>
<p style="padding-left: 30px;"><a href="https://2019wcm.blogspot.com/search/label/Ubuntu">https://2019wcm.blogspot.com/search/label/Ubuntu</a></p><h3>Fossil 操作</h3>
<p>若採用 <a href="https://drive.google.com/open?id=1YnOxs0q95JcSSx2XABNNQ1S4k8qw8Vjk">pyslvs, uwsgi, fossil_scm 以及 squid 伺服器的 Ubuntu 18.04.vdi<span> </span></a> (12GB) 在  Virtualbox 中建立虛擬主機, 可以在 <a href="https://192.168.56.102">https://192.168.56.102</a> 使用動態的 CMSiMDE 網際內容管理系統, 接下來就可以針對此一動態系統在 Windows 10 或 Ubuntu 環境下, 將 CMSiMDE 網際內容管理系統的靜態網頁 (也就是送到 Github 倉儲中使用 Github Pages 建立 cp2019 網頁的同一套靜態網站系統) 送到 <a href="https://192.168.56.102:5443">https://192.168.56.102:5443</a> Fossil SCM 伺服器中.</p>
<p>在 Fossil SCM 伺服 CMSiMDE 靜態網站系統之前, 必須了解 Fossil SCM 並無像 Git submodule 子模組的功能設計, 因此若單獨使用 Fossil SCM 管理 CMSiMDE 動態或靜態網站內容, 將無法取得父模組與子模組彼此版次區隔且能自動整批更新子模組內容的好處.</p>
<p>因此, CMSiMDE 動態與靜態內容的管理建議同時採用 Github 與 Fossil SCM, 設法在兩套系統中針對 CMSiMDE 倉儲資料保持同步, 如此便可以同時取得使用 Github 與 Fossil SCM的雙重優點.</p>
<p style="padding-left: 30px;">(註: Fossil SCM 中內建的 Forum 以及 doc 系統中可以直接指定版次, 以及部分內容可以 uversioned 方式儲存等功能, 可以視為相較於 Github 系統的優點)</p>
<p>利用 Fossil SCM 伺服 CMSiMDE 靜態網站</p>
<p>首先建議在 y:\ 中以 mkdir fossil 建立目錄, 之後與 Fossil SCM 有關的近端資料, 都將存在 y:\fossil 目錄, 接著在 y:\fossil 再建立 wd 目錄, 代表之後各相關 .fossil 檔案將放在 y:\fossil 目錄中, 而解開 .fossil 壓縮檔案後, 將依照該倉儲名稱, 分別存在 working directory y:\fossil\wd 目錄下, 例如: 目前在 Windows 10 命令列視窗中執行:</p>
<p style="padding-left: 30px;">y:\fossil&gt;fossil clone https://192.168.56.102:5443/kmol2019 kmol2019.fossil</p>
<p>並回答 a 或 y 表示要接受認證資料後, 就可以取得 192.168.56.102 主機上的 kmol2019 Fossil SCM 倉儲檔案, 而且這個檔案是依照 SQLite 資料庫格式的壓縮檔.</p>
<p>接下來進入  y:\fossil\wd 目錄建立 kmol2019 目錄, 準備要將 kmol2019.fossil 在此一目錄中解開, 因此進入 <span>y:\fossil\wd\kmol2019 目錄執行</span> :</p>
<p style="padding-left: 30px;">y:\fossil\wd\kmol2019&gt;fossil open ./../../kmol2019.fossil</p>
<p>表示要將位於兩層目錄之外的 kmol2019.fossil 倉儲壓縮檔案, 在　<span>y:\fossil\wd\kmol2019 目錄中解開.</span></p>
<p>解開壓縮檔案後, 進入 y:\fossil\wd\kmol2019 目錄, 只發現一個 _FOSSIL_ 檔案, 而此一壓縮檔案就等同 Github 倉儲中的 .git 目錄, 儲存與 Fossil SCM 倉儲有關的版本與設定資料.</p>
<h4>將 Github Scrum-4 cad2019 倉儲送到 Fossil SCM</h4>
<p style="padding-left: 30px;">首先利用:</p>
<p>git clone <a href="https://github.com/scrum-4/cad2019.git">https://github.com/scrum-4/cad2019.git</a> 將倉儲基本內容複製到近端 cad2019 目錄中, 接者必須進入 cad2019 目錄中繼續執行 git submodule init 與 git submodule update, 以便將 cmsimde 目錄中的資料也取至近端.</p>
<p>接下來只要將 cad2019 目錄中的所有資料, 複製到 <span>y:\fossil\wd\kmol2019  目錄中, 然後利用:</span></p>
<p style="padding-left: 30px;"><span>y:\fossil\wd\kmol2019&gt;fossil add .</span></p>
<p>對 kmol2019.fossil 的工作目錄新增前述所加入的 cad2019 倉儲資料內容.</p>
<p>接著透過:</p>
<p style="padding-left: 30px;"><span>y:\fossil\wd\kmol2019&gt;fossil commit -m "add scrum-4 cad2019 content"</span></p>
<p><span>在近端提交所增加的內容.</span></p>
<p><span>最後再執行:</span></p>
<p style="padding-left: 30px;"><span>y:\fossil\wd\kmol2019&gt;fossil <span>push https://kmol2019@192.168.56.102:5443</span></span></p>
<p>輸入與 kmol2019 帳號對應的密碼後, 即可將近端 <span>y:\fossil\wd\kmol2019 (也就是 y:\fossil\kmol2019.fossil 的工作目錄) 的改版資料, 同時更動近端的 kmol2019.fossil 與遠端對應的 /home/kmol2019/repository/kmol2019.fossil 倉儲壓縮檔案.</span></p>
<p><span>完成上述 Fossil SCM 的倉儲新增提交與推送, 就可以在</span></p>
<p style="padding-left: 30px;"><a href="https://192.168.56.102:5443/kmol2019/doc/trunk/index.html">https://192.168.56.102:5443/kmol2019/doc/trunk/index.html</a></p>
<p>連結到對應 CMSiMDE 靜態網站. 其中 <a href="https://192.168.56.102:5443/kmol2019/doc/trunk/index.html">https://192.168.56.102:5443/kmol2019</a> 是倉儲所在地, 而 doc 表示 Fossil SCM 針對每一個倉儲提供 document 的 html 格式資料檔案連結功能, 而且 doc/trunk 表示擷取此倉儲目前的最新版本, 而 doc/trunk/ 之後的 index.html 表示希望從倉儲根目錄中的 index.html 檔案作為網站索引超文件檔案.</p>
<p>從 <a href="https://192.168.56.102:5443/kmol2019/timeline">https://192.168.56.102:5443/kmol2019/timeline</a> 倉儲的時間軸中, 可以檢視各提交推送版本的序號, 前述 doc 後若將 trunk 換成先前所提交的版本序號, 使用者將可利用:</p>
<p style="padding-left: 30px;"><a href="https://192.168.56.102:5443/kmol2019/doc/版本序號/index.html">https://192.168.56.102:5443/kmol2019/doc/版本序號/index.html</a> </p>
<p>直接連線到 kmol2019 倉儲所對應的版本序號網站.</p>
<p>在 Ubuntu 新增 Fossil SCM 倉儲</p>
<p>使用者在 Ubuntu 伺服器上建立其他倉儲的方法:</p>
<p style="padding-left: 30px;">/home/kmol2019/repository/$ fossil init cp2019.fossil</p>
<p>表示要在 /home/kmol2019/repository 目錄中, 起始一個 Fossil SCM 倉儲, 名稱為 cp2019.fossil.</p>
<p>而此一倉儲可以利用 https//192.168.56.102:5443/cp2019 擷取. 而其他 fossil clone, fossil add, fossil commit 與 fossil push 的應用與上述流程相同. </p>
<p>接下來必須深入探討的是:</p>
<p style="padding-left: 30px;">除了 https, Fossil SCM 能否以 ssh 連線?</p>
<p style="padding-left: 30px;">Fossil SCM 倉儲若要管理 .git 目錄, 該如何設定?</p>
<p style="padding-left: 30px;">Github 與 Fossil SCM 倉儲該如何保持同步?</p>
<p style="padding-left: 30px;">Fossil SCM 的網際介面如何使用?</p>
<h3>Fossil 指令</h3>
<p>每一個 .fossil 在該操作系統中都存在一組管理者密碼, 若要修改特定 .fossil 檔案中所存的用戶密碼, 可以利用 fossil sql 指令.</p>
<h4>以 fossil sql 指令擷取 .fossil 檔案內容</h4>
<p>使用者以 fossil init foo.fossil 建立倉儲檔案後, 除了使用 sqlite3 命令檢視 fossil 倉儲內容外, 也可以利用 fossil 指令查驗倉儲資料庫檔案的內容.</p>
<p style="padding-left: 30px;">fossil sql -R foo.fossil</p>
<p>進入 sqlite 指令環境後, 可以利用 .schema user 查驗 user 資料表的欄位設計.</p>
<p>以</p>
<p style="padding-left: 30px;">select login, pw, cap from user;</p>
<p>可以查詢目前 foo.fossil 檔案中 user 資料表 login, pw 與 cap 等3個欄位的資料內容.</p>
<p>若要更改特定 login 登入帳號的 pw 或 cap 可以使用下列 sqlite3 SQL 語法:</p>
<p style="padding-left: 30px;">update user set pw='mynewpassword' where login='myloginaccount';</p>
<p style="padding-left: 30px;">update user set cap='s' where login='myloginaccount';</p>
<hr/>
<p>Fossil SCM 設定中, 內定的 autosync 為 on, 表示使用者若採用:</p>
<p style="padding-left: 30px;">fossil clone <a href="https://user:password@localhost">https://user:password@</a>192.168.56.102:5443 kmol2019.fossil</p>
<p>將遠端倉儲 clone 至近端 kmol2019.fossil 壓縮檔案後. 一旦在工作目錄中 fossil add 與 fossil commit 之後, Fossil 會自動執行後續 fossil push 的動作, 而且此一推送會同時將改版資料送到近端與工作目錄對應的 .fossil 檔案倉儲外, 也會同時將改版資料推送到 .fossil 對應的遠端倉儲中.</p>
<p>換言之, Fossil SCM 針對從 fossil clone 開始的一連串指令執行, 會因為 settings 的差異而有不同的新增, 提交與推送流程, 假如 fossil clone 時採用:</p>
<p style="padding-left: 30px;">fossil clone <a href="https://192.168.56.102:5443">https://192.168.56.102:5443</a> kmol2019.fossil</p>
<p>之後, 在近端以 fossil open 解開到近端工作目錄後, 必須利用:</p>
<p style="padding-left: 30px;">fossil push <a href="https://usesid@fossil_server_url">https://usesid@fossil_server_url</a></p>
<p>然後輸入與 userid 對應的密碼後, 才能退送到遠端倉儲. 至於先前已經配合以:</p>
<p style="padding-left: 30px;"><span>fossil clone </span><a href="https://user:password@localhost">https://user:password@</a><span>192.168.56.102:5443 kmol2019.fossil</span></p>
<p>取得倉儲, 但並非以原 fossil 倉儲內建 autosync 綁定的使用者進行提交推送時, 可以透過 fossil remote-url off 切斷內建倉儲與工作目錄綁定的內建用戶資料, 然後在提交後, 以手動執行 fossil push. 意即:</p>
<p style="padding-left: 30px;"><span>fossil push </span><a href="https://usesid@fossil_server_url/">https://usesid@fossil_server_url</a></p>
<hr/>
<h4>純 IPv6 環境下的 Fossil Server</h4>
<p>針對只採用 IPv6 協定上網的電腦中啟動 Fossil Server, 使用者可以使用 ssh 協定執行 fossil clone.</p>
<p>例如: ipv6.only.server domain 所屬的伺服器, 其操作系統僅啟用 IPv6 協定上網, 建立 Fossil Server 的模式與 IPv4 上網的伺服器相同, 但是, fossil clone 的指令則可採用 ssh 協定下的絕對倉儲路徑或相對倉儲路徑擷取遠端的倉儲檔案:</p>
<p>以絕對倉儲路徑 fossil clone:</p>
<p>假設 IPv6 主機上的 target.fossil 倉儲檔案位於 /home/account/repository/target.fossil, 則使用者可以利用:</p>
<p style="padding-left: 30px;">fossil clone ssh://account@your_ipv6_only_server_url//home/account/repository/target.fossil cloned.fossil</p>
<p>將遠端的 target.fossil 複製到近端存為 cloned.fossil 檔案, 其中特別注意到絕對路徑在 server_url 後面必須有兩個斜線.</p>
<p>以相對倉儲路徑 fossil clone:</p>
<p>此時假設 Fossil Server 是以 /home/account 用戶啟動, 則使用者可以利用:</p>
<p style="padding-left: 30px;">fossil clone ssh://account@your_ipv6_only_server_url/repository/target.fossil cloned.fossil</p>
<p>將遠端的 target.fossil 複製到近端存為 cloned.fossil 檔案, 其中特別注意到, 相對路徑除了在 server_url 後只需一個斜線, 且是以 /home/account 目錄作為相對目錄的根目錄, 使用者必須加入 /repository/target.fossil, 才能正確擷取到倉儲檔案.</p>
<p>上述兩種 fossil clone 指令執行後, 系統會要求輸入與 account 用戶對應的 Fossil Server 密碼, 完成後就可以將遠端的倉儲檔複製到近端.</p>
<p>附帶說明: 截至 fossil 2.2 版, 以 ssh 協定可以 fossil clone 遠端純 IPv6 主機上的倉儲, 但是卻無法以 fossil autosync 或 fossil push 將近端的版本提交推送到遠端. 因此目前的 Fossil Server 仍建議採用 IPv4/IPv6 並存的方式建立.</p>
<p>至於 Fossil SCM 的網路連線會依照系統環境變數中 http_proxy  設定使用 Proxy Server, 若無 http_proxy 環境變數設定, 則會直接連線.</p>
<p>也可以在 fossil clone 指令之後加上 --proxy 140.130.17.7:3128 進行連線. (IPv6 環境必須確認是否也可行)</p>
<p>參考資料:</p>
<p style="padding-left: 30px;"><a href="http://www.fossil-scm.org/fossil/doc/trunk/www/quickstart.wiki">http://www.fossil-scm.org/fossil/doc/trunk/www/quickstart.wiki</a></p>
<p style="padding-left: 30px;"><a href="https://www.mail-archive.com/fossil-users@lists.fossil-scm.org/msg12114.html">https://www.mail-archive.com/fossil-users@lists.fossil-scm.org/msg12114.html</a></p>
<p style="padding-left: 30px;"><a href="https://fossil-users.fossil-scm.narkive.com/ywA3W2pc/ssh-implementation">https://fossil-users.fossil-scm.narkive.com/ywA3W2pc/ssh-implementation</a></p>
<p style="padding-left: 30px;"><a href="https://blog.gtwang.org/linux/linux-ssh-public-key-authentication/">https://blog.gtwang.org/linux/linux-ssh-public-key-authentication/</a></p><h1>DartLang</h1>
<h4>Dart 2 啟動</h4>
<p><a href="https://news.dartlang.org/2018/02/announcing-dart-2-optimized-for-client.html">https://news.dartlang.org/2018/02/announcing-dart-2-optimized-for-client.html</a> 宣布後, Dart 第二版正式啟動, 目前現存的許多與 Dart 第一版有關的資料頓時失去作用. </p>
<p>其中也包括:</p>
<p style="padding-left: 30px;">Dart for Absolute Beginners (2014)</p>
<p style="padding-left: 30px;"><a href="https://link.springer.com/book/10.1007/978-1-4302-6482-8">https://link.springer.com/book/10.1007/978-1-4302-6482-8</a></p>
<p>Dart2 與 Dart1 的差異請參考: <a href="https://dart.dev/dart-2">https://dart.dev/dart-2</a></p>
<hr/>
<h4>初學 Dart 的規劃</h4>
<p>Dart 程式語言從 2011 年至 <a href="https://en.wikipedia.org/wiki/Flutter_(software)">2017 年 Flutter 出現</a>之前, 在無法全面取代 Javascript 的情況下, 採取了利用<a href="https://dart.dev/platforms">多平台</a>的方式進行推廣, 也就是目前以:</p>
<p style="padding-left: 30px;">跨手機平台的 JIT + VM 執行開發, 將所完成的手機程式以 AOT + Runtime 進行部署.</p>
<p style="padding-left: 30px;">Web 部分以 dartdevc 執行開發, 並將所完成的 dart 程式以 dart2js 轉為 Javascript 後在瀏覽器中前台執行.</p>
<p>即便如此, 就 Web 開發部分, 除了歷史較久的 <a href="https://angulardart.dev/">Dartangular</a> 外, 目前也啟動了依附在 <a href="https://flutter.dev/">Flutter</a> 的 <a href="https://flutter.dev/web">Flutter for Web</a>.</p>
<p>上述的 Dart 多平台開發模式, 假如再納入類似 <a href="https://flask.palletsprojects.com">Python Flask</a> 的伺服器端開發框架: <a href="https://aqueduct.io/">https://aqueduct.io/</a>, 從初學者的角度來看, 可能很難入門, 因為手機平台開發需要有對 Android 與 iOS 等操作系統的基本概念, 而 Web 開發又牽涉到必須學習 HTML5 與 CSS.</p>
<p>因此在本課程採用 Dart 進行教學, 對初學者的規劃為:</p>
<ol>
<li>從 <a href="https://link.springer.com/book/10.1007/978-1-4302-6482-8">Dart for Absolute Beginners (2014)</a> 中適用於 Dart 2 的基本語法開始, 直接在 <a href="https://mde.tw/dartpad">https://mde.tw/dartpad</a> 中練習, 先了解 Dart 2 程式語言的用法之後, 再加上 Html5 中的 Canvas 繪圖, 配合 CSS 的編寫, 可以在 <a href="https://mde.tw/dartpad">https://mde.tw/dartpad</a> 完成靜態與動態繪圖.</li>
<li>接下來則配合第一階段在 <a href="https://mde.tw/dartpad">https://mde.tw/dartpad</a> 所編寫的 .dart, .html 以及 .css 等檔案, 以 dart2js -o main.js main.dart 指令, 將 .dart 轉為 .js 後, 結合 .html 與 .css 在單一網頁中執行靜態繪圖與動態繪圖程式.</li>
<li>第三階段則利用 <a href="https://link.springer.com/book/10.1007/978-1-4842-4972-7">Practical Flutter (2019)</a>, 讓使用者登入 @gm 電子郵箱後, 下載 <a href="https://drive.google.com/file/d/1_Mfw1U8yUkYGlVcoFzpvijtRFdKgP93U/view?usp=sharing">flutter_portable_final.7z</a>, 放入 USB 隨身碟, 或者與先前下載的 <a href="https://drive.google.com/file/d/1fxMdqdCoCL__O1IpZ-Sv-A_4-c77Wx4E/view?usp=sharing">2019Fall可攜套件.7z</a>, 整合設定, 打造可以利用 <a href="https://flutter.dev/">Flutter</a> 與 <a href="https://www.bluestacks.com">Bluestacks</a> 進行手機 (以 Android 為主) 程式開發的環境. 並嘗試修改第一與第二階段所完成的程式, 直接在 Android 模擬器或實體手機上執行.</li>
</ol>
<hr/>
<p>在第一階段中, 可以輔助學習的資料包括:</p>
<p style="padding-left: 30px;"><a href="https://dart.dev/guides/language/language-tour">https://dart.dev/guides/language/language-tour</a></p>
<p style="padding-left: 30px;"><a href="https://da-bootcamp.firebaseapp.com/?course=start_programming_dart">https://da-bootcamp.firebaseapp.com/?course=start_programming_dart</a> </p>
<p>將分別完成</p>
<ol>
<li><a href="http://mde.tw/dartpad/?id=215ba63265350c02dfbd586dfd30b8c3">Hello World!</a>, <a href="http://mde.tw/dartpad/?id=2d3ce078f1c3d383c0c20e88270f6d6b">Hello Dart!</a> (主函式, 註解, 資料列印與基本語法)</li>
<li><a href="http://mde.tw/dartpad?id=9f69e77cb456b97cccc8eb5a9dbd991c">亂數分組</a> (變數, 資料型別, 資料 io, 數列, 迴圈, 模數運算, 判斷式)</li>
<li><a href="http://mde.tw/dartpad?id=e93b969fed77325db0b848a85f1cf78e">int2double</a> (類別, 物件導向)</li>
<li><a href="http://mde.tw/dartpad?id=b51f4d2a76e394421057a70e7d281b66">ROC Flag</a> (Html5 Canvas 靜態繪圖, CSS)</li>
<li><a href="http://mde.tw/dartpad?id=fc5ad3a8136c27de79f5a33e33d5c5f6">Snake Game</a> <span>(Html5 Canvas 動態態繪圖, CSS)</span></li>
<li><a href="http://mde.tw/dartpad?id=e9c5f81ea67eb3826f30fc5bb2e98cd1">Solar System</a> <span>(Html5 Canvas 動態態繪圖, CSS)</span></li>
<li><a href="http://mde.tw/dartpad?id=92c95776f09f38b2fe635cccec31e773">Rabbit Count</a> (HTML 表單與滑鼠事件, CSS)</li>
<li><a href="http://mde.tw/dartpad?id=0c7e4bbb880d11f0335d5b5da49e86db">Ping Pong Game</a> (HTML5 Canvas 動態繪圖, 滑鼠事件, CSS)</li>
</ol>
<p>第二階段, 將 <a href="https://mde.tw/dartpad">https://mde.tw/dartpad</a> 中 Samples 範例利用 dart2js 轉為單一 html 程式, 送到各組員的 Github Pages 網站中執行.</p>
<p>第三階段, 透過 <a href="https://drive.google.com/file/d/1_Mfw1U8yUkYGlVcoFzpvijtRFdKgP93U/view?usp=sharing">flutter_portable_final.7z</a>, 中的 Flutter SDK 與 Visual Studio Code, 將 Samples 範例程式轉為 Android 程式, 在 Bluestacks 中執行.</p>
<hr/>
<h4>進階延伸應用:</h4>
<p>利用 <a href="https://aqueduct.io/">https://aqueduct.io/</a> 開發類似 <a href="https://github.com/mdecourse/cmsimde">CMSiMDE</a> 的網際內容管理系統.</p>
<p><span>利用 <a href="https://flutter.dev/">Flutter</a> 與 <a href="https://flutter.dev/web">Flutter for Web</a> 開發一套能夠在 Web 與手機中執行, 並用來操控 <a href="http://www.coppeliarobotics.com/">V-rep</a> 與 <a href="https://cyberbotics.com/">Webots</a> 虛擬環境中的機電系統.</span></p>
<p>利用 <a href="https://flutter.dev/">Flutter</a> 與 <a href="https://flutter.dev/web">Flutter for Web</a> 開發一套能夠在 Web 與手機中執行的平面多連桿機構模擬分析套件.</p>
<p><span>利用 <a href="https://flutter.dev/">Flutter</a> 與 <a href="https://flutter.dev/web">Flutter for Web</a> 開發一套能夠與 <a href="https://github.com/KmolYuan/Pyslvs-UI">https://github.com/KmolYuan/Pyslvs-UI</a> 伺服器中運算核心整合的平面多連桿機構合成與分析套件.</span></p><h2>Dart2 Spec</h2>
<p><a href="/downloads/DartLangSpecDraft_2.3.0_dev.pdf">DartLangSpecDraft_2.3.0_dev.pdf</a></p>
<p><span>&lt;&gt; 表示其中包含項目為必選項</span></p>
<p>[] 表示其中包含項目為可選項</p>
<p>{} 表示其中包含項目為可重複 0 次至無限次數的選項</p>
<p>| 表示左右兩邊可以任選一項</p>
<p>::= 表示可被定義為</p>
<p>引號裡的項目代表其本身</p>
<p>?: 表示操作符左邊的符號 (或括號中的一組符號) 是可選項</p>
<p>*: 表示可以重複零次或多次</p>
<p>+: 表示可以出現一次或多次</p>
<p><a href="https://thosakwe.com/the-story-of-my-migration-to-dart-2/">https://thosakwe.com/the-story-of-my-migration-to-dart-2/</a></p>
<p>上述文章中說明 Dart2 最新規格中的 Dart is a class-based, single-inheritance, pure object-oriented programming language. Dart is optionally typed and supports reified generics.</p>
<p><span>reified generics 代表最新的 Dart2 strongly-typed and sound, with reification of generics. 以下為範例:</span></p>
<pre class="brush:dart;auto-links:false;toolbar:false" contenteditable="false">//var myIntegers = &lt;int&gt;[1, 2, 3];
var myIntegers = &lt;dynamic&gt;[1, 2, 3];

void main(){
doIt(myIntegers);
}

void doIt(List&lt;int&gt; numbers) {
    print('Hi');
}</pre>
<p>上列程式執行時會報錯, 因為 myIntegers 宣告時並非 int, 即便其內容為 int.</p>
<p>必須改為:</p>
<pre class="brush:dart;auto-links:false;toolbar:false" contenteditable="false">var myIntegers = &lt;int&gt;[1, 2, 3];
//var myIntegers = &lt;dynamic&gt;[1, 2, 3];

void main(){
doIt(myIntegers);
}

void doIt(List&lt;int&gt; numbers) {
    print('Hi');
}</pre>
<p></p><h1>Reference</h1>
<h4></h4>
<h4>計算機程式能夠解決甚麼問題?</h4>
<p style="padding-left: 30px;">首先必須確立運用計算機程式的重要關鍵, 取決於領域知識 (Domain Knowledge) 範圍內所要解決的問題. </p>
<p style="padding-left: 30px;">學習計算機程式的目的, 在於透過與電腦的溝通, 然後逐一解決各專業領域中所碰到的問題.</p>
<p>因此, 在學習如何寫程式的過程, 必須經歷以下過程:</p>
<p style="padding-left: 30px;">如何與電腦溝通? - 了解電腦如何運作, 網路如何連接, 程式系統如何搭建?</p>
<p style="padding-left: 30px;">要解決甚麼問題? - 學習如何定義問題, 透過對問題的瞭解, 逐步尋求解決方法.</p>
<p style="padding-left: 30px;">如何利用電腦程式解決這個問題? - 解決同一問題的方法不只一種, 所有解決方案都必須設法持續改進.</p>
<p>Python: 一般運算與資料處理應用, 網際內容管理, GUI for 電腦輔助機械設計工程分析</p>
<p>ANSI C: 建立 Fossil SCM</p>
<p>C++: Solvespace 與 Pyslvs 平面機構合成與分析內之幾何運算核心</p>
<p>Dart: 配合 Flutter SDK 開發手機應用程式</p>
<p>手機程式作為介面 &lt;-&gt; Python Flask 作為 Server 端程式負責與其他 C/C++/Python 核心執行運算</p>
<h4>參考資料:</h4>
<p style="padding-left: 30px;"><a href="https://en.wikipedia.org/wiki/Function_as_a_service">https://en.wikipedia.org/wiki/Function_as_a_service</a></p>
<p style="padding-left: 30px;"><a href="https://en.wikipedia.org/wiki/Serverless_computing">https://en.wikipedia.org/wiki/Serverless_computing</a></p>
<p style="padding-left: 30px;"><a href="https://medium.com/yakka/dart-is-ready-for-faas-with-cloud-run-fb069abb3176">https://medium.com/yakka/dart-is-ready-for-faas-with-cloud-run-fb069abb3176</a></p>
<p style="padding-left: 30px;"><a href="/downloads/Concurrent Programming for Scalable Web Architectures.pdf">Concurrent Programming for Scalable Web Architectures.pdf</a></p><h2>Python</h2>
<p><a href="/downloads/python3.7.2_tutorial.pdf">python 3.7.2 tutorial.pdf</a></p>
<p><a href="https://rd.springer.com/content/pdf/10.1007%2F978-3-030-20290-3.pdf">Begineers Guide to Python 3 Programming.pdf</a></p>
<p><a href="https://rd.springer.com/content/pdf/10.1007%2F978-3-030-18873-3.pdf">The Python Workbook.pdf</a></p>
<p>亂數分組與 CMSiMDE</p>
<p><a href="https://github.com/mdecourse/cmsimde">https://github.com/mdecourse/cmsimde</a></p>
<p><iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen" frameborder="0" height="315" src="https://www.youtube.com/embed/VjUBzMWyIHQ" width="560"></iframe></p>
<p>課程評分程式</p>
<pre class="brush:py;auto-links:false;toolbar:false" contenteditable="false">'''
根據評分表單中的 自評分數, 互評得分, 教師評分, 計算學員課程成績
'''

def diff(自評分數, 互評得分):
    return abs(自評分數 - 互評得分)
    
def max(自評分數, 互評得分):
    if 自評分數 &gt; 互評得分:
        return 自評分數
    else:
        return 互評得分

def 分組比分(自評分數, 互評得分):
    if diff(自評分數, 互評得分) &lt; 5:
        學員得分 = max(自評分數, 互評得分)
    else:
        學員得分 = 互評得分 - diff(自評分數, 互評得分)
    return 學員得分
    
def 全班比分(學員得分, 教師評分):
    if diff(學員得分, 教師評分) &lt; 5:
        學員成績 = max(學員得分, 教師評分)
    else:
        學員成績 = 教師評分 - diff(學員得分, 教師評分)/4
    return 學員成績

def 學員成績(自評分數, 互評得分, 教師評分):
    學員分組得分 = 分組比分(自評分數, 互評得分)
    學員課程成績 = 全班比分(學員分組得分, 教師評分)
    return 學員課程成績
    
print(學員成績(80, 70, 60))
print(學員成績(60, 70, 80))</pre>
<p></p>
<h4>Python 語法</h4>
<p>Python 3 官方教材: <a href="https://docs.python.org/3/index.html">https://docs.python.org/3/index.html</a></p>
<p>Python tutorial: <a href="https://docs.python.org/3/tutorial/index.html">https://docs.python.org/3/tutorial/index.html</a> (英文)</p>
<p>Python 教學: <a href="https://python-doc-tw.github.io/tutorial/index.html">https://python-doc-tw.github.io/tutorial/index.html</a></p>
<p>網頁上的 Python - Brython: <a href="https://www.brython.info/static_doc/en/intro.html">https://www.brython.info/static_doc/en/intro.html</a> (解譯式)</p>
<p>網頁上的 Python GUI- Flexx: <a href="https://flexx.readthedocs.io/en/stable/">https://flexx.readthedocs.io/en/stable/</a> (轉譯式)</p>
<p>
<script src="/static/brython.js"></script>
<script src="/static/brython_stdlib.js"></script>
<!-- for ggame -->
<script src="/static/jquery-3.3.1.min.js"></script>
<script src="/static/jquery-ui.1.12.1.min.js"></script>
<script src="/static/pixi-3.0.5.min.js"></script>
<script src="/static/buzz-1.2.1.js"></script>
<script src="/static/bs.js"></script>
<!-- Cango 程式庫 -->
<script src="/static/Cango-13v08-min.js"></script>
<script src="/static/CangoAxes-4v01-min.js"></script>
<script src="/static/gearUtils-05.js"></script>
<!-- for Konva 程式庫 -->
<script src="/static/konva.min.js"></script>
<script>
window.onload=function(){
brython({debug:1, pythonpath:['/static/']});
}
</script>
</p>
<p><!-- 導入 FileSaver 與 filereader --></p>
<p>
<script src="/static/ace/FileSaver.min.js" type="text/javascript"></script>
<script src="/static/ace/filereader.js" type="text/javascript"></script>
</p>
<p><!-- 導入 ace --></p>
<p>
<script src="/static/ace/ace.js" type="text/javascript"></script>
<script src="/static/ace/ext-language_tools.js" type="text/javascript"></script>
<script src="/static/ace/mode-python3.js" type="text/javascript"></script>
<script src="/static/ace/snippets/python.js" type="text/javascript"></script>
</p>
<p><!-- 請注意, 這裡使用 Javascript 將 localStorage["py_src"] 中存在近端瀏覽器的程式碼, 由使用者決定存檔名稱--></p>
<p>
<script type="text/javascript">
function doSave(storage_id, filename){
    var blob = new Blob([localStorage[storage_id]], {type: "text/plain;charset=utf-8"});
    filename = document.getElementById(filename).value
    saveAs(blob, filename+".py");
}
</script>
</p>
<h4>開始練習 print() 用法, 並著手建立函式</h4>
<p><!-- 印出版次與關鍵字程式 --></p>
<p>
<script type="text/python3">
from browser import document as doc
from browser import html
import ace
# 清除畫布
def clear_bd(ev):
    bd = doc["brython_div"]
    bd.clear()
# Brython 3.3.4 內建的 container 名稱為  'container' 且 turtle 輸出為 svg 必須使用 div 訂定 id
Ace = ace.Editor(editor_id="kw_editor", console_id="kw_console", container_id="kw__container", storage_id="kw_py_src" )
Ace.editor.setValue("""# 導入 sys 模組
import sys
# 導入 keyword 模組
import keyword
def helloWorld():
    print("Hello World!")
helloWorld()
# 利用 sys 模組中的 version_info 印出 Python 版次
print("Python version: ", sys.version_info)
# 利用 keyword 模組中的 kwlist 印出關鍵字
print("Python keywords: ", keyword.kwlist)
""")
Ace.editor.scrollToRow(0)
Ace.editor.gotoLine(0)
# 執行程式, 顯示輸出結果與清除輸出結果及對應按鈕綁定
doc['kw_run'].bind('click', Ace.run)
doc['kw_show_console'].bind('click', Ace.show_console)
doc['kw_clear_console'].bind('click', Ace.clear_console)
doc['clear_bd'].bind('click', clear_bd)
</script>
</p>
<p><!-- 用來顯示程式碼的 editor 區域 --></p>
<div id="kw_editor" style="width: 600px; height: 300px;"></div>
<p><!-- 以下的表單與按鈕與前面的 Javascript doSave 函式以及 FileSaver.min.js 互相配合 --></p>
<form><label>Filename: <input id="kw_filename" placeholder="input file name" type="text"/>.py</label> <input onclick="doSave('kw_py_src', 'kw_filename');" type="submit" value="Save"/></form>
<p><button id="kw_run">Run</button> <button id="kw_show_console">Output</button> <button id="kw_clear_console">清除輸出區</button><button id="clear_bd">清除繪圖區</button><button onclick="window.location.reload()">Reload</button></p>
<div style="width: 100%; height: 100%;"><textarea autocomplete="off" id="kw_console"></textarea></div>
<div id="brython_div"></div>
<div class="col-md-0" height="1" id="graphics-column" width="1"></div>
<p><!-- ****************************** keyword start -->
<script type="text/python3">
from browser import document as doc
# 導入位於 static 目錄下的 beditor.py 
import beditor
# 利用 beditor.py 中的 editor 類別建立案例, 對應到 kw1
kw1 = beditor.editor("""# 導入 sys 模組
import sys
# 導入 keyword 模組
import keyword
# 利用 sys 模組中的 version_info 印出 Python 版次
print("Python version: ", sys.version_info)
# 利用 keyword 模組中的 kwlist 印出關鍵字
print("Python keywords: ", keyword.kwlist)
""", "kw_editor", "kw_console", "kw__container", "kw_py_src")
# id 為 "keyword" 的按鈕點按時, 執行 kw1 物件中的 prog 方法
doc["keyword"].bind('click', kw1.prog)
</script>
</p>
<p><!-- ****************************** keyword end --></p>
<p><!-- ***************************** slide ex1 start --></p>
<p>
<script type="text/python3">
from browser import document as doc
import beditor
Ex1 = beditor.editor("""# 導入 Ex1 原始碼
a = 0
def my_print(n, input_str):
    print("以下將重覆列印 '", input_str + "' " + str(n) + "次")
    for i in range(n):
        print(i, input_str)
my_print(5, "Hello World!")
the_str = "開始學習 Python"
num = input("請輸入要列印的次數!")
my_print(int(num), the_str)
a = a + 1
print("(" + str(a) + ")", "_" * 25)
def myfun():
    yield 1
    yield 2
    yield 3
for i in myfun():
    print(i)
x = iter(myfun())
y = list(myfun())
a = a + 1
print("(" + str(a) + ")", "_" * 25)
print(x.__next__())
print(x.__next__())
print(x.__next__())
print(y)
""", "kw_editor", "kw_console", "kw__container", "kw_py_src")
# id 為 "ex1" 的按鈕點按時, 執行 Ex1 物件中的 prog 方法
doc["ex1"].bind('click', Ex1.prog)
</script>
</p>
<p><!-- ***************************** slide ex1 end --></p>
<p><!-- ***************************** slide ex2 start --></p>
<p>
<script type="text/python3">
from browser import document as doc
import beditor
Ex2 = beditor.editor("""# Python 的內建資料型別
import math
def f():
    print("This is a user-defined function")
    return 42
print("Some basic types in Python:")
print(type(2))           # int
print(type(2.2))         # float
print(type("2.2"))       # str  (string)
print(type(2 < 2.2))     # bool (boolean)
print(type(math))        # module
print(type(math.tan))    # builtin_function_or_method ("function" in Brython)
print(type(f))           # function (user-defined function)
print(type(type(42)))    # type
print("#####################################################")
print("And some other types we will see later in the course...")
print(type(Exception())) # Exception
print(type(range(5)))    # range
print(type([1,2,3]))     # list
print(type((1,2,3)))     # tuple
print(type({1,2}))       # set
print(type({1:42}))      # dict (dictionary or map)
print(type(2+3j))        # complex  (complex number) (we may not see this type)
""", "kw_editor", "kw_console", "kw__container", "kw_py_src")
# id 為 "ex2" 的按鈕點按時, 執行 Ex2 物件中的 prog 方法
doc["ex2"].bind('click', Ex2.prog)
</script>
</p>
<p><!-- ***************************** slide ex2 end --></p>
<p><!-- ***************************** slide ex3 start --></p>
<p>
<script type="text/python3">
from browser import document as doc
import beditor
Ex3 = beditor.editor("""# Python 的內建常數與函式
# 內建常數
print("Some builtin constants:")
print(True)
print(False)
print(None)
print("And some more constants in the math module:")
import math
print(math.pi)
print(math.e)
# 內建函式
print("Type conversion functions:")
print(bool(0))   # convert to boolean (True or False)
print(float(42)) # convert to a floating point number
print(int(2.8))  # convert to an integer (int)
print("And some basic math functions:")
print(abs(-5))   # absolute value
print(max(2,3))  # return the max value
print(min(2,3))  # return the min value
print(pow(2,3))  # raise to the given power (pow(x,y) == x**y)
print(round(2.354, 1)) # round with the given number of digits
# other examples
print(3 * 2)
print(3 * "abc")
print(3 + 2)
print("abc" + "def")
print(3 + "def")
# Type Affect Semantics
print(3 * 2)
print(3 * "abc")
print(3 + 2)
print("abc" + "def")
print(3 + "def")
# Integer Division
print("The / operator does 'normal' float division:")
print(" 5/3  =", ( 5/3))
print()
print("The // operator does integer division:")
print(" 5//3 =", ( 5//3))
print(" 2//3 =", ( 2//3))
print("-1//3 =", (-1//3))
print("-4//3 =", (-4//3))
# Modulus or Remainder Operator (%)
print(" 6%3 =", ( 6%3))
print(" 5%3 =", ( 5%3))
print(" 2%3 =", ( 2%3))
print(" 0%3 =", ( 0%3))
print("-4%3 =", (-4%3))
print(" 3%0 =", ( 3%0))
# Verify that (a%b) is equivalent to (a-(a//b)*b)
def mod(a, b):
  return a - (a//b)*b
print(41%14, mod(41,14))
print(14%41, mod(14,41))
print(-32%9, mod(-32,9))
print(32%-9, mod(32,-9))
# Operator Order (Precedence and Associativity)
print("Precedence:")
print(2+3*4)  # prints 14, not 20
print(5+4%3)  # prints  6, not 0 (% has same precedence as *, /, and //)
print(2**3*4) # prints 32, not 4096 (** has higher precedence than *, /, //, and %)
print()
print("Associativity:")
print(5-4-3)   # prints -2, not 4 (- associates left-to-right)
print(4**3**2) # prints 262144, not 4096 (** associates right-to-left)
# Approximate Values of Floating-Point Numbers
print(0.1 + 0.1 == 0.2)        # True, but...
print(0.1 + 0.1 + 0.1 == 0.3)  # False!
print(0.1 + 0.1 + 0.1)         # prints 0.30000000000000004 (uh oh)
print((0.1 + 0.1 + 0.1) - 0.3) # prints 5.55111512313e-17 (tiny, but non-zero!)
# Equality Testing with math.isclose
print("The problem....")
d1 = 0.1 + 0.1 + 0.1
d2 = 0.3
print(d1 == d2)                # False (never use == with floats!)
print()
print("The solution...")
import math
print(math.isclose(d1, d2))  # True!
# math.isclose checks if the two numbers are ALMOST equal, within a small error
# Short-Circuit Evaluation
def yes():
    return True
def no():
    return False
def crash():
    return 1/0 # crashes!
print(no() and crash()) # Works!
print(crash() and no()) # Crashes!
print (yes() and crash()) # Never runs (due to crash), but would also crash (without short-circuiting)
# Or operator
def yes():
    return True
def no():
    return False
def crash():
    return 1/0 # crashes!
print(yes() or crash()) # Works!
print(crash() or yes()) # Crashes!
print(no() or crash())  # Never runs (due to crash), but would also crash (without short-circuiting)
# more examples
def isPositive(n):
    result = (n > 0)
    print("isPositive(",n,") =", result)
    return result
def isEven(n):
    result = (n % 2 == 0)
    print("isEven(",n,") =", result)
    return result
print("Test 1: isEven(-4) and isPositive(-4))")
print(isEven(-4) and isPositive(-4)) # Calls both functions
print("----------")
print("Test 2: isEven(-3) and isPositive(-3)")
print(isEven(-3) and isPositive(-3)) # Calls only one function!
# type vs isinstance
# Both type and isinstance can be used to type-check
# In general, (isinstance(x, T)) will be more robust than (type(x) == T)
print(type("abc") == str)
print(isinstance("abc", str))
# We'll see better reasons for this when we cover OOP + inheritance later
# in the course.  For now, here is one reason:  say you wanted to check
# if a value is any kind of number (int, float, complex, etc). 
# You could do:
def isNumber(x):
    return ((type(x) == int) or
            (type(x) == float)) # are we sure this is ALL kinds of numbers?
print(isNumber(1), isNumber(1.1), isNumber(1+2j), isNumber("wow"))
# But this is cleaner, and works for all kinds of numbers, including
# complex numbers for example:
import numbers
def isNumber(x):
    return isinstance(x, numbers.Number) # works for any kind of number
print(isNumber(1), isNumber(1.1), isNumber(1+2j), isNumber("wow"))
""", "kw_editor", "kw_console", "kw__container", "kw_py_src")
# id 為 "ex3" 的按鈕點按時, 執行 Ex3 物件中的 prog 方法
doc["ex3"].bind('click', Ex3.prog)
</script>
</p>
<p><!-- ***************************** slide ex3 end --></p>
<p><!-- ***************************** slide ex4 start --></p>
<p>
<script type="text/python3">
from browser import document as doc
import beditor
Ex4 = beditor.editor("""# Python 函式
# Vocabulary
x = 5
def f(y, z):
    result = x + y + z
    return result
print(f(1, 2)) # 8
print(f(3, 4)) # 12
# Vocabulary:
#   variables: global vs. local
#   statements vs. expressions
#   function definitions vs. function calls
#   parameters vs. arguments
# Return Statements
# Basic example
def isPositive(x):
    return (x > 0)
print(isPositive(5))  # True
print(isPositive(-5)) # False
print(isPositive(0))  # False
# Return ends the function immediately
def isPositive(x):
    print("Hello!")   # runs
    return (x > 0)
    print("Goodbye!") # does not run ("dead code")
print(isPositive(5))  # prints Hello, then True
# No return statement --> return None
def f(x):
    x + 42
print(f(5)) # None
def f2(x):
    result = x + 42
print(f2(5)) # None
# Print versus Return
# This is a common early mistake (confusing print and return):
def cubed(x):
    print(x**3) # Here is the error!
cubed(2)          # seems to work!
print(cubed(3))   # sort of works (but prints None, which is weird)
print(2*cubed(4)) # Error!
# Once again (correctly)
def cubed2(x):
    return (x**3) # That's better!
cubed2(2)          # seems to be ignored (why?)
print(cubed2(3))   # works!
print(2*cubed2(4)) # works!
# Different Parameter and Return Types
def hypotenuse(a, b):
    return ((a**2) + (b**2))**0.5
print(hypotenuse(3, 4)) # 5.0 (not 5)
print("---------------------")
def xor(b1, b2):
    return ((b1 and (not b2)) or (b2 and (not b1)))  # same as (b1 != b2)
print(xor(True,  True))  # False
print(xor(True,  False)) # True
print(xor(False, True))  # True
print(xor(False, False)) # False
print("---------------------")
def isPositive(n):
    return (n > 0)
print(isPositive(10))     # True
print(isPositive(-1.234)) # False
# Function Composition
def f(w):
    return 10*w
def g(x, y):
    return f(3*x) + y
def h(z):
    return f(g(z, f(z+1)))
print(h(1)) # hint: try the "visualize" feature
# Helper Functions 
def onesDigit(n):
    return n%10
def largerOnesDigit(x, y):
    return max(onesDigit(x), onesDigit(y))
print(largerOnesDigit(134, 672)) # 4
print(largerOnesDigit(132, 674)) # Still 4
# Test Functions
# A broken test function
def onesDigit(n):
    return n%10
def testOnesDigit():
    print("Testing onesDigit()...", end="")
    assert(onesDigit(5) == 5)
    assert(onesDigit(123) == 3)
    assert(onesDigit(100) == 0)
    assert(onesDigit(999) == 9)
    print("Passed!")
testOnesDigit() # Passed!  Why is this bad?
# A better version
def onesDigit2(n):
    return n%10
def testOnesDigit2():
    print("Testing onesDigit()...", end="")
    assert(onesDigit2(5) == 5)
    assert(onesDigit2(123) == 3)
    assert(onesDigit2(100) == 0)
    assert(onesDigit2(999) == 9)
    assert(onesDigit2(-123) == 3) # Added this test
    print("Passed!")
testOnesDigit2() # Crashed!  So the test function worked!
# Local Variable Scope
def f(x):
    print("In f, x =", x)
    x += 5
    return x
def g(x):
    return f(x*2) + f(x*3)
print(g(2))
# Another example
def f(x):
    print("In f, x =", x)
    x += 7
    return round(x / 3)
def g(x):
    x *= 10
    return 2 * f(x)
def h(x):
    x += 3
    return f(x+4) + g(x)
print(h(f(1)))
# Global Variable Scope
# In general, you should avoid using global variables.
# You will even lose style points if you use them!
# Still, you need to understand how they work, since others
# will use them, and there may also be some very few occasions
# where you should use them, too!
g = 100
def f(x):
    return x + g
print(f(5)) # 105
print(f(6)) # 106
print(g)    # 100
# Another exampl
g = 100
def f(x):
    # If we modify a global variable, we must declare it as global.
    # Otherwise, Python will assume it is a local variable.
    global g
    g += 1
    return x + g
print(f(5)) # 106
print(f(6)) # 108
print(g)    # 102
# Default arguments
# Sometimes, a function has a parameter that has a natural default
# We can specify that default value in the function definition,
# then choose whether or not to include it in the function call.
def f(x, y=10):
    return x + y
print(f(5))   # 15
print(f(5,1)) # 6
""", "kw_editor", "kw_console", "kw__container", "kw_py_src")
# id 為 "ex4" 的按鈕點按時, 執行 Ex4 物件中的 prog 方法
doc["ex4"].bind('click', Ex4.prog)
</script>
</p>
<p><!-- ***************************** slide ex4 end --></p>
<!-- line drawing start -->
<p>
<script type="text/python3">
from browser import document as doc
import beditor
Draw = beditor.editor("""# Line drawing
# 導入 doc
from browser import document as doc
from browser import html
import math
canvas = html.CANVAS(width = 300, height = 200)
canvas.id = "line_drawing"
brython_div = doc["brython_div"]
brython_div <= canvas
# 準備繪圖畫布
canvas = doc["line_drawing"]
ctx = canvas.getContext("2d")
# 進行座標轉換, x 軸不變, y 軸反向且移動 canvas.height 單位光點
# ctx.setTransform(1, 0, 0, -1, 0, canvas.height)
# 以下採用 canvas 原始座標繪圖
# 設定填圖顏色
ctx.fillStyle = "rgb(200,0,0)"
# 設定畫筆顏色
ctx.strokeStyle = "rgb(0,0,200)"
# 乘上 deg 可轉為徑度單位
deg = math.pi / 180
# 建立多邊形定點位置畫線函式
def star(radius, xc, yc, n):
    #radius = 100
    #xc = 200
    #yc = 200
    xi = xc + radius*math.cos((360/n)*deg+90*deg)
    yi = yc - radius*math.sin((360/n)*deg+90*deg)
    ctx.beginPath()
    ctx.moveTo(xi,yi)
    for i in range(2, n+1):
        x = xc + radius*math.cos((360/n)*deg*i+90*deg)
        y = yc - radius*math.sin((360/n)*deg*i+90*deg)
        ctx.lineTo(x,y)
# 以下利用多邊形畫線函式呼叫執行畫框線或填入顏色
# 畫五邊形框線
star(50, 50, 50, 5)
ctx.closePath()
ctx.stroke()
    
# 填三角形色塊
star(50, 150, 50, 3)
ctx.closePath()
ctx.fill()
    
# 改變畫線顏色後, 畫七邊形框線
ctx.strokeStyle = "rgb(0,200,20)"
star(50, 250, 50, 7)
ctx.closePath()
ctx.stroke()
""", "kw_editor", "kw_console", "kw__container", "kw_py_src")
# id 為 "draw" 的按鈕點按時, 執行 Draw 物件中的 prog 方法
doc["draw"].bind('click', Draw.prog)
</script>
</p>
<!-- line drawing ends -->
<p></p>
<!-- flag ex start -->
<p>
<script type="text/python3">
from browser import document as doc
import beditor
Flag = beditor.editor("""# 畫中華民國國旗
# 導入 doc
from browser import document as doc
from browser import html
import math
canvas = html.CANVAS(width = 300, height = 200)
canvas.style = {"width": "100%"}
canvas.id = "taiwan_flag"
brython_div = doc["brython_div"]
brython_div <= canvas
# 準備繪圖畫布
canvas = doc["taiwan_flag"]
ctx = canvas.getContext("2d")
# 進行座標轉換, x 軸不變, y 軸反向且移動 canvas.height 單位光點
# ctx.setTransform(1, 0, 0, -1, 0, canvas.height)
# 以下採用 canvas 原始座標繪圖
flag_w = canvas.width
flag_h = canvas.height
circle_x = flag_w/4
circle_y = flag_h/4
# 先畫滿地紅
ctx.fillStyle='rgb(255, 0, 0)'
ctx.fillRect(0,0,flag_w,flag_h)
# 再畫青天
ctx.fillStyle='rgb(0, 0, 150)'
ctx.fillRect(0,0,flag_w/2,flag_h/2)
# 畫十二道光芒白日
ctx.beginPath()
star_radius = flag_w/8
angle = 0
for i in range(24):
    angle += 5*math.pi*2/12
    toX = circle_x + math.cos(angle)*star_radius
    toY = circle_y + math.sin(angle)*star_radius
    # 只有 i 為 0 時移動到 toX, toY, 其餘都進行 lineTo
    if (i):
        ctx.lineTo(toX, toY)
    else:
        ctx.moveTo(toX, toY)
ctx.closePath()
# 將填色設為白色
ctx.fillStyle = '#fff'
ctx.fill()
# 白日:藍圈
ctx.beginPath()
ctx.arc(circle_x, circle_y, flag_w*17/240, 0, math.pi*2, True)
ctx.closePath()
# 填色設為藍色
ctx.fillStyle = 'rgb(0, 0, 149)'
ctx.fill()
# 白日:白心
ctx.beginPath()
ctx.arc(circle_x, circle_y, flag_w/16, 0, math.pi*2, True)
ctx.closePath()
# 填色設為白色
ctx.fillStyle = '#fff'
ctx.fill()
""", "kw_editor", "kw_console", "kw__container", "kw_py_src")
# id 為 "flag" 的按鈕點按時, 執行 Flag 物件中的 prog 方法
doc["flag"].bind('click', Flag.prog)
</script>
</p>
<!-- flag ex ends -->
<p></p>
<!-- bunny start -->
<p>
<script type="text/python3">
from browser import document as doc
import beditor
Bunny = beditor.editor("""# Ggame
from ggame import App, ImageAsset, Sprite, MouseEvent
from random import random, randint
from browser import document as doc
from browser import html
import math
# 引入既有的id="graphics-column" 標註
graphics_column = doc["graphics-column"]
# 建立內定名稱為 "ggame-canvas" 的 canvas 標註
canvas = html.CANVAS(width = 600, height = 400)
canvas.id = "ggame-canvas"
# 將 canvas 插入 gc 標註中
graphics_column <= canvas
class Bunny(Sprite):
    
    asset = ImageAsset("/images/bunny.png")
    
    def __init__(self, position):
        super().__init__(Bunny.asset, position)
        # register mouse events
        App.listenMouseEvent(MouseEvent.mousedown, self.mousedown)
        App.listenMouseEvent(MouseEvent.mouseup, self.mouseup)
        App.listenMouseEvent(MouseEvent.mousemove, self.mousemove)
        self.dragging = True
        self.deltax = 0
        self.deltay = 0
    
    def step(self):
        # Every now and then a bunny hops...
        if random() < 0.01:
            self.x += randint(-20,20)
            self.y += randint(-20,20)
        
        
    def mousedown(self, event):
        # capture any mouse down within 50 pixels
        self.deltax = event.x - (self.x + self.width//2) 
        self.deltay = event.y - (self.y + self.height//2)
        if abs(self.deltax) < 50 and abs(self.deltay) < 50:
            self.dragging = True
            # only drag one bunny at a time - consume the event
            event.consumed = True
            
    def mousemove(self, event):
        if self.dragging:
            self.x = event.x - self.deltax - self.width//2
            self.y = event.y - self.deltay - self.height//2
            event.consumed = True
            
    def mouseup(self, event):
        if self.dragging:
            self.dragging = False
            event.consumed = True
            
        
class DemoApp(App):
    
    def __init__(self):
        super().__init__()
        for i in range(5):
            Bunny((randint(50, 600), randint(50, 400)))
        
    def step(self):
        # Override step to perform action on each frame update
        for bunny in self.spritelist:
            bunny.step()
# Create the app
app = DemoApp()  
# Run the app
app.run()
""", "kw_editor", "kw_console", "kw__container", "kw_py_src")
# id 為 "bunny" 的按鈕點按時, 執行 Bunny 物件中的 prog 方法
doc["bunny"].bind('click', Bunny.prog)
</script>
</p>
<!-- bunny ends -->
<p></p>
<!-- clear canvas start -->
<p>
<script type="text/python3">
from browser import document as doc
import beditor
Clear = beditor.editor("""# 清除畫布
from browser import document, html
brython_div = document["brython_div"] 
brython_div.clear()
""", "kw_editor", "kw_console", "kw__container", "kw_py_src")
# id 為 "clear" 的按鈕點按時, 執行 Clear 物件中的 prog 方法
doc["clear"].bind('click', Clear.prog)
</script>
</p>
<!-- clear canvas ends -->
<p></p>
<!-- cango spur gears start -->
<p>
<script type="text/python3">
from browser import document as doc
import beditor
Spur = beditor.editor("""# Cango Spur Gears
from browser import document as doc
from browser import html
import math
canvas = html.CANVAS(width = 600, height = 400)
canvas.id = "cango_gear"
brython_div = doc["brython_div"]
brython_div <= canvas
from browser import document as doc
from browser import window
import math
canvas = doc["cango_gear"]
# 此程式採用 Cango Javascript 程式庫繪圖, 因此無需 ctx
#ctx = canvas.getContext("2d")
cango = window.Cango.new
# 針對變數的轉換, shapeDefs 在 Cango 中資料型別為變數, 可以透過 window 轉換
shapedefs = window.shapeDefs
shape = window.Shape.new
path = window.Path.new
creategeartooth = window.createGearTooth.new
tweener = window.Tweener.new
# 經由 Cango 轉換成 Brython 的 cango, 指定將圖畫在 id="cango_gear" 的 canvas 上
cgo = cango("cango_gear")
######################################
# 畫正齒輪輪廓
#####################################
def cangoGear(n, m, pa):
    # n 為齒數
    #n = 17
    # pa 為壓力角
    #pa = 25
    # m 為模數, 根據畫布的寬度, 計算適合的模數大小
    # Module = mm of pitch diameter per tooth
    #m = 0.8*canvas.width/n
    # pr 為節圓半徑
    pr = n*m/2 # gear Pitch radius
    # generate gear
    data = creategeartooth(m, n, pa)
    # Brython 程式中的 print 會將資料印在 Browser 的 console 區
    #print(data)
    gearTooth = path(data, {
      "fillColor":"#ddd0dd",
      "border": True,
      "strokeColor": "#606060" })
    gearTooth.rotate(180/n) # rotate gear 1/2 tooth to mesh
    # 單齒的齒形資料經過旋轉後, 將資料複製到 gear 物件中
    gear = gearTooth.dup()
    # gear 為單一齒的輪廓資料
    #cgo.render(gearTooth)
    # 利用單齒輪廓旋轉, 產生整個正齒輪外形
    for i in range(1, n):
        # 將 gearTooth 中的資料複製到 newTooth
        newTooth = gearTooth.dup()
        # 配合迴圈, newTooth 的齒形資料進行旋轉, 然後利用 appendPath 方法, 將資料併入 gear
        newTooth.rotate(360*i/n)
        gear.appendPath(newTooth)
    # 建立軸孔
    # add axle hole, hr 為 hole radius
    hr = 0.6*pr # diameter of gear shaft
    shaft = path(shapedefs.circle(hr), {
      "fillColor":"#ddd0dd",
      "border": True,
      "strokeColor": "#606060" })
    gear.appendPath(shaft) # retain the 'moveTo' command for shaft sub path
    return gear
# 設定兩齒齒數
n1 = 17
n2 = 11
n3 = 13
reduced_ratio = 0.5
# 使用 80% 的畫布寬度
m = 0.8*canvas.width/((n1+n2+n3)*reduced_ratio)
# 設定共同的壓力角
pa = 25
# n 齒輪的節圓半徑
pr1 = n1*m/2
# n2 齒輪的節圓半徑
pr2 = n2*m/2
pr3 = n3*m/2
cx = canvas.width/2
cy = canvas.height/2
# 建立 gears
gear1 = cangoGear(n1, m, pa)
gear2 = cangoGear(n2, m, pa)
gear3 = cangoGear(n3, m, pa)
from browser.timer import set_interval
deg = math.pi/180
rotate_speed = 12*deg
def draw():
    cgo.clearCanvas()
    gear1.transform.translate(cx-(pr1+pr2)*reduced_ratio, cy)
    gear1.transform.scale(reduced_ratio)
    gear1.transform.rotate(0)
    gear1.rotate(rotate_speed)
    cgo.render(gear1)
    
    gear2.transform.translate(cx, cy)
    gear2.transform.scale(reduced_ratio)
    gear2.transform.rotate(180+(360/n2/2))
    gear2.rotate(-(rotate_speed)*n1/n2)
    cgo.render(gear2)
    
    gear3.transform.translate(cx+(pr2+pr3)*reduced_ratio, cy)
    gear3.transform.scale(reduced_ratio)
    gear3.transform.rotate(180+(360/n3/2)+(180+(360/n2/2))*n2/n3)
    gear3.rotate((rotate_speed*n1/n2)*(n2/n3))
    cgo.render(gear3)
set_interval(draw, 2)
""", "kw_editor", "kw_console", "kw__container", "kw_py_src")
# id 為 "spur" 的按鈕點按時, 執行 Spur 物件中的 prog 方法
doc["spur"].bind('click', Spur.prog)
</script>
</p>
<!-- cango spur gears ends -->
<p></p>
<!-- temp convert start -->
<p>
<script type="text/python3">
from browser import document as doc
import beditor
Temp = beditor.editor("""# Temperature Conversion
# Temperature Conversion
'''
C to F: Celsius to Fahrenheit Conversion Formula. To convert temperatures in degrees Celsius to Fahrenheit, multiply by 1.8 (or 9/5) and add 32.
To convert temperatures in degrees Fahrenheit to Celsius, subtract 32 and multiply by .5556 (or 5/9).
Fahrenheit = Celsius*9/5 + 32
Celsium = (Fahrenheit - 32)*5/9
'''
from browser import document, html
brython_div = document["brython_div"]
def c2f(c):
    f = round(c*9/5 + 32, 3)
    return "Celsiusc: "+ str(c) +         " degrees = Fahrenheit: " + str(f) + " degrees"
    
def f2c(f):
    c = round((f - 32)*5/9, 3)
    return "Fahrenheit: "+ str(f) +         " degrees = Celsiusc: " + str(c) + " degrees"
    
choice = input("c2f or f2c")
if choice == "c2f":
    '''
    c = float(input("input Celsius in degrees"))
    print(c2f(c))
    '''
    for deg in range(100):
        brython_div <= c2f(deg)
        brython_div <= html.BR()
else:
    '''
    f = float(input("input Fahrenheit in degrees"))
    print(f2c(f))
    '''
    for deg in range(100):
        brython_div <= f2c(deg)
        brython_div <= html.BR()
""", "kw_editor", "kw_console", "kw__container", "kw_py_src")
# id 為 "temp" 的按鈕點按時, 執行 Temp 物件中的 prog 方法
doc["temp"].bind('click', Temp.prog)
</script>
</p>
<!-- temp convert ends -->
<p></p>
<!-- forloop start -->
<p>
<script type="text/python3">
from browser import document as doc
import beditor
Forloop = beditor.editor("""# For loop
for i in range(5):
    print(i)
""", "kw_editor", "kw_console", "kw__container", "kw_py_src")
# id 為 "forloop" 的按鈕點按時, 執行 Forloop 物件中的 prog 方法
doc["forloop"].bind('click', Forloop.prog)
</script>
</p>
<!-- forloop ends -->
<p></p>
<!-- guess start -->
<p>
<script type="text/python3">
from browser import document as doc
import beditor
Guess = beditor.editor("""# 猜數字遊戲
from browser import document, html, alert
import random
# 跳出文字說明視窗
alert("開始玩猜數字遊戲")
# 利用 random 模組中的 randint 取 1~100 間的亂數
標準答案 = random.randint(1, 100)
# 利用 input 函式視窗, 取使用者所猜的數字, 轉為整數
你猜的數字 = int(input("請輸入您所猜 1~100 間的整數:"))
# 猜測次數起始值設為 1
猜測次數 = 1
# 進入重複迴圈, 直到猜對數字
while 標準答案 != 你猜的數字:
    # 根據使用者所猜的數字, 與答案比較後, 給出提示
    if 標準答案 < 你猜的數字:
        alert("猜第" + str(猜測次數) + "次, 太大了，再猜 :)加油")
    else:
        alert("猜第" + str(猜測次數) + "次, 太小了，再猜 :)加油")
    你猜的數字 = int(input("請輸入您所猜 1~100 間的整數:"))
    # 猜測次數累加
    猜測次數 += 1
# 跳出迴圈表示猜對, 給出最後文字說明視窗
alert("猜對了！答案為" + str(標準答案) + ", 總共猜了" + str(猜測次數) + "次")
""", "kw_editor", "kw_console", "kw__container", "kw_py_src")
# id 為 "guess" 的按鈕點按時, 執行 Guess 物件中的 prog 方法
doc["guess"].bind('click', Guess.prog)
</script>
</p>
<!-- guess ends -->
<p></p>
<!-- autoguess start -->
<p>
<script type="text/python3">
from browser import document as doc
import beditor
Autoguess = beditor.editor("""# 程式自動猜數字遊戲
from browser import document, html, alert
import random
 
id4 = document["brython_div"]
執行次數 = 100
總猜測次數 = 0
for i in range(執行次數):
    id4 <= "第" + str(i+1) + "次玩:" + html.BR()
    下限 = 1
    上限 = 100
    標準答案 = random.randint(下限, 上限)
    pc猜的數字 = random.randint(下限, 上限)
    #print(標準答案, pc猜的數字)
    #integer int()
    #string str()
    #float float()
    #你猜的數字 = int(input("請輸入您所猜的整數:"))
    猜測次數 = 1
    while 標準答案 != pc猜的數字:
        if 標準答案 < pc猜的數字:
            #print("太大了，再猜一次 :)加油")
            # 因此已經確定"pc猜的數字"不是答案, 因此 - 1
            id4 <= "電腦猜的數字:" + str(pc猜的數字) + " 太大了!" + html.BR()
            上限 = pc猜的數字 - 1
        else:
            #print("太小了，再猜一次 :)加油")
            # 因此已經確定"pc猜的數字"不是答案, 因此 + 1
            id4 <= "電腦猜的數字:" + str(pc猜的數字) + " 太小了!" + html.BR()
            下限 = pc猜的數字 + 1
        #pc猜的數字 = int(input("請輸入您所猜的整數:"))
        pc猜的數字 = random.randint(下限, 上限)
        猜測次數 += 1
    #print("猜對了！總共猜了", 猜測次數, "次")
    id4 <= "電腦猜對了, 答案為: " + str(標準答案) + ", 總共猜了 "+ str(猜測次數) + "次" + html.BR()
    總猜測次數 += 猜測次數
平均猜測次數 = int(總猜測次數/執行次數)
#print("平均次數", 平均猜測次數)
id4 <= "平均次數: " + str(平均猜測次數)
""", "kw_editor", "kw_console", "kw__container", "kw_py_src")
# id 為 "autoguess" 的按鈕點按時, 執行 Autoguess 物件中的 prog 方法
doc["autoguess"].bind('click', Autoguess.prog)
</script>
</p>
<!-- autoguess ends -->
<p></p>
<!-- lottery start -->
<p>
<script type="text/python3">
from browser import document as doc
import beditor
Lottery = beditor.editor("""# 大樂透電腦選號
# lottery
from browser import document, html, alert
import random
try:
    total = int(input("請問要出幾張大樂透彩卷號碼?"))
except:
    alert("請輸入要選擇大樂透電腦選號數量的'整數'")
    total = int(input("請問要出幾張大樂透彩卷號碼?"))
# 準備將電腦選出的號碼, 輸出到內定 id="brython_div" 的標註區域
output_div = document["brython_div"]
output_div <= "以下將出 " + str(total) + " 張電腦選號彩卷:" + html.BR()
for i in range(1, total + 1):
    # 利用 list(range()) 產生 1 到 49 的 population list
    # 然後再透過 random.sample(population, k) 
    # 從 population, 產生 k 個不同的數字
    numbers = random.sample(list(range(1, 49)), 6)
    output_div <= str(i) + ". 電腦選號為: " + str(numbers) + html.BR()
""", "kw_editor", "kw_console", "kw__container", "kw_py_src")
# id 為 "lottery" 的按鈕點按時, 執行 Lottery 物件中的 prog 方法
doc["lottery"].bind('click', Lottery.prog)
</script>
</p>
<!-- lottery ends -->
<p></p>
<!-- 台灣威力彩 start -->
<p>
<script type="text/python3">
from browser import document as doc
import beditor
Weleadlottery = beditor.editor("""# 威力彩電腦選號
# weleadlottery
from browser import document, html, alert
import random
try:
    total = int(input("請問要出幾張威力彩卷號碼?"))
except:
    alert("請輸入要選擇威力彩電腦選號數量的'整數'")
    total = int(input("請問要出幾張威力彩卷號碼?"))
# 準備將電腦選出的號碼, 輸出到內定 id="brython_div" 的標註區域
output_div = document["brython_div"]
output_div <= "以下將出 " + str(total) + " 張威力彩電腦選號彩卷:" + html.BR()
for i in range(1, total + 1):
    # 利用 list(range()) 產生第一區 1 到 38 , 第二區 1 到 8 的 population list
    # 然後再透過 random.sample(population, k) 
    # 從 population, 產生 k 個不同的數字
    section1_numbers = random.sample(list(range(1, 38)), 6)
    section2_number = random.sample(list(range(1, 8)), 1)
    output_div <= str(i) + ". 電腦選號第一區為: " + str(section1_numbers) + html.BR()
    output_div <= ". 電腦選號第二區為: " + str(section2_number) + html.BR()
""", "kw_editor", "kw_console", "kw__container", "kw_py_src")
# id 為 "lottery" 的按鈕點按時, 執行 Lottery 物件中的 prog 方法
doc["weleadlottery"].bind('click', Weleadlottery.prog)
</script>
</p>
<!-- 台灣威力彩 ends -->
<p></p>
<!-- bezier starts -->
<p>
<script type="text/python3">
from browser import document as doc
import beditor
Bezier = beditor.editor("""# Cango Bezier 繪圖
from browser import window, html
from browser import document as doc
canvas = html.CANVAS(width = 600, height = 400)
canvas.id = "canvas"
brython_div = doc["brython_div"]
brython_div <= canvas
# Javascript 物件
cango = window.Cango.new
path = window.Path.new
shape = window.Shape.new
group = window.Group.new
# Javascript 變數
shapedefs = window.shapeDefs
g1 = cango("canvas")
g1.clearCanvas()
g1.gridboxPadding(10, 10, 5, 7)
g1.fillGridbox("lightgreen")
g1.setWorldCoordsRHC(-100, -100, 400)
x1 = 40
y1 = 20
cx1 = 90
cy1 = 120
x2 = 120
y2 = 100
cx2 = 130
cy2 = 20
cx3 = 150
cy3 = 120
x3 = 180
y3 = 60
def dragC1(mousePos):
    global cx1, cy1
    cx1 = mousePos.x
    cy1 = mousePos.y
    drawCurve()
def dragC2(mousePos):
    global cx2, cy2
    cx2 = mousePos.x
    cy2 = mousePos.y
    drawCurve()
def dragC3(mousePos):
    global cx3, cy3
    cx3 = mousePos.x
    cy3 = mousePos.y
    drawCurve()
def drawCurve():
    qbez = path(['M', x1, y1, 'Q', cx1, cy1, x2, y2], {
      'strokeColor':'blue'})
    cbez = path(['M', x2, y2, 'C', cx2, cy2, cx3, cy3, x3, y3], {
      'strokeColor':'green'})
    L1 = path(['M', x1, y1, 'L', cx1, cy1, x2, y2], {
      'strokeColor':"rgba(0, 0, 0, 0.2)",
      'dashed':[4]})
    L2 = path(['M', x2, y2, 'L', cx2, cy2], {
      'strokeColor':"rgba(0, 0, 0, 0.2)",
      'dashed':[4]})
    L3 = path(['M', x3, y3, 'L', cx3, cy3], {
      'strokeColor':"rgba(0, 0, 0, 0.2)",
      'dashed':[4]})
    c1.transform.translate(cx1, cy1)
    c2.transform.translate(cx2, cy2)
    c3.transform.translate(cx3, cy3)
    grp = group(qbez, cbez, L1, L2, L3, c1, c2, c3)
    g1.render(grp, True)
g1.clearCanvas("lightyellow")
g1.deleteAllLayers()
g1.setWorldCoordsRHC(0, 0, 200)
c1 = shape(shapedefs.circle(6), {'fillColor':'red'})
c1.enableDrag(None, dragC1, None)
c2 = shape(shapedefs.circle(6), {'fillColor':'red'})
c2.enableDrag(None, dragC2, None)
c3 = shape(shapedefs.circle(6), {'fillColor':'red'})
c3.enableDrag(None, dragC3, None);
drawCurve()
""", "kw_editor", "kw_console", "kw__container", "kw_py_src")
# id 為 "bezier" 的按鈕點按時, 執行 Bezier 物件中的 prog 方法
doc["bezier"].bind('click', Bezier.prog)
</script>
</p>
<!-- bezier ends -->
<p></p>
<!-- turtle1 starts -->
<p>
<script type="text/python3">
from browser import document as doc
import beditor
Turtle1 = beditor.editor("""# Turtle1 繪圖
from browser import window, html
from browser import document as doc
import turtle
turtle.set_defaults(
    turtle_canvas_wrapper = doc['brython_div']
)
t = turtle.Turtle()
t.width(5)
for c in ['red', '#00ff00', '#fa0', 'rgb(0,0,200)']:
    t.color(c)
    t.forward(100)
    t.left(90)
# dot() and write() do not require the pen to be down
t.penup()
t.goto(-30, -100)
t.dot(40, 'rgba(255, 0, 0, 0.5')
t.goto(30, -100)
t.dot(40, 'rgba(0, 255, 0, 0.5')
t.goto(0, -70)
t.dot(40, 'rgba(0, 0, 255, 0.5')
t.goto(0, 125)
t.color('purple')
t.write("這就是 Brython, 網頁上的 Python", font=("Arial", 15, "normal"))
turtle.done()
""", "kw_editor", "kw_console", "kw__container", "kw_py_src")
# id 為 "turtle1" 的按鈕點按時, 執行 Turtle1 物件中的 prog 方法
doc["turtle1"].bind('click', Turtle1.prog)
</script>
</p>
<!-- turtle1 ends -->
<p></p>
<!-- turtle2 starts -->
<p>
<script type="text/python3">
from browser import document as doc
import beditor
Turtle2 = beditor.editor("""# Turtle2 繪圖
from browser import document as doc
import turtle
turtle.set_defaults(
    turtle_canvas_wrapper = doc['brython_div']
)
star = turtle.Turtle()
for i in range(5):
    star.forward(250)
    star.right(144)
    
turtle.done()
""", "kw_editor", "kw_console", "kw__container", "kw_py_src")
# id 為 "turtle2" 的按鈕點按時, 執行 Turtle2 物件中的 prog 方法
doc["turtle2"].bind('click', Turtle2.prog)
</script>
</p>
<!-- turtle2 ends -->
<p></p>
<!-- turtle3 starts -->
<p>
<script type="text/python3">
from browser import document as doc
import beditor
Turtle3 = beditor.editor("""# Turtle3 繪圖
# https://michael0x2a.com/blog/turtle-examples
from browser import document as doc
import turtle
turtle.set_defaults(
    turtle_canvas_wrapper = doc['brython_div']
)
painter = turtle.Turtle()
painter.pencolor("blue")
for i in range(50):
    painter.forward(50)
    painter.left(123) # Let's go counterclockwise this time 
    
painter.pencolor("red")
for i in range(50):
    painter.forward(100)
    painter.left(123)
    
turtle.done()
""", "kw_editor", "kw_console", "kw__container", "kw_py_src")
# id 為 "turtle3" 的按鈕點按時, 執行 Turtle3 物件中的 prog 方法
doc["turtle3"].bind('click', Turtle3.prog)
</script>
</p>
<!-- turtle3 ends -->
<p></p>
<!-- turtle4 starts -->
<p>
<script type="text/python3">
from browser import document as doc
import beditor
Turtle4 = beditor.editor("""# Turtle4 繪圖
# https://docs.python.org/3.7/library/turtle.html?highlight=turtle
# https://fiftyexamples.readthedocs.io/en/latest/turtle.html
from browser import document as doc
import turtle
turtle.set_defaults(
    turtle_canvas_wrapper = doc['brython_div']
)
# 輸入 "turtle" 字串, 表示要使用內建的烏龜圖示
t = turtle.Turtle("turtle")
# 設定繪圖尺寸
screen_x = 500-20
screen_y = 300
# 提筆, 將烏龜移動到畫布中心
t.penup()
t.home()
# 內定方向為右, 前進 screen_x/2
t.forward(screen_x / 2)
# 將方向往右轉 90 度
t.right(90)
# 此時方向向下, 前進 screen_y/2
t.forward(screen_y / 2)
# 令烏龜方向轉絕對角度 180, 等同轉相對角度 90 度, 即 t.right(90)
t.setheading(180)
# 將畫筆顏色設為紅色
t.pencolor('red')
# 下筆準備繪圖
t.pendown()
# 設筆寬度為 10
t.pensize(10)
# 進入重複迴圈, 此時方向向右, 分別
# 前進 screen_x, 之後轉 90 度, 方向朝上
# 再前進 screen_y, 之後再轉 90 度, 方向朝右
# 再前進 screen_x, 之後轉 90 度, 方向朝下
# 最後再前進 screen_y 後, 將方向轉為向左
for distance in (screen_x, screen_y, screen_x, screen_y):
    t.forward(distance)
    t.right(90)
# 提筆後, 將烏龜轉回內定方向回到畫布中心
t.penup()
t.home()
# 完成 turtle 繪圖
turtle.done()
""", "kw_editor", "kw_console", "kw__container", "kw_py_src")
# id 為 "turtle4" 的按鈕點按時, 執行 Turtle4 物件中的 prog 方法
doc["turtle4"].bind('click', Turtle4.prog)
</script>
</p>
<!-- turtle4 ends -->
<p></p>
<!-- turtle5 starts -->
<p>
<script type="text/python3">
from browser import document as doc
import beditor
Turtle5 = beditor.editor("""# Turtle5 繪圖
# https://brython.info/gallery/turtle.html
from browser import document as doc
import turtle
import math
turtle.set_defaults(
    turtle_canvas_wrapper = doc['brython_div']
)
t = turtle.Turtle("turtle")
t.speed(1)
t.forward(50)
print("Should be (50, 0):", t.position())
print("Should be 50: ", t.xcor())
print("Should be 0: ", t.ycor())
t.left(90)
t.color("blue")
t.speed(2)
t.fd(50)
print("Should be (50, 50):", t.pos())
print("Should be 225: ", t.towards(0, 0))
print("Should be 90: ", t.heading())
print("Should be approximately 71:", t.distance(0, 0))
# Draw the same square in three different angle modes
t.width(4)
print("Drawing using degrees - the default")
print("Heading should be 90: ", t.heading())
for i in range(4):
    t.forward(100)
    t.left(90)
print("Drawing using radians")
t.radians()
print("Heading should be pi/2: ", t.heading())
for i in range(4):
    t.forward(100)
    t.left(math.pi/2)
print("Drawing using gradients")
t.degrees(400)
print("Heading should be 100: ", t.heading())
for i in range(4):
    t.forward(100)
    t.left(100)
t.degrees()
t.width(1)
t.lt(90)
t.color("orange")
t.backward(50)
t.right(90)
t.color("green")
t.back(50)
t.rt(90)
t.color("red")
t.bk(50)
t.stamp()
t.speed(4)
t.color("black", "white")
t.goto(-100, 100)
t.stamp()
t.color("blue", "yellow")
t.setposition(0, 100)
t.stamp()
t.color("green", "white")
t.setpos(100, 100)
t.stamp()
t.speed(10)
t.color("orange")
t.sety(-100)
t.setx(-100)
t.stamp()
t.color("cyan")
t.home()
t.stamp()
t.color("green")
t.width(4)
t.setheading(180)
t.forward(150)
t.seth(90)
t.fd(20)
t.dot(30, "rgba(255, 0, 0, 0.2)")
t.color("red")
t.speed(0)
t.forward(30)
t.left(90)
t.circle(30)
turtle.done()
""", "kw_editor", "kw_console", "kw__container", "kw_py_src")
# id 為 "turtle5" 的按鈕點按時, 執行 Turtle5 物件中的 prog 方法
doc["turtle5"].bind('click', Turtle5.prog)
</script>
</p>
<!-- turtle5 ends -->
<p></p>
<!-- turtle6 starts -->
<p>
<script type="text/python3">
from browser import document as doc
import beditor
Turtle6 = beditor.editor("""# Turtle6 繪圖
from browser import document as doc
import turtle
import math
turtle.set_defaults(
    turtle_canvas_wrapper = doc['brython_div']
)
t = turtle.Turtle("turtle")
t.speed(10)
colors = ['red', 'purple', 'blue', 'green', 'orange']
for x in range(150):
    t.pencolor(colors[x % 5])
    t.width(x/10 + 1)
    t.forward(x)
    t.left(59)
turtle.done()
""", "kw_editor", "kw_console", "kw__container", "kw_py_src")
# id 為 "turtle6" 的按鈕點按時, 執行 Turtle6 物件中的 prog 方法
doc["turtle6"].bind('click', Turtle6.prog)
</script>
</p>
<!-- turtle6 ends -->
<p></p>
<!-- turtle7 starts -->
<p>
<script type="text/python3">
from browser import document as doc
import beditor
Turtle7 = beditor.editor("""# Turtle7 繪圖
from browser import document as doc
import turtle
import math
turtle.set_defaults(
    turtle_canvas_wrapper = doc['brython_div']
)
screen=turtle.Screen()    #making a canvas for drawing
screen.bgcolor('black')    #making canvas black
trtl=turtle.Turtle()  #making a turtle
trtl.pencolor('red')    #making colour of the pen red
trtl.pensize(5)    #choosing the size of pen nib 
trtl.speed(10)    #choosing the speed of drawing
# shape should be ‘arrow’, ‘classic’, ‘turtle’ or ‘circle’
trtl.shape('turtle')   #choosing the shape of pen nib
trtl.forward(150)    #drawing a line of 150 pixels
trtl.right(90)    #asking turtle to turn 90 degrees
trtl.forward(150)    #drawing a line of 150 pixels
trtl.penup()    # preparing for moving pen without drawing
trtl.setpos(-140,-120)    # making the new position of the turtle
trtl.pendown()   # bringing the pen down for drawing again
trtl.pencolor('green')    # choosin the pen colour as green
trtl.write('Brython 烏龜繪圖', font=("Arial", 20, "bold"))    # chosing the font
trtl.penup()
trtl.ht()    # hiding the turtle from the screen
turtle.done()
""", "kw_editor", "kw_console", "kw__container", "kw_py_src")
# id 為 "turtle7" 的按鈕點按時, 執行 Turtle7 物件中的 prog 方法
doc["turtle7"].bind('click', Turtle7.prog)
</script>
</p>
<!-- turtle7 ends -->
<p></p>
<!-- turtle8 starts -->
<p>
<script type="text/python3">
from browser import document as doc
import beditor
Turtle8 = beditor.editor("""# Turtle8 繪圖
from browser import document as doc
import turtle
import math
turtle.set_defaults(
    turtle_canvas_wrapper = doc['brython_div']
)
wn = turtle.Screen() 
wn.bgcolor("black") 
skk = turtle.Turtle() 
skk.speed(10)
skk.shape("circle")
skk.color("blue") 
  
def sqrfunc(size): 
    for i in range(4): 
        skk.fd(size) 
        skk.left(90) 
        size = size-5
  
sqrfunc(146) 
sqrfunc(126) 
sqrfunc(106) 
sqrfunc(86) 
sqrfunc(66) 
sqrfunc(46) 
sqrfunc(26) 
turtle.done()
""", "kw_editor", "kw_console", "kw__container", "kw_py_src")
# id 為 "turtle8" 的按鈕點按時, 執行 Turtle8 物件中的 prog 方法
doc["turtle8"].bind('click', Turtle8.prog)
</script>
</p>
<!-- turtle8 ends -->
<p></p>
<!-- konva1 starts -->
<p>
<script type="text/python3">
from browser import document as doc
import beditor
Konva1 = beditor.editor("""# Konva1 繪圖
# 引用 https://konvajs.github.io/ 繪圖
from browser import document, html, window
width = 600
height = 400
konva = window.Konva
# Konva 必須在 canvas 繪圖, 從上方設定,  canvas id 為 "container"
stage = konva.Stage.new({
        "container": 'brython_div',
        "width": width,
        "height": height
    })
layer = konva.Layer.new()
rectX = stage.getWidth() / 2 - 50
rectY = stage.getHeight() / 2 - 25
box = konva.Rect.new({
        "x": rectX,
        "y": rectY,
        "width": 100,
        "height": 50,
        "fill": '#00D2FF',
        "stroke": 'black',
        "strokeWidth": 4,
        "draggable": True
    })
def f1():
    document.body.style.cursor = 'pointer'
    
def f2():
    document.body.style.cursor = 'default'
# add cursor styling
box.on('mouseover', f1())
box.on('mouseout', f2())
layer.add(box)
stage.add(layer)
""", "kw_editor", "kw_console", "kw__container", "kw_py_src")
# id 為 "konva1" 的按鈕點按時, 執行 Konva1 物件中的 prog 方法
doc["konva1"].bind('click', Konva1.prog)
</script>
</p>
<!-- konva1 ends -->
<p></p>
<!-- ycqsort starts -->
<p>
<script type="text/python3">
from browser import document as doc
import beditor
Ycqsort = beditor.editor("""# Ycombinator quicksort example
Y = lambda f: lambda *args: f(Y(f))(*args)
quicksort = Y(lambda f:
    lambda x: (
        f([item for item in x if item < x[0]])
        + [y for y in x if x[0] == y]
        + f([item for item in x if item > x[0]])
    ) if x else [])
    
print(quicksort([1, 3, 5, 4, 1, 3, 2]))
""", "kw_editor", "kw_console", "kw__container", "kw_py_src")
# id 為 "ycqsort" 的按鈕點按時, 執行 Ycqsort 物件中的 prog 方法
doc["ycqsort"].bind('click', Ycqsort.prog)
</script>
</p>
<!-- ycqsort ends -->
<p></p>
<!-- ball starts -->
<p>
<script type="text/python3">
from browser import document as doc
import beditor
Ball = beditor.editor("""# Ggame ball example
from ggame import (
    App, 
    Color, 
    LineStyle, 
    Sprite, 
    RectangleAsset, 
    ImageAsset,
    CircleAsset, 
    EllipseAsset, 
    PolygonAsset,
)
from browser import document as doc
from browser import html
# 引入既有的id="graphics-column" 標註
graphics_column = doc["graphics-column"]
# 建立內定名稱為 "ggame-canvas" 的 canvas 標註
canvas = html.CANVAS(width = 600, height = 100)
canvas.id = "ggame-canvas"
# 將 canvas 插入 gc 標註中
graphics_column <= canvas
# reverse - change the ball direction
def reverse(b):
    b.direction *= -1
# Set up function for handling screen refresh
def step():
    if ball.go:
        ball.x += ball.direction
        if ball.x + ball.width > myapp.width or ball.x < 0:
            ball.x -= ball.direction
            reverse(ball)
myapp = App()
# Three primary colors with no transparency (alpha = 1.0)
red = Color(0xff0000, 1.0)
green = Color(0x00ff00, 1.0)
blue = Color(0x0000ff, 1.0)
black = Color(0x000000, 1.0)
# define colors and line style
green = Color(0x00ff00, 1)
black = Color(0, 1)
noline = LineStyle(0, black)
# a rectangle asset and sprite to use as background
bg_asset = RectangleAsset(canvas.width, canvas.height, noline, green)
bg = Sprite(bg_asset, (0,0))
ball_asset = ImageAsset("/images/orb-150545_640.png")
ball = Sprite(ball_asset, (0, 0))
# Original image is too big. Scale it to 1/10 its original size
ball.scale = 0.1
# custom attributes
ball.direction = 7
ball.go = True
myapp.run(step)
""", "kw_editor", "kw_console", "kw__container", "kw_py_src")
# id 為 "ball" 的按鈕點按時, 執行 Ball 物件中的 prog 方法
doc["ball"].bind('click', Ball.prog)
</script>
</p>
<!-- ball ends -->
<p><button id="keyword">Keyword</button><button id="ex1">Ex1</button><button id="ex2">Ex2</button><button id="ex3">Ex3</button><button id="ex4">Ex4</button><button id="forloop">Ex5</button><button id="guess">Guess</button><button id="autoguess">Autoguess</button><button id="lottery">大樂透</button><button id="weleadlottery">威力彩</button><button id="temp">Temp</button><button id="draw">Draw</button><button id="flag">Flag</button><button id="bezier">Bezier</button><button id="turtle1">Turtle1</button><button id="turtle2">Turtle2</button><button id="turtle3">Turtle3</button><button id="turtle4">Turtle4</button><button id="turtle5">Turtle5</button><button id="turtle6">Turtle6</button><button id="turtle7">Turtle7</button><button id="turtle8">Turtle8</button><button id="konva1">Konva1</button><button id="bunny">Bunny</button><button id="ball">Ball</button><button id="spur">Spur</button><button id="ycqsort">Ycqsort</button><button id="clear">Clear</button></p>
<h4>參考資料:</h4>
<p><a href="/downloads/turtle_intro.pdf">turtle_intro.pdf</a></p>
<p><a href="/downloads/turtle_intro2.pdf">turtle_intro2.pdf</a></p>
<p>其他擷取程式的方式: <a href="http://mde.tw/2017springvcp/blog/web-based-python.html">http://mde.tw/2017springvcp/blog/web-based-python.html</a></p>
<h4>Qt for Python</h4>
<p><a href="https://www.qt.io/qt-for-python">https://www.qt.io/qt-for-python</a></p>
<p><a href="https://build-system.fman.io/python-qt-tutorial">https://build-system.fman.io/python-qt-tutorial</a></p>
<p><a href="https://build-system.fman.io/pyqt-exe-creation/">https://build-system.fman.io/pyqt-exe-creation/</a></p>
<p><a href="https://github.com/mherrmann/fbs-tutorial">https://github.com/mherrmann/fbs-tutorial</a></p>
<p><a href="https://www.ics.com/blog/we-ported-qt-app-c-python-heres-what-happened">https://www.ics.com/blog/we-ported-qt-app-c-python-heres-what-happened</a></p>
<p>
<script src="/static/konva.min.js"></script>
</p>
<div id="container"></div>
<p>
<script>
var width = window.innerWidth;
    var height = window.innerHeight;
    // globals
    var curveLayer, lineLayer, anchorLayer, quad, bezier;
    function updateDottedLines() {
        var q = quad;
        var b = bezier;
        var quadLine = lineLayer.get('#quadLine')[0];
        var bezierLine = lineLayer.get('#bezierLine')[0];
        quadLine.setPoints([q.start.attrs.x, q.start.attrs.y, q.control.attrs.x, q.control.attrs.y, q.end.attrs.x, q.end.attrs.y]);
        bezierLine.setPoints([b.start.attrs.x, b.start.attrs.y, b.control1.attrs.x, b.control1.attrs.y, b.control2.attrs.x, b.control2.attrs.y, b.end.attrs.x, b.end.attrs.y]);
        lineLayer.draw();
    }
    function buildAnchor(x, y) {
        var anchor = new Konva.Circle({
            x: x,
            y: y,
            radius: 20,
            stroke: '#666',
            fill: '#ddd',
            strokeWidth: 2,
            draggable: true
        });
        // add hover styling
        anchor.on('mouseover', function() {
            document.body.style.cursor = 'pointer';
            this.setStrokeWidth(4);
            anchorLayer.draw();
        });
        anchor.on('mouseout', function() {
            document.body.style.cursor = 'default';
            this.setStrokeWidth(2);
            anchorLayer.draw();
        });
        anchor.on('dragend', function() {
            drawCurves();
            updateDottedLines();
        });
        anchorLayer.add(anchor);
        return anchor;
    }
    function drawCurves() {
        var context = curveLayer.getContext();
        context.clear();
        // draw quad
        context.beginPath();
        context.moveTo(quad.start.attrs.x, quad.start.attrs.y);
        context.quadraticCurveTo(quad.control.attrs.x, quad.control.attrs.y, quad.end.attrs.x, quad.end.attrs.y);
        context.setAttr('strokeStyle', 'red');
        context.setAttr('lineWidth', 4);
        context.stroke();
        // draw bezier
        context.beginPath();
        context.moveTo(bezier.start.attrs.x, bezier.start.attrs.y);
        context.bezierCurveTo(bezier.control1.attrs.x, bezier.control1.attrs.y, bezier.control2.attrs.x, bezier.control2.attrs.y, bezier.end.attrs.x, bezier.end.attrs.y);
        context.setAttr('strokeStyle', 'blue');
        context.setAttr('lineWidth', 4);
        context.stroke();
    }
    var stage = new Konva.Stage({
        container: 'container',
        width: width,
        height: height
    });
    anchorLayer = new Konva.Layer();
    lineLayer = new Konva.Layer();
    // curveLayer just contains a canvas which is drawn
    // onto with the existing canvas API
    curveLayer = new Konva.Layer();
    var quadLine = new Konva.Line({
        dash: [10, 10, 0, 10],
        strokeWidth: 3,
        stroke: 'black',
        lineCap: 'round',
        id: 'quadLine',
        opacity: 0.3,
        points: [0, 0]
    });
    var bezierLine = new Konva.Line({
        dash: [10, 10, 0, 10],
        strokeWidth: 3,
        stroke: 'black',
        lineCap: 'round',
        id: 'bezierLine',
        opacity: 0.3,
        points: [0, 0]
    });
    // add dotted line connectors
    lineLayer.add(quadLine);
    lineLayer.add(bezierLine);
    quad = {
        start: buildAnchor(60, 30),
        control: buildAnchor(240, 110),
        end: buildAnchor(80, 160)
    };
    bezier = {
        start: buildAnchor(280, 20),
        control1: buildAnchor(530, 40),
        control2: buildAnchor(480, 150),
        end: buildAnchor(300, 150)
    };
    // keep curves insync with the lines
    anchorLayer.on('beforeDraw', function() {
        drawCurves();
        updateDottedLines();
    });
    stage.add(curveLayer);
    stage.add(lineLayer);
    stage.add(anchorLayer);
    drawCurves();
    updateDottedLines();
</script>
</p><h2>Javascript</h2>
<pre class="brush:js;auto-links:false;toolbar:false" contenteditable="false">for (var i=0; i&lt;10; i++)
    // 將原本列在 console 區的資料導引到下列程式執行輸出區
    console.log(i + ": Hello, 開始學習 Javascript!");</pre>
<p>下列範例,  以 <a href="https://www.arc.id.au/CanvasGraphics.html">https://www.arc.id.au/CanvasGraphics.html</a> 繪圖程式庫中的程式碼為例.</p>
<script src="/downloads/dart_ex/cango/Cango-15v00-min.js"></script>
<script src="/downloads/dart_ex/cango/CangoAxes-6v01-min.js"></script>
<script src="/downloads/dart_ex/cango/Cango3D-8v00-min.js"></script>
<script src="/downloads/dart_ex/cango/gearUtils-09.js"></script>
<p><!-- 導入 FileSaver 與 filereader --></p>
<p>
<script src="/static/ace/FileSaver.min.js" type="text/javascript"></script>
<script src="/static/ace/filereader.js" type="text/javascript"></script>
</p>
<p><!-- 導入 ace --></p>
<p>
<script src="/static/ace/ace.js" type="text/javascript"></script>
<script src="/static/ace/ext-language_tools.js" type="text/javascript"></script>
<!--
<script type="text/javascript" src="/static/ace/mode-python3.js"></script>
<script type="text/javascript" src="/static/ace/snippets/python.js"></script>
--></p>
<!-- 嘗試直接使用 ace.js 編寫 Javascript -->
<div id="js_editor" style="width: 600px; height: 300px;"></div>
<p>
<script>
editor = window.ace.edit("js_editor");
session = editor.getSession();
//session.setMode("ace/mode/javascript");
editor.setOptions({
// Javascript 中的 true 與 false 為小寫開頭
             enableLiveAutocompletion: true,
             enableSnippets: true,
             highlightActiveLine: false,
             highlightSelectedWord: true,
             autoScrollEditorIntoView: true,
             // 'maxLines': session.getLength() 可以根據程式長度設定 editor 列數
             // 設定讓使用者最多可以在畫面中顯示 20 行程式碼
             maxLines: 20,
             fontSize: '12pt'
            });
if (localStorage["js_src"] != null){
    editor.setValue(localStorage["js_src"]);
}else{
    editor.setValue(`
  var g = new Cango('canvas'),
      i, data = [];

  g.gridboxPadding(10);
  g.setWorldCoordsRHC(0, -50, 2*Math.PI, 100);
  // draw axes
  g.drawAxes(0, 6.5, -50, 50, {
    xOrigin:0, yOrigin:0,
    fontSize:10,
    strokeColor:'gray'});

  for (i=0; i<=2*Math.PI; i+=0.03) {
    data.push(i, 50*Math.sin(i));
  }
  g.drawPath(data, {strokeColor:'red'});
  console.log("繪圖完成");
`);
}
editor.scrollToRow(0);
editor.gotoLine(0);

function runjs(){
    code = editor.getValue();
    localStorage['js_src'] = code;
    // 在目前頁面中執行 code
    // grabbed from https://stackoverflow.com/questions/6432984/adding-script-element-to-the-dom-and-have-the-javascript-run
    var script = document.createElement('script');
    try {
      script.appendChild(document.createTextNode(code));
      document.body.appendChild(script);
    } catch (e) {
      script.text = code;
      document.body.appendChild(script);
    }
}

// 用於清除 console 輸出區
function clearBox(elementID)
{
    document.getElementById(elementID).innerHTML = "";
}

// 設定擴大 console 區
function showConsole()
{
    document.getElementById("js_console").cols = 60;
    document.getElementById("js_console").rows = 10;
}

// 清除 canvas
function clearCanvas(canvasID)
{
    var canvas = document.getElementById(canvasID);
    const context = canvas.getContext('2d');
    context.clearRect(0, 0, canvas.width, canvas.height);
}

// redirect console.log to page id="js_console" area
// https://stackoverflow.com/questions/11403107/capturing-javascript-console-log
(function(){
    var oldLog = console.log;
    console.log = function (message) {
        document.getElementById("js_console").innerHTML+= message + "\n";
        oldLog.apply(console, arguments);
    };
})();

// get gist data with id
function getGist(gistid, filename)
{
    $.ajax({
      url: 'https://api.github.com/gists/'+gistid,
      type: 'GET',
      dataType: 'jsonp'
    }).success( function(gistdata) {
        var content = gistdata.data.files[filename].content;
            editor.setValue(content);
      }).error( function(e) {
      // ajax error
      console.log("ajax error");
});
}
</script>
</p>
<p><!-- 請注意, 這裡使用 Javascript 將 localStorage["js_src"] 中存在近端瀏覽器的程式碼, 由使用者決定存檔名稱--></p>
<p>
<script type="text/javascript">
function doSave(storage_id, filename){
    var blob = new Blob([localStorage[storage_id]], {type: "text/plain;charset=utf-8"});
    filename = document.getElementById(filename).value
    saveAs(blob, filename+".js");
}
</script>
</p>
<p><!-- 以下的表單與按鈕與前面的 Javascript doSave 函式以及 FileSaver.min.js 互相配合 --></p>
<form><label>Filename: <input id="js_filename" placeholder="input file name" type="text"/>.js</label> <input onclick="doSave('js_src', 'js_filename');" type="submit" value="Save"/></form>
<p><button onclick="runjs()">Run</button><button onclick="showConsole()">Output</button><button onclick="clearBox('js_console')">清除輸出區</button><button onclick="clearCanvas('canvas')">清除繪圖區</button><button onclick="clearBox('html')">清除 html 區</button><button onclick="window.location.reload()">Reload</button></p>
<div style="width: 100%; height: 100%;"><textarea autocomplete="off" id="js_console"></textarea></div>
<p><button onclick="getGist('d2f8b8898ff1a17a078374ee8dc714c4', 'ROCFlag.js')">ROC Flag</button><button onclick="getGist('d2f8b8898ff1a17a078374ee8dc714c4', 'plotSin.js')">Plot Sin</button><button onclick="getGist('d2f8b8898ff1a17a078374ee8dc714c4', 'plotCos.js')">Plot Cos</button><button onclick="getGist('d2f8b8898ff1a17a078374ee8dc714c4', 'excavator.js')">Excavator</button><button onclick="getGist('d2f8b8898ff1a17a078374ee8dc714c4', 'bouncingBall.js')">Bouncing Ball</button><button onclick="getGist('d2f8b8898ff1a17a078374ee8dc714c4', 'editCurve.js')">Edit Curve</button><button onclick="getGist('d2f8b8898ff1a17a078374ee8dc714c4', 'groupDrag.js')">Group Drag</button><button onclick="getGist('d2f8b8898ff1a17a078374ee8dc714c4', 'involuteGear1.js')">Involute Gear</button><button onclick="getGist('d2f8b8898ff1a17a078374ee8dc714c4', 'gearMeshing.js')">Gear Meshing</button><button onclick="getGist('d2f8b8898ff1a17a078374ee8dc714c4', 'internalGear.js')">Internal Gear</button><button onclick="getGist('d2f8b8898ff1a17a078374ee8dc714c4', 'threejs_cube.js')">Three.js Cube</button><button onclick="getGist('d2f8b8898ff1a17a078374ee8dc714c4', 'canvas_drawLine.js')">Canvas Draw Line</button></p>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/109/three.js">
</script>
<div id="html"></div>
<p><canvas height="400" id="canvas" width="600"></canvas></p><h3>JS examples</h3>
<p style="padding-left: 30px;"><a href="https://github.com/xibyte/jsketcher">https://github.com/xibyte/jsketcher</a></p>
<p style="padding-left: 30px;"><a href="https://emscripten.org/">https://emscripten.org/</a></p>
<h4>Prompt 與運算</h4>
<pre class="brush:js;auto-links:false;toolbar:false" contenteditable="false">degreeC = prompt("請輸入攝氏溫度!");
console.log("攝氏 " + degreeC + " = 華氏 " + 
(degreeC*9/5 +32) + " 度");</pre>
<h4>Open new window</h4>
<pre class="brush:js;auto-links:false;toolbar:false" contenteditable="false">var window = window.open('https://mde.tw', "mde",
"menubar=no, titlebar=no, noopener, noreferer, personalbar=no, toolbar=no, location=no,resizable=no,scrollbars=no,status=no");</pre>
<h4>Canvas 繪圖</h4>
<pre class="brush:js;auto-links:false;toolbar:false" contenteditable="false">// 建立 flag canvas
document.getElementById("html").innerHTML="&lt;canvas id='flag' width='600' height='400'&gt;&lt;/canvas&gt;";
// 在 canvas 畫布上建立 2d 的繪圖 context
canvas = document.getElementById("flag")
var ctx = canvas.getContext('2d');
// 設定繪圖寬與高
var flag_w = canvas.width;
var flag_h = canvas.height;
// 設定白日的半徑
var circle_x = flag_w / 4;
var circle_y = flag_h / 4;

// 先畫滿地紅
ctx.clearRect(0, 0, flag_w, flag_h);
ctx.fillStyle = 'rgb(255, 0, 0)';
ctx.fillRect(0, 0, flag_w, flag_h);

// 再畫青天
ctx.fillStyle = 'rgb(0, 0, 150)';
ctx.fillRect(0, 0, flag_w / 2, flag_h / 2);

// 畫十二道光芒白日
ctx.beginPath();
    var star_radius = flag_w / 8;
    var angle = 0;
    var i;
for (i = 0; i &lt; 25; i++) {
    angle += 5 * Math.PI * 2 / 12;
    //console.log(angle);
    var toX = circle_x + Math.cos(angle) * star_radius;
    //console.log(toX);
    var toY = circle_y + Math.sin(angle) * star_radius;
    //console.log(toY);
    // 只有 i 為 0 時移動到 toX, toY, 其餘都進行 lineTo
    if (i === 0){
      ctx.moveTo(toX, toY);
    }
    else
    {
      ctx.lineTo(toX, toY);
    }
}
ctx.closePath();

// 將填色設為白色
ctx.fillStyle = '#fff';
ctx.fill();

// 白日:藍圈
ctx.beginPath();
    ctx.arc(circle_x, circle_y, flag_w * 17 / 240, 0, Math.PI * 2, true);
    ctx.closePath();
    // 填色設為藍色
    ctx.fillStyle = 'rgb(0, 0, 149)';
    ctx.fill();
// 白日:白心
ctx.beginPath();
    ctx.arc(circle_x, circle_y, flag_w / 16, 0, Math.PI * 2, true);
    ctx.closePath();
// 填色設為白色
ctx.fillStyle = '#fff';
ctx.fill();
</pre>
<h4>Clear Existing Canvas</h4>
<pre class="brush:js;auto-links:false;toolbar:false" contenteditable="false">// 清除已經存在 flag 繪圖區域的 canvas
var ctx =document.getElementById("flag").getContext('2d');
ctx.clearRect(0, 0, canvas.width, canvas.height);</pre>
<h4>Mouse Position</h4>
<pre class="brush:js;auto-links:false;toolbar:false" contenteditable="false">function writeMessage(canvas, message) {
    var context = canvas.getContext('2d');
    context.clearRect(0, 0, canvas.width, canvas.height);
    context.font = '18pt Calibri';
    context.fillStyle = 'black';
    context.fillText(message, 10, 25);
  }
      
function getMousePos(canvas, evt) {
    var rect = canvas.getBoundingClientRect();
    return {
      x: evt.clientX - rect.left,
      y: evt.clientY - rect.top
    };
  }
  
var canvas = document.getElementById('canvas');
var ctx = canvas.getContext('2d');

canvas.addEventListener('mousemove', function(evt) {
var mousePos = getMousePos(canvas, evt);
var message = 'Mouse position: ' + mousePos.x + ',' + mousePos.y;
writeMessage(canvas, message);
createLines();
}, false);
</pre>
<h4>Ajax 與 Flask</h4>
<pre class="brush:js;auto-links:false;toolbar:false" contenteditable="false">/* flask side
from flask import Flask
from flask_cors import CORS
app = Flask(__name__)
CORS(app, support_credentials=False)

import json

@app.route('/hello/&lt;name&gt;')
def hello_world(name=None):
    str = {'key':'Hello World!', 'q':name}
    #out = {'key':str}
    res = json.dumps(str)
    return res

if __name__ == '__main__':
    app.run()
*/

// Javascript side
$.ajax({
    type:"GET",
    dataType: "json",
    data:'Payam',
    url: "http://localhost:5000/hello/world",
    success: function(data){
        buf1=data;
        console.log(data["key"]);
        console.log(data["q"]);
    }
})</pre>
<p><a href="https://github.com/realpython/flask-single-page-app">https://github.com/realpython/flask-single-page-app</a></p><h3>GCS</h3>
<h4><span mce-data-marked="1">Geometric Constrain Solver</span></h4>
<p><span mce-data-marked="1"><a href="https://github.com/tmpvar/2d-constraints-bfgs">https://github.com/tmpvar/2d-constraints-bfgs</a></span></p>
<p><span mce-data-marked="1"><a href="https://github.com/xibyte/jsketcher">https://github.com/xibyte/jsketcher</a></span></p>
<p><span mce-data-marked="1"><a href="https://github.com/tab58/assemble2d">https://github.com/tab58/assemble2d</a></span></p>
<p><span mce-data-marked="1"></span></p>
<p></p><h2>Ebooks</h2>
<p>2014 年出版的 Dart for absolute begineers 電子書:</p>
<p style="padding-left: 30px;"><a href="https://link.springer.com/book/10.1007/978-1-4302-6482-8">https://link.springer.com/book/10.1007/978-1-4302-6482-8</a></p>
<p style="padding-left: 30px;">本書程式碼: <a href="https://github.com/apress/dart-for-absolute-begs">https://github.com/apress/dart-for-absolute-begs</a></p>
<h4>導讀:</h4>
<p style="padding-left: 30px;">可以利用 <a href="https://translate.google.com.tw/?op=translate&amp;sl=en&amp;tl=zh-TW">https://translate.google.com.tw/?op=translate&amp;sl=en&amp;tl=zh-TW</a> </p>
<p style="padding-left: 30px;">與 <a href="https://www.merriam-webster.com/dictionary/">https://www.merriam-webster.com/dictionary/</a> 協助理解 ebook 內容.</p>
<p style="padding-left: 30px;">第一章可以完全跳過, 因為所包含的工具屬於 Dart1, 本課程所使用的為 2018 年 2 月所發布的 Dart2 標準.</p>
<p style="padding-left: 30px;">Appendix C: Dart Timeline</p>
<p style="padding-left: 60px;">2017.05: Flutter 推出 Alpha 版 (<a href="https://en.wikipedia.org/wiki/Flutter_(software)">https://en.wikipedia.org/wiki/Flutter_(software)</a>)</p>
<p style="padding-left: 60px;"><a href="https://github.com/flutter/flutter">https://github.com/flutter/flutter</a></p>
<p style="padding-left: 60px;">2018.08: <a href="https://medium.com/dartlang/dart-2-stable-and-the-dart-web-platform-3775d5f8eac7">Dart2 推出穩定版本</a></p>
<p style="padding-left: 60px;"><a href="https://github.com/dart-lang/sdk">https://github.com/dart-lang/sdk</a></p>
<p style="padding-left: 60px;"><a href="http://www.codenextgen.com/why-should-you-choose-dart-and-python-for-2019/">為什麼該學 Dart?</a> (除了 C, C++, Lua, Python 與 Javascript 之外)</p>
<p style="padding-left: 90px;">C 與 Lua: 擅長各式硬體控制</p>
<p style="padding-left: 90px;">C++: 建立 CAD/E/M 運算核心</p>
<p style="padding-left: 90px;">Python: Prototyping 後經由 <a href="https://cython.org/">Cython</a> 轉為 C++</p>
<p style="padding-left: 90px;">Javascript: Web programming (由 Dart 轉 js 嵌入網頁執行)</p>
<p style="padding-left: 90px;">Dart: Server, Web and Mobile programming (透過 Flutter SDK)</p>
<p style="padding-left: 90px;">C/C++ 核心 (含 Python+Cython) 作為設計分析與硬體控制核心, 以 Lua 及 Python 中繼進行組態調控, Web Server 以 Dart 開發, Web 與 Mobile Client 端則採 Dart 與 Flutter 執行開發.</p>
<p style="padding-left: 30px;">第十八章: Interview with Dart's creator</p>
<p style="padding-left: 30px;">第十五章: Tools of the Trade</p>
<p style="padding-left: 60px;">學會使用 Git 與 Github 並且配合 CMSiMDE 建立個人 cp2019 倉儲與網站, 並且學會利用 https 與 ssh 從近端對遠端的 Github 連線更新倉儲內容.</p>
<p style="padding-left: 30px;">第七章 How does the web work?</p>
<p style="padding-left: 60px;">首先必須瞭解電腦輔助設計室的網路架構, IPv4 與 IPv6 環境下要如何設定 Windows 10 的網路連線, 如何設定 Chrome 與 Firefox 的 Proxy Servers, 系上提供的 Proxy Server 如何設定, 當使用 Git 在 https 與 ssh 連線時的 Proxy Serve r該如何設定.</p>
<p style="padding-left: 30px;">之後再透過本書第七章中所介紹的 Internet, Web 以及 HTML 等內容, 設法在 <a href="http://mde.tw/dartpad">http://mde.tw/dartpad</a> 中編寫帶有 Html 與 CSS 的網際程式.</p>
<p style="padding-left: 30px;">更完整有關 Html5 與 CSS 的電子書: <a href="https://link.springer.com/book/10.1007/978-1-4842-4155-4">The Essential Guide to HTML5</a></p>
<p style="padding-left: 30px;">第八章 Using Dart to interact with html.</p>
<p style="padding-left: 30px;">第二章 Your First Dart Program</p>
<p style="padding-left: 60px;">Hello World 程式可以直接在 <a href="http://mde.tw/dartpad">http://mde.tw/dartpad</a> 上執行. 而網頁表單版的 Hello World 則可以將原本的網頁版程式, 拆成 dart, html 與 css 等三部分, 在 dartpad 上勾選 "show web content" 後執行, 若要直接在瀏覽器中執行, 則必須利用位於 y:\dart-sdk/bin/dart2js.bat 或 y:\flutter\bin\cache\dart-sdk\bin\dart2js.bat 將 helloworldfancy.dart 以:</p>
<p style="padding-left: 60px;">dart2js -o helloworldfancy.js helloworldfancy.dart</p>
<p style="padding-left: 60px;">轉為 helloworldfancy.js 後以 &lt;script&gt; 標註導入 html 檔案中執行.</p>
<p style="padding-left: 60px;"><a href="https://mde.tw/dartpad?id=7a8f67a86c6b99f6a172984d8133083e">helloworldfancy.dart on Dartpad</a></p>
<p style="padding-left: 30px;">練習題目:</p>
<p style="padding-left: 60px;">將 helloworldfancy.dart 轉為 .js 後, 直接在瀏覽器中執行.</p>
<p style="padding-left: 60px;">helloworldfancy.dart 轉為 .js 之後, 能否嵌入 CMSiMDE 的頁面中?</p>
<p style="padding-left: 30px;">第三章: Some Programming Fundamentals</p>
<p style="padding-left: 60px;">var, String, List, num 等為變數的型別 (type) 宣告, 特別注意 Sting 與 List 以大寫字母開頭.</p>
<p style="padding-left: 30px;">第九章: Hangman</p>
<p style="padding-left: 30px;">第十章: OOP Fundamentals</p>
<p style="padding-left: 60px;">因為目前 <a href="http://mde.tw/dartpad">http://mde.tw/dartpad</a> 不支援多 dart 程式模式, 因此所有的 dart 程式碼都必須寫在同一個檔案中.</p>
<p style="padding-left: 60px;">Object-oriented programming is a method of representing programmatic ideas that allows for improved abstraction, increased productivity, and better code reuse. Dart is a fully object-oriented programming language, in that it has no<br/>concept of primitive data types (primitive meaning "non-object"). In Dart, everything is an object.</p>
<p style="padding-left: 60px;">An object is an abstraction meant to represent a component of a program. Objects can be created, destroyed, given attributes, and made to perform actions. The metaphors that they can represent are really limited only by your<br/>imagination. Objects have instance variables, which represent their attributes, and methods, which represent the actions they can perform.</p>
<p style="padding-left: 60px;">Every object belongs to a class. The class of an object is its type. In other words, objects of the same class are the same type. Objects of the same class have the  same instance variables and methods available to them (although the value of those instance variables may differ).</p>
<p style="padding-left: 60px;">In Dart, stylistically, class names are written in CamelCase, like variable and function names. Unlike variable and function names, the first letter of a class name should be capitalized. Instance variable names and method names should also be camelCase, but begin with a lowercase letter.</p>
<p style="padding-left: 30px;">第十一章: Object-Oriented Design</p>
<p style="padding-left: 30px;">第十二章: Advanced Dart Concepts</p>
<p style="padding-left: 30px;">第十三章: Testing Your Works</p>
<p style="padding-left: 30px;">第十四章: Concurrency</p>
<p style="padding-left: 30px;">第十六章: Puting it all together</p>
<p style="padding-left: 30px;">第十七章: Where to go from here</p>
<p style="padding-left: 30px;">Appendix A: Dart Cheat Sheet</p>
<p style="padding-left: 60px;"><a href="/downloads/Dart2-Cheatsheet.pdf">Dart2 Cheat Sheet.pdf</a></p>
<p style="padding-left: 30px;">Appendix B: History of Web Programming</p><h2>Flutter</h2>
<p style="padding-left: 30px;"><a href="https://flutter.dev/docs">https://flutter.dev/docs</a> </p>
<p style="padding-left: 30px;"><a href="https://medium.com/dartlang/announcing-dart-2-5-super-charged-development-328822024970">https://medium.com/dartlang/announcing-dart-2-5-super-charged-development-328822024970</a></p>
<p style="padding-left: 30px;"><a href="https://medium.com/@adityadroid/60-days-of-flutter-creating-the-app-ea0407b472ae">https://medium.com/@adityadroid/60-days-of-flutter-creating-the-app-ea0407b472ae</a></p>
<p style="padding-left: 30px;"><a href="https://github.com/flutterkit/zerker">https://github.com/flutterkit/zerker</a></p>
<p style="padding-left: 30px;"><a href="https://www.reddit.com/r/FlutterDev/">https://www.reddit.com/r/FlutterDev/</a></p>
<p style="padding-left: 30px;"><a href="https://github.com/flutter/flutter/projects">https://github.com/flutter/flutter/projects</a></p>
<p style="padding-left: 30px;"><a href="https://github.com/flutter/samples">https://github.com/flutter/samples</a></p>
<p style="padding-left: 30px;"><a href="https://github.com/apptreesoftware/flutter_map">https://github.com/apptreesoftware/flutter_map</a></p>
<p style="padding-left: 30px;"><a href="https://pub.dev/packages/p5">https://pub.dev/packages/p5</a></p>
<p style="padding-left: 30px;"><a href="https://github.com/duytq94/flutter-chat-demo">https://github.com/duytq94/flutter-chat-demo</a></p>
<p style="padding-left: 30px;"><a href="https://github.com/srplab/starcore_for_flutter">https://github.com/srplab/starcore_for_flutter</a></p>
<p style="padding-left: 30px;"><a href="https://blog.geekyants.com/building-a-2d-game-in-flutter-a-comprehensive-guide-913f647846bc">https://blog.geekyants.com/building-a-2d-game-in-flutter-a-comprehensive-guide-913f647846bc</a></p>
<p style="padding-left: 30px;"><a href="https://github.com/mdecourse/flutter-galaxy-game">https://github.com/mdecourse/flutter-galaxy-game</a></p>
<p style="padding-left: 30px;"><a href="https://flutterchina.club/docs/">https://flutterchina.club/docs/</a></p>
<p style="padding-left: 30px;">Flutter 實戰: <a href="https://book.flutterchina.club/">https://book.flutterchina.club/</a> (<a href="https://github.com/flutterchina/flutter-in-action">Github</a>)</p>
<p>Flutter 與 Web 架構:</p>
<p style="padding-left: 30px;"><a href="https://medium.com/flutter/hummingbird-building-flutter-for-the-web-e687c2a023a8">https://medium.com/flutter/hummingbird-building-flutter-for-the-web-e687c2a023a8</a></p>
<p>Flutter 升級:</p>
<p style="padding-left: 30px;">flutter upgrade</p>
<p>Flutter 移除 analytics:</p>
<p style="padding-left: 30px;">flutter config --no-analytics</p>
<h4>Flutter Tutorial:</h4>
<p style="padding-left: 30px;"><a href="https://flutter.dev/docs/reference/tutorials">https://flutter.dev/docs/reference/tutorials</a></p>
<p style="padding-left: 30px;"><a href="https://github.com/FilledStacks/flutter-tutorials">https://github.com/FilledStacks/flutter-tutorials</a></p>
<p style="padding-left: 30px;"><a href="https://github.com/CarGuo/GSYGithubAppFlutter">https://github.com/CarGuo/GSYGithubAppFlutter</a></p>
<p style="padding-left: 30px;"><a href="https://github.com/trending/dart">https://github.com/trending/dart</a></p>
<h4>Rendering:</h4>
<p style="padding-left: 30px;"><a href="https://api.flutter.dev/flutter/rendering/CustomPainter-class.html">https://api.flutter.dev/flutter/rendering/CustomPainter-class.html</a></p>
<p><iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen" frameborder="0" height="315" src="https://www.youtube.com/embed/G7ZmQEXqmGA" width="560"></iframe></p>
<h4>Signature Pad:</h4>
<p style="padding-left: 30px;"><a href="https://pub.dev/packages/signature_pad">https://pub.dev/packages/signature_pad</a></p>
<p>第一步:</p>
<p style="padding-left: 30px;">在校園網路或以 VPN 或設定代理主機, 下載 <a href="https://link.springer.com/book/10.1007/978-1-4842-4972-7">2019 Pratical Flutter 電子書</a>.</p>
<p style="padding-left: 30px;">登入 @gm 電子郵箱後, 下載可放入 USB 隨身碟運作的可攜系統:</p>
<p style="padding-left: 60px;"> <a href="https://drive.google.com/file/d/1_Mfw1U8yUkYGlVcoFzpvijtRFdKgP93U/view?usp=sharing">flutter_portable_final.7z</a></p>
<p>第二步:</p>
<p style="padding-left: 30px;">解開 flutter_portable_final.7z, 並在執行手機程式開發的 Windows 10 64 位元電腦上安裝 <a href="https://www.bluestacks.com/">https://www.bluestacks.com</a> (也可以安裝 ref 目錄中的 Bluestacks 4.0 舊版本)</p>
<p style="padding-left: 30px;">之後, 我們可以直接啟動  Flutter 隨身系統後, 利用電腦上的 Bluestacks 執行手機程式.</p>
<p>第三步:</p>
<p style="padding-left: 30px;">啟動 Flutter 可攜系統後, 可以直接在命令列中輸入 code, 啟動 Visual Studio Code 程式編輯系統.</p>
<p>第四步:</p>
<p style="padding-left: 30px;">執行第二步在操作系統中所安裝的 Bluestacks, 開啟後, 在命令列中以 adb connect localhost:5555, 以便之後將 Visual Studio Code 中的 Flutter 程式結果呈現在 Bluestacks 虛擬手機畫面中.</p>
<p style="padding-left: 30px;">由於 Bluestacks 採用與 Virualbox 相同的虛擬主機模式, 適合在 CPU 等級較低的電腦上執行開發, 也可以在 Visual Studio Code 中按下 Ctrl + Shift + P, 然後輸入 flutter, 除了可以新建 Flutter 專案外, 也可以透過 Android Virtual Devices 指令, 建立 emulator, 並將編譯完成的手機程式結果, 呈現在對應的 emulator 中.</p>
<p style="padding-left: 30px;">當然, 若使用者已經安裝並設置<a href="https://developer.android.com/studio/run/win-usb">https://developer.android.com/studio/run/win-usb</a>, 也可以直接利用 USB 連接實體 Android 手機進行程式開發測試.</p>
<h4>參考資料</h4>
<p style="padding-left: 30px;"><a href="https://flutterbyexample.com/">https://flutterbyexample.com/</a></p>
<p style="padding-left: 30px;"><a href="https://proandroiddev.com/mythbuster-10-rumors-about-flutter-why-its-not-worse-than-android-kotlin-f1a1acbe587d">https://proandroiddev.com/mythbuster-10-rumors-about-flutter-why-its-not-worse-than-android-kotlin-f1a1acbe587d</a></p>
<h4>專案範例</h4>
<p style="padding-left: 30px;"><a href="https://medium.com/flutter-community/flutter-firebase-realtime-database-crud-operations-using-provider-c242a01f6a10">https://medium.com/flutter-community/flutter-firebase-realtime-database-crud-operations-using-provider-c242a01f6a10</a></p>
<p style="padding-left: 30px;"><a href="https://github.com/flutter-ui-challenges/flutter_web_challenge_googlemaps">https://github.com/flutter-ui-challenges/flutter_web_challenge_googlemaps</a></p>
<p style="padding-left: 30px;"><a href="https://medium.com/flutter-community/writing-a-flutter-data-entry-form-app-for-a-rental-agency-e5a7dab20596">https://medium.com/flutter-community/writing-a-flutter-data-entry-form-app-for-a-rental-agency-e5a7dab20596</a></p>
<p style="padding-left: 30px;"><a href="https://medium.com/flutter-community/using-svg-in-flutter-3dcf7b1dd713">https://medium.com/flutter-community/using-svg-in-flutter-3dcf7b1dd713</a></p>
<p style="padding-left: 30px;"><a href="https://medium.com/analytics-vidhya/deploy-ml-models-using-flask-as-rest-api-and-access-via-flutter-app-7ce63d5c1f3b">https://medium.com/analytics-vidhya/deploy-ml-models-using-flask-as-rest-api-and-access-via-flutter-app-7ce63d5c1f3b</a></p>
<p style="padding-left: 30px;"><a href="https://github.com/wiltonribeiro/grocery_shop_flutter">https://github.com/wiltonribeiro/grocery_shop_flutter</a></p>
<p><iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen" frameborder="0" height="315" src="https://www.youtube.com/embed/tBzJOb2Dopg" width="560"></iframe></p>
<p><iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen" frameborder="0" height="315" src="https://www.youtube.com/embed/-QRQIKtPTlI" width="560"></iframe></p>
<h4>pubspec.yaml 中的支援版次表示法:</h4>
<p><a href="https://stackoverflow.com/questions/53563079/what-is-the-caret-sign-before-the-dependency-version-number-in-flutters-pub">https://stackoverflow.com/questions/53563079/what-is-the-caret-sign-before-the-dependency-version-number-in-flutters-pub</a></p><h3>Flutter Mobile</h3>
<p>Practical Flutter (2019)</p>
<p style="padding-left: 30px;"><a href="https://link.springer.com/book/10.1007/978-1-4842-4972-7">https://link.springer.com/book/10.1007/978-1-4842-4972-7</a></p>
<p>Chapter 7: Flutter Chat 希望以 Flask + SocketIo 取代 Node.js</p>
<p style="padding-left: 30px;"><a href="https://github.com/mnlightstone/Chatroom-Flask-Socketio">https://github.com/mnlightstone/Chatroom-Flask-Socketio</a></p>
<p style="padding-left: 30px;"><a href="https://codeburst.io/building-your-first-chat-application-using-flask-in-7-minutes-f98de4adfa5d">https://codeburst.io/building-your-first-chat-application-using-flask-in-7-minutes-f98de4adfa5d</a> (<a href="https://github.com/Samhita-alla/flask-chat-app-article">Source codes</a>)</p>
<p style="padding-left: 30px;">需要透過 python -m pip install flask_socketio 安裝模組. 而且 socketio.js 必須使用 2.0 以上版本, 才能以 UTF-8 編碼:</p>
<p style="padding-left: 60px;"><a href="https://cdnjs.com/libraries/socket.io/2.2.0">https://cdnjs.com/libraries/socket.io/2.2.0</a></p>
<p style="padding-left: 30px;">例如使用: </p>
<p style="padding-left: 60px;"><a href="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js">https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js</a> </p>
<p>以 <a href="https://github.com/Samhita-alla/flask-chat-app-article">https://github.com/Samhita-alla/flask-chat-app-article</a> 為例:</p>
<p>所需 Python 模組包含:</p>
<p>Flask==0.12.2<br/>flask-socketio<br/>eventlet==0.17.4<br/>gunicorn==18.0.0</p>
<p>其 main.py:</p>
<pre class="brush:py;auto-links:false;toolbar:false" contenteditable="false">from flask import Flask, render_template
from flask_socketio import SocketIO

app = Flask(__name__)
app.config['SECRET_KEY'] = 'vnkdjnfjknfl1232#'
socketio = SocketIO(app)


@app.route('/')
def sessions():
    return render_template('session.html')


def messageReceived(methods=['GET', 'POST']):
    print('message was received!!!')


@socketio.on('my event')
def handle_my_custom_event(json, methods=['GET', 'POST']):
    print('received my event: ' + str(json))
    socketio.emit('my response', json, callback=messageReceived)


if __name__ == '__main__':
    socketio.run(app, debug=True)
</pre>
<p>位於 templates 目錄中的 session.html</p>
<pre class="brush:html;auto-links:false;toolbar:false" contenteditable="false">  &lt;!DOCTYPE html&gt;
  &lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;title&gt;Flask_Chat_App&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;

    &lt;h3 style='color: #ccc;font-size: 30px;'&gt;No message yet..&lt;/h3&gt;
    &lt;div class="message_holder"&gt;&lt;/div&gt;

    &lt;form action="" method="POST"&gt;
      &lt;input type="text" class="username" placeholder="User Name"/&gt;
      &lt;input type="text" class="message" placeholder="Messages"/&gt;
      &lt;input type="submit"/&gt;
    &lt;/form&gt;

    &lt;!-- jQuery (necessary for Bootstrap's JavaScript plugins) --&gt;
    &lt;script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript"&gt;
      var socket = io.connect('http://' + document.domain + ':' + location.port);

      socket.on( 'connect', function() {
        socket.emit( 'my event', {
          data: 'User Connected'
        } )
        var form = $( 'form' ).on( 'submit', function( e ) {
          e.preventDefault()
          let user_name = $( 'input.username' ).val()
          let user_input = $( 'input.message' ).val()
          socket.emit( 'my event', {
            user_name : user_name,
            message : user_input
          } )
          $( 'input.message' ).val( '' ).focus()
        } )
      } )
      socket.on( 'my response', function( msg ) {
        console.log( msg )
        if( typeof msg.user_name !== 'undefined' ) {
          $( 'h3' ).remove()
          $( 'div.message_holder' ).append( '&lt;div&gt;&lt;b style="color: #000"&gt;'+msg.user_name+'&lt;/b&gt; '+msg.message+'&lt;/div&gt;' )
        }
      })
    &lt;/script&gt;

  &lt;/body&gt;
  &lt;/html&gt;</pre>
<p>此外, 若 Server 端也要使用 Dart, 可以試著利用 <a href="https://aqueduct.io/">https://aqueduct.io/</a> 與 Socketio.js 製作.</p>
<p>參考:</p>
<p style="padding-left: 30px;"><a href="https://github.com/stablekernel/aqueduct_examples">https://github.com/stablekernel/aqueduct_examples</a></p>
<p style="padding-left: 30px;"><a href="https://aqueduct.io/docs/http/websockets/">https://aqueduct.io/docs/http/websockets/</a></p>
<p style="padding-left: 30px;"><a href="https://medium.com/dartlang/building-a-chat-app-in-dart-815fcd0e5a31">https://medium.com/dartlang/building-a-chat-app-in-dart-815fcd0e5a31</a></p>
<p style="padding-left: 30px;"><a href="https://codeburst.io/build-a-chat-application-in-dart-2-part-1-567eacdcf0c8">https://codeburst.io/build-a-chat-application-in-dart-2-part-1-567eacdcf0c8</a></p>
<p style="padding-left: 30px;"><a href="https://codeburst.io/build-a-chat-application-in-dart-part-2-d43a4d450487">https://codeburst.io/build-a-chat-application-in-dart-part-2-d43a4d450487</a></p>
<h3>Flutter Web</h3>
<p>利用 Flutter 建立網際前端程式: </p>
<p style="padding-left: 30px;"><a href="https://github.com/flutter/flutter_web">https://github.com/flutter/flutter_web</a></p>
<p>必須確認 Y:\\home\pub\bin 已經納入指令搜尋路徑中, 因為 webdev.bat 存放在此目錄, Flutter Web 將 dart 轉為 Javascript 時需要執行 webdev build 轉換指令, 將網際系統放入 build 目錄中. (注意: 使用 webdev.bat 時, 必須查看批次檔案中所引用的 dart 所在路徑是否正確)</p>
<p>webdev.bat 的啟動透過執行:</p>
<p style="padding-left: 30px;"><span>flutter packages pub global activate webdev</span></p>
<p><span>以 code 指令啟動隨身系統中的 Visual Studio Code, 然後以 Ctrl + Shift + P 帶出 Flutter: New Web Project, 點選後建立新的 Flutter Web 專案.</span></p>
<p><span>根據</span></p>
<p style="padding-left: 30px;"><a href="https://github.com/flutter/samples">https://github.com/flutter/samples</a> 目錄中的 web 範例進行練習</p>
<p>完成後, 進入專案目錄, 以 webdev serve 進行測試, 以 webdev build 轉出專案網際內容.</p>
<p>Flutter Web 範例:</p>
<p style="padding-left: 30px;"><a href="https://github.com/mdecourse/vision_challenge">https://github.com/mdecourse/vision_challenge</a> (將每次改版 build 的內容複製到 Github Pages 對應的 docs 目錄中)</p>
<p style="padding-left: 30px;"><a href="http://mde.tw/vision_challenge">http://mde.tw/vision_challenge</a> </p>
<h4>參考資料</h4>
<p style="padding-left: 30px;"><a href="https://medium.com/flutter-community/flutter-create-and-deploy-a-website-from-scratch-4a026ebd6c">https://medium.com/flutter-community/flutter-create-and-deploy-a-website-from-scratch-4a026ebd6c</a></p>
<h3>Flutter Desktop</h3>
<p><a href="https://github.com/google/flutter-desktop-embedding">https://github.com/google/flutter-desktop-embedding</a></p>
<p><a href="https://github.com/flutter/flutter/wiki/Desktop-shells">https://github.com/flutter/flutter/wiki/Desktop-shells</a></p>
<p><a href="https://medium.com/flutter-community/flutter-for-desktop-create-and-run-a-desktop-application-ebeb1604f1e0">https://medium.com/flutter-community/flutter-for-desktop-create-and-run-a-desktop-application-ebeb1604f1e0</a></p>
<p><a href="https://github.com/go-flutter-desktop">https://github.com/go-flutter-desktop</a> (through <a href="https://golang.org/">Go</a>)</p>
<h2>Dart</h2>
<h4>Dart and Python flask:</h4>
<p style="padding-left: 30px;"><a href="https://medium.com/analytics-vidhya/deploy-ml-models-using-flask-as-rest-api-and-access-via-flutter-app-7ce63d5c1f3b">https://medium.com/analytics-vidhya/deploy-ml-models-using-flask-as-rest-api-and-access-via-flutter-app-7ce63d5c1f3b</a></p>
<p style="padding-left: 30px;"><a href="https://github.com/SHARONZACHARIA/Deploy-ML-model">https://github.com/SHARONZACHARIA/Deploy-ML-model</a></p>
<p style="padding-left: 30px;"><a href="https://github.com/klokantech/flask-backend">https://github.com/klokantech/flask-backend</a></p>
<h4>Dart Language</h4>
<p style="padding-left: 30px;"><a href="https://dart.dev/guides/language/language-tour">https://dart.dev/guides/language/language-tour</a></p>
<p style="padding-left: 30px;"><a href="https://renato.athaydes.com/posts/interesting-dart-features.html">https://renato.athaydes.com/posts/interesting-dart-features.html</a> (<a href="/downloads/interesting_dart_features.pdf">pdf</a>)</p>
<p style="padding-left: 30px;"><a href="https://www.raywenderlich.com/4482551-dart-basics">https://www.raywenderlich.com/4482551-dart-basics</a></p>
<p style="padding-left: 30px;"><a href="https://github.com/smartherd/DartTutorial">https://github.com/smartherd/DartTutorial</a></p>
<p style="padding-left: 30px;"><a href="http://jpryan.me/dartbyexample/">http://jpryan.me/dartbyexample/</a> (<a href="https://github.com/johnpryan/dartbyexample">Github</a>)</p>
<p style="padding-left: 30px;"><a href="https://github.com/rikulo/dquery">https://github.com/rikulo/dquery</a></p>
<p style="padding-left: 30px;"><a href="https://pub.dev/packages/math_expressions">https://pub.dev/packages/math_expressions</a></p>
<p style="padding-left: 30px;">blog generator in dart: <a href="https://github.com/johnpryan/tavern">https://github.com/johnpryan/tavern</a></p>
<p style="padding-left: 30px;"><a href="https://github.com/yissachar/awesome-dart">https://github.com/yissachar/awesome-dart</a></p>
<p style="padding-left: 30px;"><a href="https://medium.com/flutter-community/deconstructing-dart-constructors-e3b553f583ef">https://medium.com/flutter-community/deconstructing-dart-constructors-e3b553f583ef</a></p>
<p style="padding-left: 30px;"><a href="/downloads/Dart2-Cheatsheet.pdf">Dart2-Cheatsheet.pdf</a></p>
<p style="padding-left: 30px;"><a href="https://translate.google.com.tw/translate?hl=zh-TW&amp;sl=ja&amp;tl=en&amp;u=https%3A%2F%2Fwww.cresc.co.jp%2Ftech%2Fjava%2FGoogle_Dart2%2Flanguage%2Foverview%2Foverview.html">Dart2 Overview</a></p>
<p style="padding-left: 30px;"><a href="https://translate.google.com.tw/translate?hl=zh-TW&amp;sl=ja&amp;tl=en&amp;u=https%3A%2F%2Fwww.cresc.co.jp%2Ftech%2Fjava%2FGoogle_Dart2%2Fintroduction%2Fmain_page.html">Dart2 Language Basics</a></p>
<p style="padding-left: 30px;"><a href="https://medium.com/learn-dart/how-i-learn-dart-and-flutter-ee8948cf58a5">https://medium.com/learn-dart/how-i-learn-dart-and-flutter-ee8948cf58a5</a></p>
<p style="padding-left: 30px;"><a href="https://www.youtube.com/channel/UCrTnsT4OYZ53l0QGKqLeD5Q">https://www.youtube.com/channel/UCrTnsT4OYZ53l0QGKqLeD5Q</a></p>
<h4>Tutorial </h4>
<p style="padding-left: 30px;"><a href="http://thetechnocafe.com/just-enough-dart-for-flutter-tutorial-01-variables-types-and-functions/">http://thetechnocafe.com/just-enough-dart-for-flutter-tutorial-01-variables-types-and-functions/</a></p>
<p style="padding-left: 30px;"><a href="http://thetechnocafe.com/just-enough-dart-for-flutter-tutorial-02-control-flow-and-exception-handling/">http://thetechnocafe.com/just-enough-dart-for-flutter-tutorial-02-control-flow-and-exception-handling/</a></p>
<p style="padding-left: 30px;"><a href="http://thetechnocafe.com/just-enough-dart-for-flutter-tutorial-03-classes-and-generics/">http://thetechnocafe.com/just-enough-dart-for-flutter-tutorial-03-classes-and-generics/</a></p>
<p style="padding-left: 30px;"><a href="http://thetechnocafe.com/just-enough-dart-for-flutter-tutorial-04-asynchronous-and-libraries/">http://thetechnocafe.com/just-enough-dart-for-flutter-tutorial-04-asynchronous-and-libraries/</a></p>
<p style="padding-left: 30px;"><a href="https://medium.com/@lihsinplayer/dart%E5%85%A5%E9%96%80-3eb57099da48">https://medium.com/@lihsinplayer/dart%E5%85%A5%E9%96%80-3eb57099da48</a></p>
<h4>Math and Vector</h4>
<p style="padding-left: 30px;"><a href="https://pub.dev/packages/vector_math">https://pub.dev/packages/vector_math</a></p>
<p style="padding-left: 30px;"><a href="https://pub.dev/packages/extended_math">https://pub.dev/packages/extended_math</a></p>
<p style="padding-left: 30px;">利用 Dartpad 將 <a href="https://codepen.io/ggetchell/pen/KVgrYq">https://codepen.io/ggetchell/pen/KVgrYq</a> 改寫為 Dart based.</p>
<h4>Web</h4>
<p style="padding-left: 30px;"><a href="https://github.com/BoldInventions/dart-webgl-tutorials">https://github.com/BoldInventions/dart-webgl-tutorials</a></p>
<p style="padding-left: 30px;"><a href="https://api.dartlang.org/stable/2.5.0/dart-web_gl/dart-web_gl-library.html">https://api.dartlang.org/stable/2.5.0/dart-web_gl/dart-web_gl-library.html</a></p>
<p style="padding-left: 30px;"><a href="https://codingwithjoe.com/dart-fundamentals-async-await/">https://codingwithjoe.com/dart-fundamentals-async-await/</a></p>
<p style="padding-left: 30px;"><a href="https://dart.dev/codelabs/async-await">https://dart.dev/codelabs/async-await</a></p>
<h4>2D Graphics</h4>
<p style="padding-left: 30px;"><a href="https://github.com/bp74/StageXL">https://github.com/bp74/StageXL</a></p>
<p style="padding-left: 30px;"><a href="https://pub.dev/packages/bezier">https://pub.dev/packages/bezier</a></p>
<h4>AI and Machine Learning</h4>
<p style="padding-left: 30px;"><a href="https://medium.com/dartlang/announcing-dart-2-5-super-charged-development-328822024970">https://medium.com/dartlang/announcing-dart-2-5-super-charged-development-328822024970</a></p>
<p style="padding-left: 30px;"><a href="https://towardsdatascience.com/cross-platform-on-device-ml-inference-a55b67e306b3">https://towardsdatascience.com/cross-platform-on-device-ml-inference-a55b67e306b3</a></p>
<p style="padding-left: 30px;"><a href="https://github.com/thosakwe/tensorflow.dart">https://github.com/thosakwe/tensorflow.dart</a></p>
<p style="padding-left: 30px;"><a href="https://github.com/gyrdym/ml_algo">https://github.com/gyrdym/ml_algo</a></p>
<p style="padding-left: 30px;"><a href="https://github.com/YevhenKap/ai">https://github.com/YevhenKap/ai</a></p>
<p><a href="https://www.reddit.com/r/dartlang/">https://www.reddit.com/r/dartlang/</a></p>
<p style="padding-left: 30px;">"Dart 2 was a huge upgrade to the Dart platform. It completed the transformation from our early web roots to a mainstream programming language suitable for fast development of rich user experiences across mobile and web. Dart is somewhat unique as a language in offering both a virtual machine (VM) and compilation to both native machine code and JavaScript. This supports the differing needs of the various platforms, for both development and production."</p>
<p style="padding-left: 30px; text-align: right;">-- <a href="https://medium.com/dartlang/announcing-dart-2-1-improved-performance-usability-9f55fca6f31a">Landing Dart 2</a></p>
<p><iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen" frameborder="0" height="315" src="https://www.youtube.com/embed/h6z-5d-OlcQ" width="560"></iframe></p>
<p><iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen" frameborder="0" height="315" src="https://www.youtube.com/embed/huawCRlo9H4" width="560"></iframe></p>
<p style="padding-left: 30px;"><a href="/downloads/Beginning Programming with Dart.pdf">Beginning Programming with Dart.pdf</a></p>
<p style="padding-left: 30px;"><a href="https://dart.dev/guides/language">https://dart.dev/guides/language</a></p>
<p style="padding-left: 30px;"><a href="https://dart.dev/tools/sdk/archive">https://dart.dev/tools/sdk/archive</a></p>
<p style="padding-left: 30px;"><a href="https://github.com/dart-lang/sdk">https://github.com/dart-lang/sdk</a></p>
<p style="padding-left: 30px;"><a href="https://pub.dev/packages/stagehand">https://pub.dev/packages/stagehand</a></p>
<h4>Dart News and Update:</h4>
<p style="padding-left: 30px;"><a href="https://news.dartlang.org/">https://news.dartlang.org/</a></p>
<h4>Dart Packages</h4>
<p style="padding-left: 30px;"><a href="https://pub.dev/">https://pub.dev/</a></p>
<h4>Dart Mixins</h4>
<p style="padding-left: 30px;"><a href="https://medium.com/flutter-community/dart-what-are-mixins-3a72344011f3">https://medium.com/flutter-community/dart-what-are-mixins-3a72344011f3</a></p>
<h4>安裝 Dart SDK</h4>
<p style="padding-left: 30px;"><a href="https://dart.dev/get-dart">https://dart.dev/get-dart</a></p>
<p style="padding-left: 30px;"><a href="https://storage.googleapis.com/dart-archive/channels/stable/release/2.4.1/sdk/dartsdk-windows-x64-release.zip">https://storage.googleapis.com/dart-archive/channels/stable/release/2.4.1/sdk/dartsdk-windows-x64-release.zip</a></p>
<h4>Effective Dart</h4>
<p style="padding-left: 30px;"><a href="https://dart.dev/guides/language/effective-dart">https://dart.dev/guides/language/effective-dart</a></p>
<h4>async and await</h4>
<p style="padding-left: 30px;"><a href="https://dart.dev/codelabs/async-await">https://dart.dev/codelabs/async-await</a></p>
<h4>Dart FFI</h4>
<p style="padding-left: 30px;"><a href="https://github.com/dart-lang/sdk/blob/master/samples/ffi/sqlite/docs/sqlite-tutorial.md">https://github.com/dart-lang/sdk/blob/master/samples/ffi/sqlite/docs/sqlite-tutorial.md</a></p>
<p style="padding-left: 30px;"><a href="https://github.com/mjohnsullivan/ffi">https://github.com/mjohnsullivan/ffi</a></p>
<h4>Dart Pad</h4>
<p style="padding-left: 30px;">embeded gist: <a href="https://gist.github.com/scrum-1/d83c705a831668f76d2a39b97c5cb1c9">https://gist.github.com/scrum-1/d83c705a831668f76d2a39b97c5cb1c9</a></p>
<p style="padding-left: 30px;"><a href="https://dartpad.dev/embed-html.html?id=d83c705a831668f76d2a39b97c5cb1c9">https://dartpad.dev/embed-html.html?id=d83c705a831668f76d2a39b97c5cb1c9</a></p>
<p style="padding-left: 30px;"><a href="https://webdev-angular3-dartlang-org.firebaseapp.com/tutorials/get-data/fetch-data">https://webdev-angular3-dartlang-org.firebaseapp.com/tutorials/get-data/fetch-data</a> </p>
<h4>Hello Dart</h4>
<p style="padding-left: 30px;"><a href="https://dartpad.dartlang.org/embed-inline.html?id=1a980b16e56b1d1781720bf7d1ffc691">https://dartpad.dartlang.org/embed-inline.html?id=1a980b16e56b1d1781720bf7d1ffc691</a></p>
<pre class="brush:js;auto-links:false;toolbar:false" contenteditable="false">void main() {
  print("Hello, World!");
}</pre>
<p>另一個 Dart 範例</p>
<pre class="brush:js;auto-links:false;toolbar:false" contenteditable="false">import "dart:math" as math;

class Point {
  // final 型別表示此變數只能設對應值一次, 即便在 runtime 期
  // num 型別表示此變數可以是 int 或 float 數值
  final num x, y;
  Point(this.x, this.y);
  Point.origin()
      : x = 0,
        y = 0;
  num distanceTo(Point other) {
    var dx = x - other.x;
    var dy = y - other.y;
    return math.sqrt(dx * dx + dy * dy);
  }

  Point operator +(Point other) =&gt; Point(x + other.x, y + other.y);
}

void main() {
  var p1 = Point(10, 10);
  var p2 = Point.origin();
  var distance = p1.distanceTo(p2);
  print(distance);
}
</pre>
<h4>Dart Nullable Operator</h4>
<pre class="brush:js;auto-links:false;toolbar:false" contenteditable="false">// assign y to x, unless y is null, 
// otherwise assign z
x = y ?? z;

// assign y to x if x is null
x ??= y

// call foo() only if x is not null
x?.foo();</pre>
<p><iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen" frameborder="0" height="315" src="https://www.youtube.com/embed/Mm7TPZHk_KU" width="560"></iframe></p>
<h4>Dart 程式語言</h4>
<p>資料來源:</p>
<p style="padding-left: 30px;"><a href="https://dart.dev/guides/language/language-tour">https://dart.dev/guides/language/language-tour</a></p>
<p style="padding-left: 30px;"><a href="https://da-bootcamp.firebaseapp.com/?course=start_programming_dart">https://da-bootcamp.firebaseapp.com/?course=start_programming_dart</a> </p>
<p>每一個 Dart 程式都以小寫英文字母的 main() 主函式開始執行, 計算機程式語法中的函式與數學中的函式相同, 可以從 () 小括號中間接受輸入, 也可以產生輸出, 小括號中間空白, 表示這個函式沒有輸入的設計, 而 main 之前的 void 表示目前的函式也沒有輸出的設計.</p>
<p>Dart 程式的執行範圍區隔與 C/C++ 等程式語法相同, 利用大括號 {} 來界定該函式的有效範圍 (註: Python 程式語法則是採用縮排, 以每四個空白鍵為單位, 每一個縮排範圍內的程式碼界定為同一區).</p>
<p>在這個 Dart 程式中, void 是關鍵字, 而 main() 是主函式, 也是每一個 Dart 程式會首先執行的函示, 而 print() 是用來列印資料的核心函式 (core function), 在 print() 中作為輸入的 "Hello, World" 以雙引號界定的資料稱為字串 (string), 字串也可以用單引號界定.</p>
<p>main 與 print 並不屬於關鍵字, 可以當作變數名稱, 但並不建議使用.</p>
<p>關鍵字在程式語言的語法中稱為保留字, 具有特殊的用法與意義, 當使用者要命名變數時, 不可以使用該程式語言中所規定的關鍵字.</p>
<p>而 Dart 程式語法中的關鍵字共有以下 60 個:</p>
<h4>Keywords</h4>
<p>The following table lists the words that the Dart language treats specially.</p>
<table class="table table-striped nowrap">
<tbody>
<tr>
<td><a href="https://dart.dev/guides/language/language-tour#abstract-classes">abstract</a> <sup alt="built-in-identifier" title="built-in-identifier">2</sup></td>
<td><a href="https://dart.dev/guides/language/language-tour#important-concepts">dynamic</a> <sup alt="built-in-identifier" title="built-in-identifier">2</sup></td>
<td><a href="https://dart.dev/guides/language/language-tour#implicit-interfaces">implements</a> <sup alt="built-in-identifier" title="built-in-identifier">2</sup></td>
<td><a href="https://dart.dev/guides/language/language-tour#importing-only-part-of-a-library">show</a> <sup alt="contextual keyword" title="contextual keyword">1</sup></td>
</tr>
<tr>
<td><a href="https://dart.dev/guides/language/language-tour#type-test-operators">as</a> <sup alt="built-in-identifier" title="built-in-identifier">2</sup></td>
<td><a href="https://dart.dev/guides/language/language-tour#if-and-else">else</a></td>
<td><a href="https://dart.dev/guides/language/language-tour#using-libraries">import</a> <sup alt="built-in-identifier" title="built-in-identifier">2</sup></td>
<td><a href="https://dart.dev/guides/language/language-tour#class-variables-and-methods">static</a> <sup alt="built-in-identifier" title="built-in-identifier">2</sup></td>
</tr>
<tr>
<td><a href="https://dart.dev/guides/language/language-tour#assert">assert</a></td>
<td><a href="https://dart.dev/guides/language/language-tour#enumerated-types">enum</a></td>
<td><a href="https://dart.dev/guides/language/language-tour#for-loops">in</a></td>
<td><a href="https://dart.dev/guides/language/language-tour#extending-a-class">super</a></td>
</tr>
<tr>
<td><a href="https://dart.dev/guides/language/language-tour#asynchrony-support">async</a> <sup alt="contextual keyword" title="contextual keyword">1</sup></td>
<td><a href="https://dart.dev/guides/libraries/create-library-packages">export</a> <sup alt="built-in-identifier" title="built-in-identifier">2</sup></td>
<td><a class="external" href="https://stackoverflow.com/questions/28595501/was-the-interface-keyword-removed-from-dart">interface</a> <sup alt="built-in-identifier" title="built-in-identifier">2</sup></td>
<td><a href="https://dart.dev/guides/language/language-tour#switch-and-case">switch</a></td>
</tr>
<tr>
<td><a href="https://dart.dev/guides/language/language-tour#asynchrony-support">await</a> <sup alt="limited reserved word" title="limited reserved word">3</sup></td>
<td><a href="https://dart.dev/guides/language/language-tour#extending-a-class">extends</a></td>
<td><a href="https://dart.dev/guides/language/language-tour#type-test-operators">is</a></td>
<td><a href="https://dart.dev/guides/language/language-tour#generators">sync</a> <sup alt="contextual keyword" title="contextual keyword">1</sup></td>
</tr>
<tr>
<td><a href="https://dart.dev/guides/language/language-tour#break-and-continue">break</a></td>
<td><a class="external" href="https://stackoverflow.com/questions/24929659/what-does-external-mean-in-dart">external</a> <sup alt="built-in-identifier" title="built-in-identifier">2</sup></td>
<td><a href="https://dart.dev/guides/language/language-tour#libraries-and-visibility">library</a> <sup alt="built-in-identifier" title="built-in-identifier">2</sup></td>
<td><a href="https://dart.dev/guides/language/language-tour#constructors">this</a></td>
</tr>
<tr>
<td><a href="https://dart.dev/guides/language/language-tour#switch-and-case">case</a></td>
<td><a href="https://dart.dev/guides/language/language-tour#factory-constructors">factory</a> <sup alt="built-in-identifier" title="built-in-identifier">2</sup></td>
<td><a href="https://dart.dev/guides/language/language-tour#adding-features-to-a-class-mixins">mixin</a> <sup alt="built-in-identifier" title="built-in-identifier">2</sup></td>
<td><a href="https://dart.dev/guides/language/language-tour#throw">throw</a></td>
</tr>
<tr>
<td><a href="https://dart.dev/guides/language/language-tour#catch">catch</a></td>
<td><a href="https://dart.dev/guides/language/language-tour#booleans">false</a></td>
<td><a href="https://dart.dev/guides/language/language-tour#using-constructors">new</a></td>
<td><a href="https://dart.dev/guides/language/language-tour#booleans">true</a></td>
</tr>
<tr>
<td><a href="https://dart.dev/guides/language/language-tour#instance-variables">class</a></td>
<td><a href="https://dart.dev/guides/language/language-tour#final-and-const">final</a></td>
<td><a href="https://dart.dev/guides/language/language-tour#default-value">null</a></td>
<td><a href="https://dart.dev/guides/language/language-tour#catch">try</a></td>
</tr>
<tr>
<td><a href="https://dart.dev/guides/language/language-tour#final-and-const">const</a></td>
<td><a href="https://dart.dev/guides/language/language-tour#finally">finally</a></td>
<td><a href="https://dart.dev/guides/language/language-tour#catch">on</a> <sup alt="contextual keyword" title="contextual keyword">1</sup></td>
<td><a href="https://dart.dev/guides/language/language-tour#typedefs">typedef</a> <sup alt="built-in-identifier" title="built-in-identifier">2</sup></td>
</tr>
<tr>
<td><a href="https://dart.dev/guides/language/language-tour#break-and-continue">continue</a></td>
<td><a href="https://dart.dev/guides/language/language-tour#for-loops">for</a></td>
<td><a href="https://dart.dev/guides/language/language-tour#overridable-operators">operator</a> <sup alt="built-in-identifier" title="built-in-identifier">2</sup></td>
<td><a href="https://dart.dev/guides/language/language-tour#variables">var</a></td>
</tr>
<tr>
<td><a href="https://dart.dev/guides/language/sound-problems#the-covariant-keyword">covariant</a> <sup alt="built-in-identifier" title="built-in-identifier">2</sup></td>
<td><a href="https://dart.dev/guides/language/language-tour#functions">Function</a> <sup alt="built-in-identifier" title="built-in-identifier">2</sup></td>
<td><a href="https://dart.dev/guides/libraries/create-library-packages#organizing-a-library-package">part</a> <sup alt="built-in-identifier" title="built-in-identifier">2</sup></td>
<td><a class="external" href="https://medium.com/dartlang/dart-2-legacy-of-the-void-e7afb5f44df0">void</a></td>
</tr>
<tr>
<td><a href="https://dart.dev/guides/language/language-tour#switch-and-case">default</a></td>
<td><a href="https://dart.dev/guides/language/language-tour#getters-and-setters">get</a> <sup alt="built-in-identifier" title="built-in-identifier">2</sup></td>
<td><a href="https://dart.dev/guides/language/language-tour#catch">rethrow</a></td>
<td><a href="https://dart.dev/guides/language/language-tour#while-and-do-while">while</a></td>
</tr>
<tr>
<td><a href="https://dart.dev/guides/language/language-tour#lazily-loading-a-library">deferred</a> <sup alt="built-in-identifier" title="built-in-identifier">2</sup></td>
<td><a href="https://dart.dev/guides/language/language-tour#importing-only-part-of-a-library">hide</a> <sup alt="contextual keyword" title="contextual keyword">1</sup></td>
<td><a href="https://dart.dev/guides/language/language-tour#functions">return</a></td>
<td><a href="https://dart.dev/guides/language/language-tour#adding-features-to-a-class-mixins">with</a></td>
</tr>
<tr>
<td><a href="https://dart.dev/guides/language/language-tour#while-and-do-while">do</a></td>
<td><a href="https://dart.dev/guides/language/language-tour#if-and-else">if</a></td>
<td><a class="external" href="https://api.dart.dev/stable/dart-core/Set-class.html">set</a> <sup alt="built-in-identifier" title="built-in-identifier">2</sup></td>
<td><a href="https://dart.dev/guides/language/language-tour#generators">yield</a> <sup alt="limited reserved word" title="limited reserved word">3</sup></td>
</tr>
</tbody>
</table>
<p>Avoid using these words as identifiers. However, if necessary, the keywords marked with superscripts can be identifiers:</p>
<ul>
<li>
<p>Words with the superscript<span> </span><strong>1</strong><span> </span>are<span> </span><strong>contextual keywords</strong>, which have meaning only in specific places. They’re valid identifiers everywhere.</p>
</li>
<li>
<p>Words with the superscript<span> </span><strong>2</strong><span> </span>are<span> </span><strong>built-in identifiers</strong>. To simplify the task of porting JavaScript code to Dart, these keywords are valid identifiers in most places, but they can’t be used as class or type names, or as import prefixes.</p>
</li>
<li>
<p>Words with the superscript<span> </span><strong>3</strong><span> </span>are newer, limited reserved words related to the<span> </span><a href="https://dart.dev/guides/language/language-tour#asynchrony-support">asynchrony support</a><span> </span>that was added after Dart’s 1.0 release. You can’t use<span> </span><code class="highlighter-rouge">await</code><span> </span>or<span> </span><code class="highlighter-rouge">yield</code><span> </span>as an identifier in any function body marked with<span> </span><code class="highlighter-rouge">async</code>,<span> </span><code class="highlighter-rouge">async*</code>, or<span> </span><code class="highlighter-rouge">sync*</code>.</p>
</li>
</ul>
<p>All other words in the table are<span> </span><strong>reserved words</strong>, which can’t be identifiers.</p>
<p>上述 Dart 程式段中的符號 ";" 表示該行至分號的位置為一個完整可執行段程式 (use a semicolon to tell the interpreter where your statement ends.), 這一點也與 C/C++ 程式語法相同,  (Python 程式則一般利用跳行來界定可執行段, 但也可以利用 ";" 來界定).</p>
<h4>程式註解</h4>
<p>Dart 程式語法支援三種註解方式:</p>
<p>    // 這是一般的單行註解</p>
<p>    /* 這是多行註解開始</p>
<p>        可以橫跨多行說明文字, 程式在執行時會忽略其中內容</p>
<p>    這是多行註解結束 */ </p>
<p>而第三種註解則用於產生程式的說明文件檔案:</p>
<p>    /// 這是單行的特殊的文件說明註解</p>
<p>    /** 這是多行的文件說明註解開始</p>
<p>        可以橫跨多行說明文字, 程式在執行時會忽略其中內容</p>
<p>    這是多行的文件註解結束 */ </p>
<h4>變數 (Variables)</h4>
<p>了解 Dart 程式的基本用法, 也知道那些英文字是被設計作為保留關鍵字後, 接下來就需要了解有關程式中有關變數的命名.</p>
<p>Variables are a basic building block of most modern programs. In short, a variable is an alias for a computer memory location, at which something of interest will be stored.</p>
<p>Whatever is stored there is said to be the variable's value. If you've studied the basics of algebra, you might remember variables mostly as single-letter stand-ins for numbers that helped you conceptualize and solve complex equations. Dart's variables are similar but not exactly the same, as they're capable of standing in for all kinds of values: numbers, strings of characters, or even more complex structures representing people, economic transactions, or geographic locations.</p>
<p>All declared variables in Dart are initially given the special value of null.</p>
<p>Unlike in algebra class, the = operator in Dart does not strictly represent equivalence. It's known as the assignment operator, so x = 5 is an expression instructing the computer to assign the value 5 to a memory location named x. </p>
<p><iframe height="315" src="https://dartpad.dartlang.org/embed-inline.html?id=1a980b16e56b1d1781720bf7d1ffc691" width="560"></iframe></p>
<p><iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen" frameborder="0" height="315" src="https://www.youtube.com/embed/8F2uemqLwvE" width="560"></iframe></p>
<p><iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen" frameborder="0" height="315" src="https://www.youtube.com/embed/OLjyCy-7U2U" width="560"></iframe></p>
<p><iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen" frameborder="0" height="315" src="https://www.youtube.com/embed/7onA7LeBD0o" width="560"></iframe></p>
<h4>型別 (Types)</h4>
<p>推斷型別 (Inferred Types)</p>
<p>Variables in Dart come in many different types. Some variables are meant to hold numbers, some characters, and some point to more complex values. When declaring variables, you can allow Dart to attempt to infer your variable's intended type or you can be explicit.</p>
<p>In the last lesson, you declared your variables using the var keyword (short for "variable"), like this:</p>
<p>    var x;</p>
<p>When you declare a variable using var, Dart tries to infer the variable's type. If you don't initialize the new variable with a value in the same statement as the declaration, Dart has nothing on which to base an inference, so the variable is considered to be of type dynamic. As a dynamic variable, x is able to accept values of any valid type.</p>
<p>Mixing it Up</p>
<p>In this example, the type of the variable called x is declared but not initialized with a value, and becomes dynamic, so code like this wouldn't be a problem:</p>
<p>    var x;<br/>    x = 5;<br/>    x = "Dart is great.";</p>
<p>The code declares x, then instructs Dart to store a value of 5 at the memory location aliased as x. That value is an integer, a whole number with no fractional part. The next line assigns the value "Dart is great.", a string of characters, to x. That's a versatile variable.</p>
<p>Disappearing Number Trick</p>
<p>Try out this code:</p>
<p>    void main() {<br/>        var x;<br/>        x = 5;<br/>        x = "Dart is great.";<br/>        print(x);<br/>    }</p>
<p>Can you predict what will be printed? If you run the code, you'll see that "Dart is great." appears in the console. What happened to the 5? After x was declared, it was assigned the value 5, but the next instruction assigned a string of characters to x, obliterating the numeric value. Since x is of type dynamic, the code analyzer does not flag the potential issue.</p>
<p>You Can't Do That</p>
<p>Modify the code to look like this:</p>
<p>    void main() {<br/>    var x = 5;<br/>    x = "Dart is great.";<br/>    print(x);<br/>    }</p>
<p>This code causes DartPad to display an error, saying that you're mixing types. Because you've initialized x with an integer number value at the same time you declared it, Dart infers that x is supposed to hold integers from that point on. Now x is of type int.</p>
<p>You can override Dart's inference by specifying that you want your variable to be dynamic. Try changing the declaration to look like this and see the error disappear:</p>
<p>    dynamic x = 5;</p>
<p>Or you could explicitly declare and initialize x as an int, which is probably the best option under most circumstances:</p>
<p>    int x = 5;</p>
<p>Using the int keyword, you've created a variable meant to hold integers, so if you later try to assign a string of characters to it (a String type), Dart complains. The error is back. The analyzer is just trying to keep you from shooting yourself in the foot.</p>
<p>Errors Stop Execution</p>
<p>Note that if you run the code with mismatched types, execution will fail. You should always eliminate all reported errors before attempting to run your code.</p>
<p>Why Use Explicit Types?</p>
<p>Dart was perfectly happy to let you assign any value to your variable without errors when you declared x to be of type dynamic, so why would you restrict yourself with more specific types? The language has a sound type system that's designed to help you find problems before running your code. If you intend to use x to hold integer values, like grid coordinates maybe, then it's probably a mistake to assign it a string of characters. If you use explicit type annotations, Dart can help you catch these kinds of problems before they become run-time errors—bugs.</p>
<p>The Fix is In</p>
<p>To fix things up, try this:</p>
<p>    void main() {<br/>        String x = "Dart is great.";<br/>        print(x);<br/>    }</p>
<p>Now that x is explicitly declared to be of type String, DartPad is happy, secure in the assumption that you know what you're doing. In this example, you could also have used var and allowed Dart to infer the String type from the initialization value.</p>
<p>Hey! Why is int lowercase, but String is capitalized? This may seem like a plot to make things more confusing for you than they need to be, but really the reason lies in the way programming languages have evolved over time. Dart was built to be familiar to those coming from other languages, like Java or C++. Unlike Dart, those languages have the concept of primitive types, special types that are fundamentally supported. Primitives are typically denoted by lowercase language keywords, while complex or user-defined types are capitalized. Even though all Dart types are simply objects, and Dart has no primitives, the language designers opted for familiarity in this case. </p>
<p>Fundamental Types</p>
<p>There is no limit to the number of types a program may have, but there are a few types that are fundamental to Dart:</p>
<table>
<tbody>
<tr>
<th>
<p></p>
<p></p>
<p>Type</p>
</th>
<th>Description</th>
<th>Examples</th>
</tr>
<tr>
<td>int</td>
<td>Integer (whole number)</td>
<td>5, -13, 0</td>
</tr>
<tr>
<td>double</td>
<td>Floating-point number (decimals)</td>
<td>3.14, 18.0, -33.999</td>
</tr>
<tr>
<td>num</td>
<td>Integer or floating-point number</td>
<td>5, 3.14, -13, 999.666</td>
</tr>
<tr>
<td>bool</td>
<td>Boolean</td>
<td>true, false</td>
</tr>
<tr>
<td>String</td>
<td>String of zero or more characters</td>
<td>"hi", "John Smith", "X", ""</td>
</tr>
<tr>
<td>List</td>
<td>List of values in series</td>
<td>[1, 2, 3], ["one", "two", "three"]</td>
</tr>
<tr>
<td>Map</td>
<td>Map of values by key</td>
<td>{"x": 8, "y": 16}</td>
</tr>
<tr>
<td>dynamic</td>
<td>Any type</td>
<td></td>
</tr>
</tbody>
</table>
<p>Dart art 的 const 與 final 型別</p>
<p>The "const" and "final" keywords, both of which define a variable as being a constant, a final immutable value. "final" means you can only set it once, but you can do so at runtime, while "const" means you can only set it once, but its value must be knowable at compile-time.</p>
<h4>運算子  (Operators)</h4>
<p>In Dart, operators instruct the computer to perform operations on operands. An operand is any value upon which an operation is to be carried out.</p>
<p>複合賦值運算子 (Compound Assignment Operators)</p>
<h4>字串 (Strings)</h4>
<p>Dart 的字串連結, 可以直接兩個以上單引號字串或雙引號字串連在一起, 或者透過 "+" 加號連接多個字串.</p>
<p>單位換算範例</p>
<p>判斷式</p>
<p>布林運算</p>
<p>模數運算 (Modulo Operator)</p>
<p>開關 (多中選一)</p>
<p>循環迴圈 (While Loops)</p>
<p>D0-While 迴圈</p>
<p>For 迴圈</p>
<p>函式</p>
<p>函式變數</p>
<p>函式回傳</p>
<p>變數範圍</p>
<p>數列 (Lists)</p>
<p>常數</p>
<p>Final 變數</p>
<h4>程式範例</h4>
<h4>Javascript interop:</h4>
<p style="padding-left: 30px;"><a href="https://github.com/graphicbeacon/js-dart-interop-samples">https://github.com/graphicbeacon/js-dart-interop-samples</a></p>
<p style="padding-left: 30px;"><a href="https://github.com/matanlurey/dart_js_interop">https://github.com/matanlurey/dart_js_interop</a></p>
<p><a href="https://github.com/dart-lang/dart-pad/wiki/Gists">https://github.com/dart-lang/dart-pad/wiki/Gists</a></p>
<p>HttpClient 類別位於 dart:io 程式庫中, 只能在 Server 中執行.</p>
<p style="padding-left: 30px;"><a href="https://api.dartlang.org/stable/2.1.1/dart-io/HttpClient-class.html">https://api.dartlang.org/stable/2.1.1/dart-io/HttpClient-class.html</a></p>
<p>HttpRequest 類別位於  dart:html 程式庫中, 只能在網際 Client 中執行.</p>
<p style="padding-left: 30px;"><a href="https://api.dartlang.org/stable/2.0.0/dart-html/HttpRequest-class.html">https://api.dartlang.org/stable/2.0.0/dart-html/HttpRequest-class.html</a></p>
<p style="padding-left: 30px;"><a href="https://dart.dev/tutorials/web/fetch-data">https://dart.dev/tutorials/web/fetch-data</a></p>
<p style="padding-left: 30px;"><a href="https://codeburst.io/deploying-dart-2-apps-on-heroku-27fa120f1ec4">https://codeburst.io/deploying-dart-2-apps-on-heroku-27fa120f1ec4</a></p>
<h4>參考資料</h4>
<p style="padding-left: 30px;"><a href="https://learnxinyminutes.com/docs/dart/?ref=hackr.io">https://learnxinyminutes.com/docs/dart/?ref=hackr.io</a></p>
<p style="padding-left: 30px;"><a href="https://itnext.io/learn-dart-before-you-flutter-d1c0be6cf892">https://itnext.io/learn-dart-before-you-flutter-d1c0be6cf892</a></p><h3>Dart on Server</h3>
<p><a href="https://dart-lang.github.io/server/">https://dart-lang.github.io/server/</a></p>
<p><a href="https://aqueduct.io/">https://aqueduct.io/</a></p>
<p><a href="https://github.com/stablekernel/aqueduct">https://github.com/stablekernel/aqueduct</a></p>
<p><a href="https://stablekernel.com/dart-on-the-server-aqueduct-3-for-dart-2/">https://stablekernel.com/dart-on-the-server-aqueduct-3-for-dart-2/</a></p>
<p><a href="https://stablekernel.com/future-server-side-programming-googles-dart-2/">https://stablekernel.com/future-server-side-programming-googles-dart-2/</a></p>
<p><a href="https://stablekernel.com/binding-rest-interface-postgres-dart/">https://stablekernel.com/binding-rest-interface-postgres-dart/</a></p>
<p><a href="https://stablekernel.com/concurrency-in-server-side-dart/">https://stablekernel.com/concurrency-in-server-side-dart/</a></p>
<p><a href="https://medium.com/swlh/server-side-dart-with-postgresql-142e9eec1ed1">https://medium.com/swlh/server-side-dart-with-postgresql-142e9eec1ed1</a></p>
<p><a href="https://itnext.io/part-2-a-complete-guide-for-building-restful-applications-using-aqueduct-c58688ab8b8e">https://itnext.io/part-2-a-complete-guide-for-building-restful-applications-using-aqueduct-c58688ab8b8e</a></p>
<p><a href="https://itnext.io/authentication-with-jwt-in-dart-6fbc70130806">https://itnext.io/authentication-with-jwt-in-dart-6fbc70130806</a></p>
<p>Chat in Dart: <a href="https://github.com/graphicbeacon/dart-bulma-chat-app">https://github.com/graphicbeacon/dart-bulma-chat-app</a> </p>
<p style="padding-left: 30px;"><a href="https://dev.to/graphicbeacon/build-a-basic-chat-application-in-dart-2-part-1-4ekj">https://dev.to/graphicbeacon/build-a-basic-chat-application-in-dart-2-part-1-4ekj</a></p>
<p style="padding-left: 30px;"><a href="https://dev.to/graphicbeacon/build-a-chat-application-in-dart-2-part-2-48df">https://dev.to/graphicbeacon/build-a-chat-application-in-dart-2-part-2-48df</a></p>
<p style="padding-left: 30px;"><a href="https://dev.to/graphicbeacon/build-a-chat-application-in-dart-part-3-1bm5">https://dev.to/graphicbeacon/build-a-chat-application-in-dart-part-3-1bm5</a></p>
<p>簡單的 http 伺服器:</p>
<pre class="brush:js;auto-links:false;toolbar:false" contenteditable="false">import 'dart:io';

main() async {
  var server = await HttpServer.bind(InternetAddress.LOOPBACK_IP_V4, 8080);
  print("Serving at ${server.address}:${server.port}");

  await for (var request in server) {
    request.response
      ..headers.contentType = new ContentType("text", "plain", charset: "utf-8")
      ..write('Hello, world')
      ..close();
  }
}</pre>
<p></p>
<h3>DartPad</h3>
<p style="padding-left: 30px;"><a href="https://dart.dev/tools/dartpad">https://dart.dev/tools/dartpad</a></p>
<p style="padding-left: 30px;"><a href="https://github.com/dart-lang/dart-pad">https://github.com/dart-lang/dart-pad</a></p>
<p style="padding-left: 30px;"><a href="https://dart.dev/tutorials/web/low-level-html/remove-elements">https://dart.dev/tutorials/web/low-level-html/remove-elements</a></p>
<p style="padding-left: 30px;"><a href="https://github.com/dart-lang/dart-pad/issues/1129">https://github.com/dart-lang/dart-pad/issues/1129</a></p>
<p style="padding-left: 30px;"><a href="https://github.com/grpc/grpc-dart">https://github.com/grpc/grpc-dart</a></p>
<p>Dartpad 的執行需要 <a href="https://github.com/dart-lang/dart-services">https://github.com/dart-lang/dart-services</a>, (所需設定位於 <a href="https://github.com/mdecourse/dartpad/blob/master/lib/services/common.dart">https://github.com/mdecourse/dartpad/blob/master/lib/services/common.dart</a>, 若需全部在近端使用 dartpad, 必須修改設定, 並自行啟動 dart-services), 因此使用跨網域啟動 dartpad 的 WWW 伺服器需要允許 <a href="https://en.wikipedia.org/wiki/Cross-origin_resource_sharing">https://en.wikipedia.org/wiki/Cross-origin_resource_sharing</a>, 同時在 dartpad 中提供資料的其他 WWW 伺服器也需要支援 CORS.</p>
<p>為了讓 CMSiMDE 能夠全域支援 CORS, 必須以 python -m pip install flask_cors 安裝 flask_cors, 並且在 CMSiMDE 的 <a href="https://github.com/mdecourse/cmsimde/blob/5acf7403a8e4615edc93711dcb17a5a56438e0bc/flaskapp.py">flaskapp.py</a> 中納入 CORS.</p>
<p>例如:</p>
<pre class="brush:py;auto-links:false;toolbar:false" contenteditable="false"># 導入CORS
# python -m pip install flask_cors
from flask_cors import CORS

# 其他原始碼

app = Flask(__name__)
CORS(app, support_credentials=False)

# 其他原始碼</pre>
<p></p>
<hr/>
<p>自行 Build dart-pad:</p>
<p>git clone <a href="https://github.com/dart-lang/dart-pad">https://github.com/dart-lang/dart-pad</a></p>
<p>之後, 進入 dart-pad 目錄之後, 以 pub get 取得所需 dependencies</p>
<p>然後以 webdev build 之後, 將會在 build  目錄中產生所需的相關檔案. <span>(注意: 使用 webdev.bat 時, 必須查看批次檔案中所引用的 dart 所在路徑是否正確)</span></p>
<p>之後刪除 .git 與 .gitignore 檔案,  將 build 目錄改名為 docs 並設為 Github Pages 得到:</p>
<p><a href="https://mde.tw/dartpad">https://mde.tw/dartpad</a> </p>
<p>若要自行以 Python 建立用來伺服 dartpad 的 WWW 伺服器, 必須送出 "Access-Control-Allow-Origin" header, 若採 https 則必須支援 TLS 1.2 以上的版本, 此伺服器所需的 self-signed certificate 可以利用:</p>
<p>openssl req -x509 -new -nodes -sha256 -utf8 -days 3650 -newkey rsa:2048 -keyout localhost.key -out localhost.crt</p>
<p>建立所需的 localhost.key 與 localhost.crt</p>
<p>範例倉儲:</p>
<p style="padding-left: 30px;"><a href="https://github.com/scrum-4/dartpad">https://github.com/scrum-4/dartpad</a></p>
<p>範例 dartpad:</p>
<p style="padding-left: 30px;"><a href="https://scrum-4.github.io/dartpad">https://scrum-4.github.io/dartpad</a> </p>
<p>可用於伺服 dartpad 的 http-server.py:</p>
<pre class="brush:py;auto-links:false;toolbar:false" contenteditable="false">import os
import subprocess
import threading
import http.server, ssl

# openssl req -x509 -new -nodes -sha256 -utf8 -days 3650 -newkey rsa:2048 -keyout localhost.key -out localhost.crt

class AcaoHTTPRequestHandler(http.server.SimpleHTTPRequestHandler):
    def end_headers(self):
        self.send_my_headers()

        http.server.SimpleHTTPRequestHandler.end_headers(self)

    def send_my_headers(self):
        self.send_header("Access-Control-Allow-Origin", "*")

def domake():
    # build directory
    #os.chdir("./../")
    server_address = ('localhost', 4444)
    httpd = http.server.HTTPServer(server_address, AcaoHTTPRequestHandler)
    httpd.socket = ssl.wrap_socket(httpd.socket,
                                   server_side=True,
                                   certfile='localhost.crt',
                                   keyfile='localhost.key',
                                   ssl_version=ssl.PROTOCOL_TLSv1_2)
    print(os.getcwd())
    print("4444 https server started")
    httpd.serve_forever()

# 利用執行緒執行 https 伺服器
make = threading.Thread(target=domake)
make.start()
</pre>
<p>Canvas 繪圖範例</p>
<p>main.dart</p>
<pre class="brush:js;auto-links:false;toolbar:false" contenteditable="false">import 'dart:html';
import 'dart:math' as Math;

CanvasElement canvas;    
CanvasRenderingContext2D ctx;
int width = 200;
int height = 200;

void main() {
  canvas = querySelector('#canvas');
  ctx = canvas.getContext('2d');
  
  canvas.width = width;
  canvas.height = height;
  ctx.clearRect(0, 0, width, height);

  ctx.beginPath();
  ctx.arc(75, 75, 30, 0, Math.pi * 2, true); 
  ctx.stroke();
}</pre>
<p>index.html</p>
<pre class="brush:html;auto-links:false;toolbar:false" contenteditable="false">&lt;div id="wrapper"&gt;
  &lt;canvas id="canvas" width="450" height="450"&gt;&lt;/canvas&gt;
&lt;/div&gt;
</pre>
<p>main.css</p>
<pre class="brush:css;auto-links:false;toolbar:false" contenteditable="false">html, body {
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
}

#wrapper {
  width: 450px;
  margin: auto;
  border: solid thin black;
}</pre>
<h4>ROC Flag on Dartpad:</h4>
<p style="padding-left: 30px;"><a href="http://mde.tw/dartpad/?id=b51f4d2a76e394421057a70e7d281b66">http://mde.tw/dartpad/?id=b51f4d2a76e394421057a70e7d281b66</a></p>
<p>將 Dart Pad 上的 rocflag.dart, index.html 與 style.css 整合為單一網際頁面的方法:</p>
<p>利用 dart2js 將 rocflag.dart 轉為 rocflag.js</p>
<p style="padding-left: 30px;">dart2js -o rocflag.js rocflag.dart</p>
<p>將 style.css 納入 index.html 中, 並導入 rocflag.js 程式.</p>
<pre class="brush:html;auto-links:false;toolbar:false" contenteditable="false">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;ROC Flag in Dart&lt;/title&gt;
  &lt;!-- 將 dartpad 中的 style.css 放入 head 標註中 &gt;
  &lt;style type="text/css"&gt;
      html, body {
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
    }

    #wrapper {
      width: 300px;
      margin: auto;
      border: solid thin black;
}
  &lt;/style&gt;
  &lt;!-- 將利用 dart2js 轉出的 rocflag.js 放入 script 標註中 &gt;
  &lt;script defer src="rocflag.js" type="application/javascript"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;!-- 將 dartpad 中 index.html 的 canvas 標註放入 body 頁面中 --&gt;
&lt;div id="wrapper"&gt;
  &lt;canvas id="canvas" width="300" height="200"&gt;&lt;/canvas&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
<p><a href="/downloads/dart_ex/rocflag/index.html">/downloads/dart_ex/rocflag/index.html</a></p>
<h3>petitparse</h3>
<p><a href="https://github.com/petitparser/dart-petitparser">https://github.com/petitparser/dart-petitparser</a></p>
<p><a href="https://pub.dev/packages/petitparser">https://pub.dev/packages/petitparser</a></p>
<h4>應用</h4>
<p>mkdir mocad</p>
<p>將 pubspec.yaml 放入 modad 目錄</p>
<p>cd mocad 後執行 pub install</p>
<p>執行 dart mocad.dart</p>
<p>得到結果:</p>
<p style="padding-left: 30px;">[null, null, 12, null, null, 23, null, null, 5]<br/>Success[1:12]: 40</p>
<p></p>
<p>表示 pititparser 成功解析出字串中的數字, 並且求出所有數字的和</p>
<p style="padding-left: 30px;">(digit().plus().flatten() | any().map((_) =&gt; null)).star()</p>
<p>表示, 先匹配多個連在一起的數字, 如果無法匹配, 則以 null 代替. 然後不斷重複此一過程直到解析完整個字串</p>
<p>其中使用下列解析語法:</p>
<p>digit() 解析一個數字<br/>any() 解析任一字串<br/>plus() 重複一次或多次<br/>star() 重複零次或多次<br/>flatten() 將匹配的結果轉為字串, 而不是數列<br/>map() 對匹配的結果進行轉換</p>
<p>pubspec.yaml</p>
<pre class="brush:js;auto-links:false;toolbar:false" contenteditable="false">name: mocad
version: 0.0.1
dependencies:
  petitparser: ^2.4.0</pre>
<p>mocad.dart</p>
<pre class="brush:dart;auto-links:false;toolbar:false" contenteditable="false">import "package:petitparser/petitparser.dart";

main() {
  var str = 'aa12bb23cc5';
  var parser =
      (digit().plus().flatten() | any().map((_) =&gt; null)).star().map((each) {
    print(each);
    var total = 0;
    for (String numStr in each) {
      if (numStr != null) {
        total += int.parse(numStr);
      }
    }
    return total;
  });
  var total = parser.parse(str);
  print(total);
}
</pre>
<p>Another example:</p>
<p>calc.dart</p>
<pre class="brush:dart;auto-links:false;toolbar:false" contenteditable="false">/// Calculator from the tutorial.
library petitparser.example.calc;

import 'dart:math';

import 'package:petitparser/petitparser.dart';

Parser buildParser() {
  final builder = ExpressionBuilder();
  builder.group()
    ..primitive((pattern('+-').optional() &amp;
            digit().plus() &amp;
            (char('.') &amp; digit().plus()).optional() &amp;
            (pattern('eE') &amp; pattern('+-').optional() &amp; digit().plus())
                .optional())
        .flatten('number expected')
        .trim()
        .map(num.tryParse))
    ..wrapper(
        char('(').trim(), char(')').trim(), (left, value, right) =&gt; value);
  builder.group()..prefix(char('-').trim(), (op, a) =&gt; -a);
  builder.group()..right(char('^').trim(), (a, op, b) =&gt; pow(a, b));
  builder.group()
    ..left(char('*').trim(), (a, op, b) =&gt; a * b)
    ..left(char('/').trim(), (a, op, b) =&gt; a / b);
  builder.group()
    ..left(char('+').trim(), (a, op, b) =&gt; a + b)
    ..left(char('-').trim(), (a, op, b) =&gt; a - b);
  return builder.build().end();
}

void main(List&lt;String&gt; arguments) {
  final parser = buildParser();
  final input = arguments.join(' ');
  final result = parser.parse(input);
  if (result.isSuccess) {
    print(' = ${result.value}');
  } else {
    print(input);
    print('${' ' * (result.position - 1)}^-- ${result.message}');
  }
}
</pre>
<p>dart calc.dart 3+5*9-4</p>
<p style="padding-left: 30px;">會列出 = 44</p>
<p>接下來要嘗試利用 petitparser 解析</p>
<p>M[J[R,color[Green],P[0,0],L[ground,L1]],J[R,color[Green],P[12.92,32.53],L[L1,L2]],J[R,color[Green],P[73.28,67.97],L[L2,L3]],J[R,color[Green],P[33.3,66.95],L[L2]],J[R,color[Green],P[90,0],L[ground,L3]]]</p>
<p>以計算機構自由度, 各點座標位置, 以及所使用轉動軸類型與總數.</p>
<h4>參考資料</h4>
<p style="padding-left: 30px;"><a href="/downloads/PetitParser.pdf">PetitParser.pdf</a></p>
<p style="padding-left: 30px;"><a href="/downloads/Parsing Contexts-Context Sensitive Grammars for Everyone.pdf">Parsing Contexts-Context Sensitive Grammars for Everyone.pdf</a></p>
<p style="padding-left: 30px;"><a href="https://www.lukas-renggli.ch/blog/petitparser-java-dart">https://www.lukas-renggli.ch/blog/petitparser-java-dart</a></p>
<p style="padding-left: 30px;"><a href="https://en.wikipedia.org/wiki/Comparison_of_parser_generators">https://en.wikipedia.org/wiki/Comparison_of_parser_generators</a></p>
<p style="padding-left: 30px;"><a href="https://pypi.org/project/ptTools/">https://pypi.org/project/ptTools/</a></p>
<p style="padding-left: 30px;">Pyslvs use lark to parse PMKS format mechanism string.</p>
<p style="padding-left: 60px;"><a href="https://github.com/lark-parser/lark">https://github.com/lark-parser/lark</a></p>
<p style="padding-left: 60px;"><a href="https://pypi.org/project/parsimonious/">https://pypi.org/project/parsimonious/</a></p>
<p style="padding-left: 60px;"><a href="https://en.wikipedia.org/wiki/Parsing_expression_grammar">PEG</a> vs <a href="https://en.wikipedia.org/wiki/LALR_parser">LAIR</a>: <a href="https://github.com/lark-parser/lark/issues/218">https://github.com/lark-parser/lark/issues/218</a></p>
<p style="padding-left: 30px;">var parser = letter().seq(letter().or(digit()).star());</p>
<p style="padding-left: 30px;">var parser = letter() &amp; (letter() | digit()).star();</p>
<p style="padding-left: 30px;">var parser = digit().plus().flatten().map((input) =&gt; Math.parseInt(input));</p>
<p style="padding-left: 30px;"><a href="https://github.com/KmolYuan/Pyslvs-UI">Pyslvs</a> 中用於解析機構表示式的 <a href="https://github.com/KmolYuan/pyslvs/blob/master/pyslvs/expression_parser.py">expression_parser.py</a></p>
<pre class="brush:py;auto-links:false;toolbar:false" contenteditable="false"># -*- coding: utf-8 -*-

"""Lark parser to parse the expression."""

__author__ = "Yuan Chang"
__copyright__ = "Copyright (C) 2016-2019"
__license__ = "AGPL"
__email__ = "pyslvs@gmail.com"

from typing import (
    Tuple,
    List,
    Dict,
    Iterator,
    Union,
    Optional,
)
from lark import Lark, Transformer, LexError
from lark.lexer import Token
try:
    from .expression import (
        get_vlinks,
        VJoint,
        VPoint,
        VLink,
    )
    from .graph import Graph
except ImportError:
    from expression import (
        get_vlinks,
        VJoint,
        VPoint,
        VLink,
    )
    from graph import Graph

# Color dictionary.
_color_list: Dict[str, Tuple[int, int, int]] = {
    'Red': (172, 68, 68),
    'Green': (110, 190, 30),
    'Blue': (68, 120, 172),
    'Cyan': (0, 255, 255),
    'Magenta': (255, 0, 255),
    'Brick-Red': (255, 130, 130),
    'Yellow': (255, 255, 0),
    'Gray': (160, 160, 160),
    'Orange': (225, 165, 0),
    'Pink': (225, 192, 230),
    'Black': (0, 0, 0),
    'White': (255, 255, 255),
    'Dark-Red': (128, 0, 0),
    'Dark-Green': (0, 128, 0),
    'Dark-Blue': (0, 0, 128),
    'Dark-Cyan': (128, 0, 128),
    'Dark-Magenta': (255, 0, 255),
    'Dark-Yellow': (128, 128, 0),
    'Dark-Gray': (128, 128, 128),
    'Dark-Orange': (225, 140, 0),
    'Dark-Pink': (225, 20, 147),
}

color_names = tuple(sorted(_color_list.keys()))


def color_rgb(name: str) -&gt; Tuple[int, int, int]:
    """Get color by name.

    + Invalid color
    + Color key
    + RGB string "(r, g, b)".
    """
    if name in _color_list:
        return _color_list[name]
    else:
        try:
            # Input RGB as a "(255, 255, 255)" string.
            color_text: Tuple[int, int, int] = tuple(int(i) for i in (
                name.replace('(', '')
                .replace(')', '')
                .replace(" ", '')
                .split(',', maxsplit=3)
            ))
        except ValueError:
            return 0, 0, 0
        else:
            return color_text


_GRAMMAR = Lark(r"""
    // Number
    DIGIT: "0".."9"
    INT: DIGIT+
    SIGNED_INT: ["+" | "-"] INT
    DECIMAL: INT "." INT? | "." INT
    _EXP: ("e" | "E") SIGNED_INT
    FLOAT: INT _EXP | DECIMAL _EXP?
    NUMBER: FLOAT | INT
    SIGNED_NUMBER: ["+" | "-"] NUMBER

    // Letters
    LCASE_LETTER: "a".."z"
    UCASE_LETTER: "A".."Z"
    LETTER: UCASE_LETTER | LCASE_LETTER | "_"
    CNAME: LETTER (LETTER | DIGIT)*

    // White space and new line
    WS: /\s+/
    CR: /\r/
    LF: /\n/
    NEWLINE: (CR? LF)+
    %ignore WS
    %ignore NEWLINE

    // Comment
    LINE_COMMENT: /#[^\n]*/
    MULTILINE_COMMENT: /#\[[\s\S]*#\][^\n]*/
    %ignore LINE_COMMENT
    %ignore MULTILINE_COMMENT

    // Custom data type
    JOINT_TYPE: "RP" | "R" | "P"
    COLOR: """ + "|".join(f'"{color}"' for color in color_names) + r"""
    type: JOINT_TYPE
    name: CNAME
    number: SIGNED_NUMBER
    color_value: INT

    // Main grammar
    joint: "J[" type ["," angle] ["," color] "," point "," link "]"
    link: "L[" [name ("," name)* ","?] "]"
    point: "P[" number "," number "]"
    angle: "A[" number "]"
    color: "color[" (("(" color_value ("," color_value) ~ 2 ")") | COLOR) "]"
    mechanism: "M[" [joint ("," joint)* ","?] "]"
    ?start: mechanism
""", parser='lalr')


class _ParamsTrans(Transformer):

    """Transformer will parse into a list of VPoint data."""

    @staticmethod
    def type(n: List[Token]) -&gt; str:
        return str(n[0])

    name = type

    @staticmethod
    def color(n: List[Token]) -&gt; str:
        return str(n[0]) if len(n) == 1 else str(tuple(n))

    @staticmethod
    def color_value(n: List[Token]) -&gt; int:
        return int(n[0])

    @staticmethod
    def number(n: List[Token]) -&gt; float:
        return float(n[0])

    @staticmethod
    def point(c: List[Token]) -&gt; Tuple[Token]:
        return tuple(c)

    angle = number

    @staticmethod
    def link(a: List[Token]) -&gt; Tuple[Token]:
        return tuple(a)

    @staticmethod
    def joint(args: List[Token]) -&gt; List[Union[str, int, float]]:
        """Sort the argument list.

        [0]: type
        ([1]: angle)
        ([2]: color)
        [-2]: point (coordinate)
        [-1]: link
        """
        type_str = args[0]
        x, y = args[-2]
        links = ','.join(args[-1])
        if type_str == 'R':
            if len(args) == 3:
                return [links, 'R', 'Green', x, y]
            elif len(args) == 4:
                return [links, 'R', args[-3], x, y]
        else:
            type_angle = f'{args[0]}:{args[1]}'
            if len(args) == 4:
                return [links, type_angle, 'Green', x, y]
            elif len(args) == 5:
                return [links, type_angle, args[-3], x, y]

        raise LexError(f"invalid options: {args}")

    @staticmethod
    def mechanism(joints: List[Token]) -&gt; List[Token]:
        return joints


class _PositionTrans(_ParamsTrans):

    """Transformer will parse into a list of position data."""

    @staticmethod
    def joint(args: List[Token]) -&gt; Tuple[float, float]:
        x, y = args[-2]
        return x, y


class _VPointsTrans(_ParamsTrans):

    """Using same grammar return as VPoints."""

    @staticmethod
    def type(n: List[Token]) -&gt; VJoint:
        """Return as int type."""
        type_str = str(n[0])
        if type_str == 'R':
            return VJoint.R
        elif type_str == 'P':
            return VJoint.P
        elif type_str == 'RP':
            return VJoint.RP

    @staticmethod
    def joint(args: List[Token]) -&gt; VPoint:
        """Same as parent."""
        type_int = args[0]
        x, y = args[-2]
        links: Tuple[str, ...] = args[-1]
        if type_int == VJoint.R:
            if len(args) == 3:
                return VPoint.r_joint(links, x, y)
            elif len(args) == 4:
                return VPoint(links, VJoint.R, 0., args[-3], x, y, color_rgb)
        else:
            if len(args) == 4:
                return VPoint.slider_joint(links, type_int, args[1], x, y)
            elif len(args) == 5:
                return VPoint(links, type_int, args[1], args[-3], x, y, color_rgb)

        raise LexError(f"invalid options: {args}")


_params_translator = _ParamsTrans()
_pos_translator = _PositionTrans()
_vpoint_translator = _VPointsTrans()


def parse_params(expr: str) -&gt; List[List[Union[str, float]]]:
    """Using to parse the expression and return arguments."""
    return _params_translator.transform(_GRAMMAR.parse(expr))


def parse_pos(expr: str) -&gt; List[Tuple[float, float]]:
    """Using to parse the expression and return arguments."""
    return _pos_translator.transform(_GRAMMAR.parse(expr))


def parse_vpoints(expr: str) -&gt; List[VPoint]:
    """Parse as VPoints."""
    return _vpoint_translator.transform(_GRAMMAR.parse(expr))


def parse_vlinks(expr: str) -&gt; List[VLink]:
    """Parse as VLinks."""
    return get_vlinks(parse_vpoints(expr))


def edges_view(graph: Graph) -&gt; Iterator[Tuple[int, Tuple[int, int]]]:
    """This generator can keep the numbering be consistent."""
    yield from enumerate(sorted(tuple(sorted(e)) for e in graph.edges))


def graph2vpoints(
    graph: Graph,
    pos: Dict[int, Tuple[float, float]],
    cus: Optional[Dict[int, int]] = None,
    same: Optional[Dict[int, int]] = None,
    grounded: Optional[int] = None
) -&gt; List[VPoint]:
    """Change NetworkX graph into VPoints.

    cus: custom nodes (not joint)
        {node_name: link_number}
    same: multiple joints
        {n1: n2, n3: n2} =&gt; (n1 as n2) and (n3 as n2)
    """
    if cus is None:
        cus: Dict[int, int] = {}
    if same is None:
        same: Dict[int, int] = {}

    same_r = {}
    for k, v in same.items():
        if v in same_r:
            same_r[v].append(k)
        else:
            same_r[v] = [k]
    tmp_list = []
    ev = dict(edges_view(graph))
    for i, edge in ev.items():
        if i in same:
            # Do not connect to anyone!
            continue
        edge = set(edge)
        if i in same_r:
            for j in same_r[i]:
                edge.update(set(ev[j]))
        x, y = pos[i]
        links = [(f"L{link}" if link != grounded else 'ground') for link in edge]
        tmp_list.append(VPoint.r_joint(links, x, y))
    for name in sorted(cus):
        link = f"L{cus[name]}" if cus[name] != grounded else 'ground'
        x, y = pos[name]
        tmp_list.append(VPoint.r_joint((link,), x, y))
    return tmp_list


try:
    from pygments.lexer import RegexLexer
    from pygments.token import (
        Comment,
        Keyword,
        Name,
        Number,
    )
except ImportError:
    HAS_PYGMENTS = False
else:
    HAS_PYGMENTS = True

    class PMKSLexer(RegexLexer):

        """Mechanism expression highlighter by Pygments."""

        name = 'Mechanism Expression'

        tokens = {
            'root': [
                (r'#[^\n]*', Comment.Single),
                (r'#\[[\s\S]*#\][^\n]*', Comment.Multiple),
                (r'M|J|L|P|A|color', Name.Function),
                ('|'.join(f"{color}" for color in reversed(color_names)), Name.Variable),
                (r'RP|R|P', Keyword.Constant),
                (r'(\d+\.\d*|\.\d+)([eE][+-]?\d+)?', Number.Float),
            ]
        }
</pre>
<p style="padding-left: 30px;"></p><h3>MOCAD</h3>
<p>Mobile Oriented Computer Aided Design</p>
<p><a href="https://dart.dev/tutorials/web/fetch-data">https://dart.dev/tutorials/web/fetch-data</a></p>